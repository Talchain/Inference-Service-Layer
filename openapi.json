{
  "openapi": "3.1.0",
  "info": {
    "title": "Olumi Inference Service Layer",
    "description": "Deterministic scientific computation core for decision enhancement",
    "version": "0.1.0"
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health check",
        "description": "Returns service health status for monitoring and load balancers.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Service is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/ready": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Readiness check",
        "description": "Returns service readiness status for Kubernetes-style readiness probes.",
        "operationId": "readiness_check_ready_get",
        "responses": {
          "200": {
            "description": "Service is ready to accept traffic",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/cache/stats": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Cache statistics",
        "description": "Returns in-memory cache performance statistics for monitoring.",
        "operationId": "cache_stats_cache_stats_get",
        "responses": {
          "200": {
            "description": "Cache statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Cache Stats Cache Stats Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/services": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Service health status",
        "description": "Returns health status of all monitored services for error recovery monitoring.",
        "operationId": "service_health_health_services_get",
        "responses": {
          "200": {
            "description": "Service health information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Service Health Health Services Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/circuit-breakers": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Circuit breaker status",
        "description": "Returns status of all circuit breakers for expensive operations monitoring.",
        "operationId": "circuit_breaker_status_health_circuit_breakers_get",
        "responses": {
          "200": {
            "description": "Circuit breaker information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Circuit Breaker Status Health Circuit Breakers Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/validate": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Validate causal model structure",
        "description": "Validates whether a causal model (DAG) supports causal identification\n    for a given treatment-outcome pair.\n\n    Returns adjustment sets if identifiable, or specific issues if not.\n\n    **Use when:** Building a decision model, before running scenarios.\n\n    **Returns:**\n    - `identifiable`: Valid adjustment sets provided (with method, formula, assumptions)\n    - `uncertain`: Potential issues detected, clarification needed\n    - `cannot_identify`: Fundamental structural problems (with reason and suggestions)\n    - `degraded`: Advanced analysis failed, fallback assessment provided",
        "operationId": "validate_causal_model_api_v1_causal_validate_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CausalValidationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CausalValidationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., empty DAG, node not found)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/counterfactual": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Perform counterfactual analysis",
        "description": "Analyzes what would happen under a counterfactual intervention.\n\n    Provides:\n    - Point estimates and confidence intervals\n    - Uncertainty breakdown by source\n    - Robustness analysis\n    - Critical assumptions\n\n    **Use when:** Evaluating \"what if\" scenarios for decision making.",
        "operationId": "analyze_counterfactual_api_v1_causal_counterfactual_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounterfactualRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Counterfactual analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounterfactualResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., malformed structural model)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/counterfactual/batch": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Batch counterfactual analysis with interaction detection",
        "description": "Analyzes multiple counterfactual scenarios in a single request with interaction detection.\n\n    Provides:\n    - Individual predictions for each scenario\n    - Interaction analysis (synergistic/antagonistic effects)\n    - Scenario comparison and ranking\n    - Marginal gains analysis\n\n    **Features:**\n    - Shared exogenous samples for determinism across scenarios\n    - Automatic detection of variable interactions\n    - Efficient batch processing\n    - Consistent uncertainty quantification\n\n    **Use when:** Comparing multiple intervention strategies or testing parameter combinations.\n\n    **Example Use Cases:**\n    - Testing price AND quality changes together\n    - Comparing aggressive vs conservative strategies\n    - Detecting when interventions amplify or cancel each other",
        "operationId": "analyze_batch_counterfactual_api_v1_causal_counterfactual_batch_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__models__requests__BatchCounterfactualRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch counterfactual analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__models__responses__BatchCounterfactualResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., too few scenarios, malformed model)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/counterfactual/conformal": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Conformal prediction for counterfactuals",
        "description": "Generate counterfactual predictions with conformal prediction intervals.\n\n    Provides finite-sample valid prediction intervals with guaranteed coverage,\n    offering provable uncertainty quantification beyond standard Monte Carlo methods.\n\n    **Key Features:**\n    - Distribution-free (no parametric assumptions)\n    - Finite-sample validity (not asymptotic)\n    - Guaranteed coverage: P(Y \u2208 interval) \u2265 1-\u03b1\n    - Adaptive to local uncertainty\n    - Comparison to Monte Carlo intervals\n\n    **Use when:** You need rigorous uncertainty guarantees for counterfactual\n    predictions, especially in high-stakes decisions where coverage matters.\n\n    **Example Use Cases:**\n    - Safety-critical predictions requiring provable bounds\n    - Regulatory compliance needing formal guarantees\n    - Scientific research requiring rigorous uncertainty quantification\n    - Model validation and calibration assessment\n\n    **Requirements:**\n    - Calibration data: At least 10 historical observations (more is better)\n    - Exchangeability: Calibration and test points from same distribution",
        "operationId": "conformal_counterfactual_prediction_api_v1_causal_counterfactual_conformal_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConformalCounterfactualRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conformal prediction completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConformalCounterfactualResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or insufficient calibration data"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/transport": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Analyze causal effect transportability",
        "description": "Determines whether a causal effect identified in a source domain\n    can be validly transported to a target domain.\n\n    Provides:\n    - Transportability assessment (yes/no)\n    - Transport formula if transportable\n    - Required assumptions with testability\n    - Robustness assessment\n    - Suggestions if not transportable\n\n    **Use when:** Deciding if findings from one context (e.g., UK market)\n    apply to another context (e.g., Germany market).\n\n    **Example Use Cases:**\n    - Does price sensitivity learned in UK work in France?\n    - Can clinical trial results from one population apply to another?\n    - Will marketing effects from online channels work offline?",
        "operationId": "analyze_transportability_api_v1_causal_transport_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransportabilityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Transportability analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransportabilityResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., malformed DAG, missing nodes)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/validate/strategies": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Get complete adjustment strategies for identifiability",
        "description": "Provides complete adjustment strategies for non-identifiable DAGs.\n\n    Goes beyond simple validation to provide actionable suggestions on how to\n    make a non-identifiable causal effect identifiable through:\n    - Backdoor adjustment strategies\n    - Frontdoor adjustment strategies\n    - Instrumental variable strategies\n\n    Each strategy specifies exactly which nodes and edges to add to the DAG\n    to achieve identifiability, along with theoretical justification.\n\n    **Features:**\n    - Complete path analysis (backdoor, frontdoor, blocked paths)\n    - Critical node identification\n    - Ranked strategies by expected success\n    - Theoretical basis for each strategy\n\n    **Use when:** You have a non-identifiable DAG and need guidance on\n    how to modify it or what additional data to collect.",
        "operationId": "get_validation_strategies_api_v1_causal_validate_strategies_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ValidationStrategyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Strategy analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationStrategyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/discover/from-data": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Discover causal structure from data",
        "description": "Automatically discovers DAG structures from observational data.\n\n    Uses correlation-based structure learning to suggest plausible\n    causal graphs based on statistical relationships in the data.\n\n    **Features:**\n    - Correlation-based edge detection\n    - Prior knowledge integration (required/forbidden edges)\n    - Confidence scoring for discovered structures\n    - Automatic cycle detection and acyclicity enforcement\n\n    **Use when:** You have observational data but no clear causal model,\n    or want to validate your domain knowledge against data.\n\n    **Requirements:**\n    - At least 10 observations (more is better)\n    - 2-50 variables\n    - Data should be roughly stationary",
        "operationId": "discover_from_data_api_v1_causal_discover_from_data_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DiscoveryFromDataRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Discovery completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiscoveryResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or insufficient data"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/discover/from-knowledge": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Discover causal structure from domain knowledge",
        "description": "Suggests DAG structures based on domain knowledge description.\n\n    Uses heuristics and pattern matching to generate plausible causal\n    structures from natural language descriptions.\n\n    **Features:**\n    - Multiple candidate DAGs ranked by plausibility\n    - Prior knowledge integration\n    - Common causal patterns (chains, forks, colliders)\n\n    **Use when:** You have domain knowledge but need help formalizing\n    it into a DAG structure.\n\n    **Example:** \"Price affects revenue, quality affects both price and\n    revenue\" \u2192 generates candidate DAGs",
        "operationId": "discover_from_knowledge_api_v1_causal_discover_from_knowledge_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DiscoveryFromKnowledgeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Discovery completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiscoveryResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/experiment/recommend": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Recommend next experiment using Thompson sampling",
        "description": "Recommends the next experiment to run using Thompson sampling.\n\n    Balances exploration (learning about parameters) with exploitation\n    (optimizing the outcome) to maximize long-term value of experimentation.\n\n    **Features:**\n    - Thompson sampling for optimal exploration/exploitation\n    - Bayesian belief updating\n    - Information gain estimation\n    - Cost-benefit analysis\n    - Rationale generation\n\n    **Use when:** Running sequential experiments where you want to\n    learn efficiently while also optimizing outcomes.\n\n    **Example Use Cases:**\n    - A/B testing campaigns\n    - Clinical trial design\n    - Product optimization experiments\n    - Scientific inquiry with limited budget",
        "operationId": "recommend_experiment_api_v1_causal_experiment_recommend_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExperimentRecommendationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Recommendation generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentRecommendationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/parameter-recommendations": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Parameter range recommendations",
        "description": "Suggest optimal weight and belief ranges based on causal graph topology.\n\n    Provides:\n    - Weight ranges for edges based on critical path analysis\n    - Belief ranges for nodes based on causal role\n    - Importance rankings for all parameters\n    - Rationale for each recommendation\n\n    **Use when:** Calibrating parameter values or validating existing estimates.",
        "operationId": "recommend_parameters_api_v1_causal_parameter_recommendations_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ParameterRecommendationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Parameter recommendations generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParameterRecommendationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid graph structure"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/sensitivity/detailed": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Detailed sensitivity analysis for causal assumptions",
        "description": "Quantifies how sensitive causal estimates are to assumption violations.\n\n    Moves beyond discrete robustness categories (robust/moderate/fragile)\n    to continuous sensitivity metrics with elasticity calculations.\n\n    **Features:**\n    - Quantitative sensitivity metrics (elasticity, outcome ranges)\n    - Critical assumption identification\n    - Elasticity: % change in outcome per % change in assumption violation\n    - Robustness scores (0=fragile, 1=robust)\n    - Recommendations for strengthening assumptions\n\n    **Tested Assumptions:**\n    - No unobserved confounding\n    - Linear effects\n    - No selection bias\n    - Causal sufficiency\n    - Positivity\n    - Consistency\n\n    **Use when:** You need to understand which assumptions matter most\n    for your causal estimates and how robust your results are.\n\n    **Example:** \"If unobserved confounding increases by 10%, how much\n    does my outcome estimate change?\"",
        "operationId": "analyze_detailed_sensitivity_api_v1_causal_sensitivity_detailed_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SensitivityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sensitivity analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensitivityReport"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/causal/extract-factors": {
      "post": {
        "tags": [
          "Causal Inference"
        ],
        "summary": "Extract causal factors from unstructured data",
        "description": "Extract latent causal factors from unstructured text data using representation learning.\n\n    Uses text embedding and clustering to identify themes/factors in:\n    - Support tickets\n    - Customer reviews\n    - User feedback\n    - Survey responses\n    - Error logs\n\n    **Features:**\n    - Automatic factor identification\n    - Keyword extraction per factor\n    - Suggested DAG structure\n    - Factor prevalence and strength scores\n\n    **Use when:** You have qualitative data and want to identify potential\n    causal factors to include in your model.\n\n    **Example:** Support tickets \u2192 [\"usability_issues\", \"performance_problems\"]\n    \u2192 suggested DAG with these as causes of churn",
        "operationId": "extract_causal_factors_api_v1_causal_extract_factors_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FactorExtractionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Factor extraction completed successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., not enough data)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/batch/validate": {
      "post": {
        "tags": [
          "Batch Processing"
        ],
        "summary": "Batch causal validation",
        "description": "Validates multiple causal models in parallel for 5-10x speedup.\n\n    **Limits:**\n    - Max requests per batch: 50\n    - Concurrent tasks: 10\n\n    **Behavior:**\n    - Processes requests concurrently using asyncio\n    - Returns partial results if some requests fail\n    - Each result includes success status and error details\n    - Individual request timeout: 30 seconds\n\n    **Use when:** Validating multiple causal models at once (e.g., scenario comparison).",
        "operationId": "batch_validate_causal_models_api_v1_batch_validate_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchValidationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch processing completed (may include partial failures)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchValidationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., batch too large, empty batch)"
          },
          "500": {
            "description": "Internal error prevented batch processing"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/batch/counterfactual": {
      "post": {
        "tags": [
          "Batch Processing"
        ],
        "summary": "Batch counterfactual analysis",
        "description": "Analyzes multiple counterfactual scenarios in parallel for 5-10x speedup.\n\n    **Limits:**\n    - Max requests per batch: 20\n    - Concurrent tasks: 10\n\n    **Behavior:**\n    - Processes requests concurrently using asyncio\n    - Returns partial results if some requests fail\n    - Each result includes success status and error details\n    - Individual request timeout: 30 seconds\n\n    **Use when:** Evaluating multiple \"what if\" scenarios simultaneously.",
        "operationId": "batch_analyze_counterfactuals_api_v1_batch_counterfactual_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__api__batch__BatchCounterfactualRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch processing completed (may include partial failures)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__api__batch__BatchCounterfactualResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., batch too large, empty batch)"
          },
          "500": {
            "description": "Internal error prevented batch processing"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/teaching/teach": {
      "post": {
        "tags": [
          "Bayesian Teaching"
        ],
        "summary": "Generate teaching examples",
        "description": "Generates pedagogically optimized teaching examples using Bayesian teaching.\n\n    Selects examples that maximize learning efficiency given user's current\n    understanding. Uses information theory to choose examples that most\n    efficiently teach the target concept.\n\n    **Algorithm:** Bayesian Teaching (Zhu et al.)\n    - Selects examples that maximize: P(understanding | example, current_beliefs)\n    - Considers novelty, clarity, and relevance\n    - Adapts to user's knowledge state\n\n    **Supported Concepts:**\n    - `confounding`: Understanding confounding variables and spurious correlations\n    - `trade_offs`: Understanding trade-offs between competing objectives\n    - `causal_mechanism`: Understanding causal mechanisms and pathways\n    - `uncertainty`: Understanding uncertainty and risk\n    - `optimization`: Understanding optimization under constraints\n\n    **Use when:**\n    - User needs to learn a specific concept\n    - Want to provide pedagogically optimal examples\n    - Need to adapt teaching to user's current understanding\n\n    **Returns:**\n    - Ranked teaching examples with pedagogical rationale\n    - Learning objectives\n    - Expected learning time\n    - Overall teaching strategy explanation",
        "operationId": "generate_teaching_examples_api_v1_teaching_teach_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BayesianTeachingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Teaching examples generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BayesianTeachingResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., unknown concept)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/validation/validate": {
      "post": {
        "tags": [
          "Advanced Validation"
        ],
        "summary": "Perform advanced model validation",
        "description": "Performs comprehensive validation of causal models.\n\n    **Validation Levels:**\n    - `BASIC`: Quick structural checks only\n    - `STANDARD`: Structural + statistical checks (default)\n    - `COMPREHENSIVE`: All checks + detailed analysis\n\n    **Validation Types:**\n    1. **Structural**: DAG properties, cycles, connectivity, size\n    2. **Statistical**: Distributions, parameters, equations\n    3. **Domain**: Best practices, naming conventions\n\n    **Target**: 90%+ issue detection rate\n\n    **Returns:**\n    - Overall quality assessment (EXCELLENT/GOOD/ACCEPTABLE/POOR)\n    - Numerical quality score (0-100)\n    - Detailed validation results by category\n    - Actionable suggestions for improvements\n    - Best practice adherence checks\n\n    **Use when:**\n    - Building a new causal model\n    - Before running causal inference\n    - Reviewing model quality\n    - Need suggestions for improvements",
        "operationId": "validate_model_api_v1_validation_validate_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdvancedValidationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdvancedValidationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/validation/feasibility": {
      "post": {
        "tags": [
          "Advanced Validation"
        ],
        "summary": "Check option feasibility against constraints",
        "description": "Validates constraint specifications and checks which options satisfy\n    or violate the specified constraints.\n\n    **Constraint Types:**\n    - `threshold`: Value must be above/below threshold\n    - `budget`: Resource allocation constraint\n    - `capacity`: Maximum capacity constraint\n    - `dependency`: One option depends on another\n    - `exclusion`: Mutually exclusive options\n    - `requirement`: Required condition\n\n    **Constraint Relations:**\n    - `le`: Less than or equal (<=)\n    - `ge`: Greater than or equal (>=)\n    - `eq`: Equal (=)\n    - `lt`: Less than (<)\n    - `gt`: Greater than (>)\n\n    **Constraint Priorities:**\n    - `hard`: Must be satisfied (violation makes option infeasible)\n    - `medium`: Should be satisfied (violation reported)\n    - `soft`: Nice to have (only included if `include_partial_violations=true`)\n\n    **Returns:**\n    - Constraint validation results (are constraints properly specified?)\n    - Feasibility results (which options pass/fail?)\n    - Violation details (how much does each option violate?)\n    - Warnings (edge cases, near-misses)\n\n    **Use when:**\n    - Checking if decision options meet business constraints\n    - Filtering options before optimization\n    - Understanding why certain options are infeasible",
        "operationId": "check_feasibility_api_v1_validation_feasibility_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeasibilityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Feasibility check completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeasibilityResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/validation/coherence": {
      "post": {
        "tags": [
          "Advanced Validation"
        ],
        "summary": "Analyze coherence of inference results",
        "description": "Provides coherence checks for inference results including:\n\n    **Coherence Checks:**\n    - **Negative Expected Value**: Detects when top option has negative expected value\n    - **Close Races**: Detects when options are within the specified threshold\n    - **Ranking Instability**: Tests if rankings change under small perturbations\n\n    **Stability Classifications:**\n    - `stable`: Rankings change in <10% of perturbations\n    - `sensitive`: Rankings change in 10-30% of perturbations\n    - `unstable`: Rankings change in >30% of perturbations\n\n    **Analysis Features:**\n    - Margin-to-second calculation (absolute and percentage)\n    - Perturbation-based stability testing\n    - Identification of most frequent alternative top option\n    - Confidence interval overlap detection\n\n    **Returns:**\n    - Coherence analysis (top_option_positive, margin_to_second, ranking_stability)\n    - Stability analysis (perturbation results, change rate)\n    - Actionable recommendations\n    - Warnings for edge cases\n\n    **Use when:**\n    - Validating inference results before presenting to users\n    - Understanding decision robustness\n    - Identifying close races that need more analysis\n    - Integration with PLoT proxy for CEE narrative generation",
        "operationId": "analyze_coherence_api_v1_validation_coherence_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CoherenceAnalysisRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Coherence analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoherenceAnalysisResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., fewer than 2 options)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/validation/correlations": {
      "post": {
        "tags": [
          "Advanced Validation"
        ],
        "summary": "Validate factor correlation specifications",
        "description": "Validates correlation group specifications for factor sampling.\n\n    **Input Methods:**\n    1. **Correlation Groups**: List of groups with pairwise correlations\n    2. **Correlation Matrix**: Full n\u00d7n correlation matrix\n\n    **Correlation Group Schema:**\n    ```json\n    {\n      \"group_id\": \"market_conditions\",\n      \"factors\": [\"demand\", \"competition\"],\n      \"correlation\": 0.7,\n      \"label\": \"Market factors tend to move together\"\n    }\n    ```\n\n    **Validation Checks:**\n    - Correlation values in range [-1, 1]\n    - Matrix is positive semi-definite (required for sampling)\n    - Factor references exist in graph (if provided)\n    - No conflicting correlations between groups\n    - High correlation warnings (potential redundancy)\n\n    **Matrix Analysis:**\n    - `is_positive_semi_definite`: Can matrix be used for sampling?\n    - `min_eigenvalue`: Smallest eigenvalue (negative = not PSD)\n    - `condition_number`: Numerical stability indicator\n    - `suggested_regularization`: Fix for non-PSD matrices\n\n    **Returns:**\n    - `valid`: Whether specification is valid for sampling\n    - `validated_groups`: Per-group validation results\n    - `implied_matrix`: The full correlation matrix implied by groups\n    - `matrix_analysis`: Eigenvalue and PSD analysis\n    - `warnings`: Non-fatal issues (high correlations, etc.)\n    - `errors`: Fatal issues (not PSD, conflicting correlations)\n\n    **Use when:**\n    - Setting up correlated factor sampling for Monte Carlo\n    - Validating correlation assumptions from domain knowledge\n    - PLoT consuming correlation groups for scenario generation",
        "operationId": "validate_correlations_api_v1_validation_correlations_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CorrelationValidationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation completed (check 'valid' field for result)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CorrelationValidationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request format"
          },
          "422": {
            "description": "Must provide correlation_groups or correlation_matrix"
          },
          "500": {
            "description": "Internal validation error"
          }
        }
      }
    },
    "/api/v1/utility/validate": {
      "post": {
        "tags": [
          "Utility Functions"
        ],
        "summary": "Validate utility function specification",
        "description": "Validates a utility function specification for multi-goal aggregation.\n\n    **Input Shape:**\n    - `goals`: List of goals with optional weights, directions, and priorities\n    - `aggregation_method`: Method for combining goal values\n    - `risk_tolerance`: Risk attitude for utility computation\n\n    **Aggregation Methods:**\n    - `weighted_sum`: Linear combination U = \u03a3(w_i \u00d7 v_i) - Compensatory, allows trade-offs\n    - `weighted_product`: Geometric mean U = \u220f(v_i ^ w_i) - Balanced, penalizes low scores\n    - `lexicographic`: Priority-based sorting - Non-compensatory, no trade-offs\n    - `min_max`: Pessimistic U = min(v_i) - Focus on worst-case goal\n\n    **Default Behaviour (no weights specified):**\n    - Equal weighting: Each goal gets weight = 1/n\n    - Weights are always normalized to sum to 1.0\n\n    **Risk Tolerance:**\n    - `risk_neutral`: Use expected values only\n    - `risk_averse`: Penalize variance (requires risk_coefficient)\n    - `risk_seeking`: Prefer variance (optional risk_coefficient)\n\n    **Validation Checks:**\n    - Weight normalization (auto-normalizes with warning)\n    - Goal ID uniqueness\n    - Graph reference validation (if graph provided)\n    - Aggregation method compatibility\n    - Risk parameter validity\n\n    **Returns:**\n    - `valid`: Whether specification is valid for use\n    - `normalised_weights`: Weights after normalization\n    - `normalised_goals`: Full goal specifications after defaults applied\n    - `default_behaviour_applied`: List of defaults that were applied\n    - `warnings`: Non-fatal issues detected\n    - `errors`: Fatal issues (if valid=false)\n\n    **Use when:**\n    - Setting up multi-goal decision problems\n    - Validating utility specifications before aggregation\n    - Understanding what defaults will be applied",
        "operationId": "validate_utility_api_v1_utility_validate_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UtilityValidationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation completed (check 'valid' field for result)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UtilityValidationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request format"
          },
          "500": {
            "description": "Internal validation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/team/align": {
      "post": {
        "tags": [
          "Team Alignment"
        ],
        "summary": "Find team alignment",
        "description": "Identifies common ground across team perspectives and recommends\n    options that best satisfy all stakeholders.\n\n    Provides:\n    - Shared goals and constraints\n    - Options ranked by satisfaction score\n    - Identified conflicts with resolutions\n    - Top recommendation with rationale\n\n    **Use when:** Making decisions with multiple stakeholders.",
        "operationId": "align_team_api_v1_team_align_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TeamAlignmentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Team alignment analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamAlignmentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., no perspectives provided)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/sensitivity": {
      "post": {
        "tags": [
          "Sensitivity Analysis"
        ],
        "summary": "Perform sensitivity analysis",
        "description": "Tests how robust conclusions are to changes in assumptions.\n\n    Provides:\n    - Assumption importance ranking\n    - Impact assessment for each assumption\n    - Overall robustness score\n    - Critical breakpoints where conclusions flip\n\n    **Use when:** Understanding which assumptions matter most.",
        "operationId": "analyze_sensitivity_api_v1_analysis_sensitivity_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SensitivityAnalysisRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sensitivity analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensitivityAnalysisResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., no assumptions provided)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/optimise": {
      "post": {
        "tags": [
          "Sensitivity Analysis"
        ],
        "summary": "Optimize continuous decision variables",
        "description": "Perform grid search optimization for continuous decision variables.\n\n    Finds optimal values for decision variables that maximize (or minimize)\n    a linear objective function subject to linear constraints.\n\n    **Features:**\n    - Multi-dimensional grid search\n    - Linear constraint handling (<=, >=, =)\n    - Confidence intervals for objective value\n    - Sensitivity analysis (gradient, 5% tolerance range)\n    - Edge case detection (boundary, flat objective, infeasible)\n\n    **Algorithm:**\n    1. Build uniform grid over decision variable bounds\n    2. Evaluate objective at all grid points\n    3. Filter feasible points (satisfy all constraints)\n    4. Select point with best objective value\n    5. Compute sensitivity analysis at optimum\n\n    **Warnings:**\n    - `NO_FEASIBLE_SOLUTION`: No grid points satisfy all constraints\n    - `FLAT_OBJECTIVE`: Objective is constant across feasible region\n    - `BOUNDARY_OPTIMUM`: Optimal point is at variable bounds\n    - `MULTIPLE_OPTIMA`: Multiple near-optimal points found\n    - `CONSTRAINT_ACTIVE`: Constraints are binding at optimum\n\n    **Performance:** <2 seconds for 20-point grid with 2 variables.\n\n    **Use when:** Finding optimal price, quantity, budget allocation.",
        "operationId": "optimize_continuous_api_v1_analysis_optimise_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OptimisationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Optimization completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimisationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., upper_bound < lower_bound)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/dominance": {
      "post": {
        "tags": [
          "Multi-Criteria Analysis"
        ],
        "summary": "Detect dominance relationships between options",
        "description": "Identifies which options are dominated by others across multiple criteria.\n\n    **Dominance Definition:**\n    Option B dominates option A if:\n    - B is better or equal to A on ALL criteria AND\n    - B is strictly better than A on AT LEAST ONE criterion\n\n    **Returns:**\n    - Dominated options with dominators and degree\n    - Non-dominated options (Pareto frontier)\n    - Performance metadata\n\n    **Use when:**\n    - Eliminating inferior options before detailed analysis\n    - Identifying Pareto-optimal choices\n    - Understanding trade-offs between options\n\n    **Algorithm:** O(n\u00b2) pairwise comparison\n    **Limits:** 2-100 options, 1-10 criteria",
        "operationId": "detect_dominance_api_v1_analysis_dominance_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DominanceRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dominance analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DominanceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (validation error)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/pareto": {
      "post": {
        "tags": [
          "Multi-Criteria Analysis"
        ],
        "summary": "Compute Pareto frontier (non-dominated options)",
        "description": "Identifies the Pareto frontier - the set of non-dominated options.\n\n    **Pareto Frontier Definition:**\n    The Pareto frontier contains all options where no other option is\n    better or equal on ALL criteria AND strictly better on AT LEAST ONE.\n\n    **Returns:**\n    - Frontier options with full scores\n    - Dominated options with dominators\n    - Frontier truncation flag if > max_frontier_size\n\n    **Use when:**\n    - Narrowing down to optimal choices\n    - Exploring trade-offs between criteria\n    - Presenting decision options to users\n\n    **Algorithm:** O(n\u00b2) dominance detection via pairwise comparison\n    **Limits:** 2-100 options, 1-10 criteria, max_frontier_size default 20",
        "operationId": "compute_pareto_frontier_api_v1_analysis_pareto_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ParetoRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Pareto frontier computed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParetoResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (validation error)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/risk-adjust": {
      "post": {
        "tags": [
          "Multi-Criteria Analysis"
        ],
        "summary": "Adjust For Risk",
        "description": "Apply risk adjustment to option scores based on risk profile.\n\nUses mean-variance approach to compute certainty equivalents:\n- **Risk averse**: Penalizes variance (prefers safer options)\n- **Risk neutral**: No adjustment (expected value only)\n- **Risk seeking**: Rewards variance (prefers riskier options)\n\n**Algorithm**:\n- Risk averse: CE = mean - (coefficient/2) \u00d7 variance\n- Risk neutral: CE = mean\n- Risk seeking: CE = mean + (coefficient/2) \u00d7 variance\n\n**Input Formats**:\n- Mean-variance: Provide `mean` and `std_dev` for each option\n- Percentile: Provide `p10`, `p50`, `p90` for each option\n\n**Response**:\n- Adjusted scores sorted by certainty equivalent (best to worst)\n- Indicates if rankings changed after adjustment\n- Detailed ranking changes (if applicable)\n- Plain English interpretation of adjustment impact\n\n**Example Use Case**:\nCEE provides option scores with uncertainty. User's risk profile\n(from CEE risk assessment) determines how to weight variance vs. expected value.\n\nArgs:\n    request: Risk adjustment request with options and risk profile\n    x_request_id: Optional request ID from header\n\nReturns:\n    Risk-adjusted scores with rankings and interpretation",
        "operationId": "adjust_for_risk_api_v1_analysis_risk_adjust_post",
        "parameters": [
          {
            "name": "x-request-id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RiskAdjustmentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RiskAdjustmentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/thresholds": {
      "post": {
        "tags": [
          "Multi-Criteria Analysis"
        ],
        "summary": "Identify Thresholds",
        "description": "Identify parameter thresholds where option rankings change.\n\nAnalyzes parameter sweeps to find critical values where the relative\nranking of options shifts. This helps users understand:\n- Which parameters are most sensitive (affect rankings most)\n- At what values rankings change (decision thresholds)\n- Which options are affected by parameter changes\n\n**Algorithm**:\n1. For each parameter sweep:\n   - Iterate through values in order\n   - Rank options by score at each value\n   - Detect where ranking changes from previous value\n   - Record threshold value and affected options\n2. Rank parameters by sensitivity (number of changes)\n3. Identify most sensitive range for each parameter\n\n**Tie Handling**:\n- Options within `confidence_threshold` are considered tied\n- Tied options maintain stable alphabetical ordering\n- Only meaningful ranking changes are reported\n\n**Use Cases**:\n- Sensitivity analysis: Which parameters matter most?\n- Decision boundaries: When does the best option change?\n- Robustness testing: How stable are rankings?\n\n**Note**: PLoT provides pre-computed scores at different parameter values.\nISL only analyzes the provided data (does not run inference).\n\nArgs:\n    request: Threshold identification request with parameter sweeps\n    x_request_id: Optional request ID from header\n\nReturns:\n    Thresholds, sensitivity ranking, and analysis metadata",
        "operationId": "identify_thresholds_api_v1_analysis_thresholds_post",
        "parameters": [
          {
            "name": "x-request-id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ThresholdIdentificationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThresholdIdentificationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/aggregation/multi-criteria": {
      "post": {
        "tags": [
          "Multi-Criteria Analysis"
        ],
        "summary": "Aggregate scores across multiple criteria",
        "description": "Combines option scores across multiple criteria using configurable aggregation methods.\n\n    **Aggregation Methods:**\n    - `weighted_sum`: Compensatory, allows trade-offs (Score = \u03a3(weight_i \u00d7 score_i) \u00d7 100)\n    - `weighted_product`: Balanced, penalizes low scores (Score = \u220f(score_i ^ weight_i) \u00d7 100)\n    - `lexicographic`: Hierarchical, no trade-offs (Sort by highest-weight criterion first)\n\n    **Features:**\n    - Auto-normalizes weights that don't sum to 1.0 (with warning)\n    - Percentile selection (p10=pessimistic, p50=expected, p90=optimistic)\n    - Trade-off detection with configurable threshold\n    - Validation warnings for transparency\n\n    **Returns:**\n    - Aggregated rankings sorted best to worst\n    - Significant trade-offs between top options\n    - Warnings about auto-corrections\n    - Performance metadata\n\n    **Use when:**\n    - Combining inference results across multiple criteria\n    - Comparing options with different strengths\n    - Understanding trade-offs in decisions\n\n    **Algorithm:** Depends on method (O(n) for all methods)\n    **Limits:** 1-10 criteria, 2-100 options per criterion",
        "operationId": "aggregate_multi_criteria_api_v1_aggregation_multi_criteria_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MultiCriteriaRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Aggregation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MultiCriteriaResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (validation error)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/robustness/analyze": {
      "post": {
        "tags": [
          "FACET Robustness"
        ],
        "summary": "Analyze robustness of counterfactual recommendation using FACET",
        "description": "Verifies whether proposed intervention robustly achieves target outcomes\n    by exploring intervention space and identifying robust regions.\n\n    **FACET (Region-Based Robustness Analysis)**\n\n    Instead of asking \"What if price = \u00a355?\", FACET answers:\n    - \"Which price ranges reliably achieve \u00a395k-\u00a3105k revenue?\"\n    - \"How fragile is this recommendation to small changes?\"\n    - \"Do I have flexibility in implementation?\"\n\n    **Use this when:**\n    - Making high-stakes decisions\n    - Need confidence in recommendations\n    - Want to understand operating ranges\n    - Assessing strategy fragility\n\n    **Returns:**\n    - Robust intervention regions (e.g., \"price \u00a352-\u00a358 works\")\n    - Outcome guarantees (e.g., \"revenue \u00a395k-\u00a3105k\")\n    - Robustness score (0-1, higher = more robust)\n    - Fragility warnings\n    - Actionable recommendations\n\n    **Performance:** 1-5 seconds depending on samples and dimensions\n\n    **Example workflow:**\n    1. Get counterfactual: \"price=\u00a355 \u2192 revenue=\u00a3100k\"\n    2. Check robustness: Is this recommendation stable?\n    3. Receive: \"Any price \u00a352-\u00a358 works\" (robust) or \"Only \u00a354.8-\u00a355.2 works\" (fragile)\n    4. Decide: Proceed with confidence or revise strategy",
        "operationId": "analyze_robustness_api_v1_robustness_analyze_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__models__robustness__RobustnessRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Robustness analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__models__robustness__RobustnessResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., malformed model)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/robustness/analyze/v2": {
      "post": {
        "tags": [
          "FACET Robustness"
        ],
        "summary": "Analyze robustness with dual uncertainty (v2.2 schema)",
        "description": "Performs robustness analysis with dual uncertainty support:\n    - **Structural uncertainty**: Probability that each edge exists (Bernoulli)\n    - **Parametric uncertainty**: Distribution over effect magnitude (Normal)\n\n    This enables answering:\n    - \"Is my decision robust to uncertainty about whether this relationship exists?\"\n    - \"Is my decision robust to the effect being stronger/weaker than estimated?\"\n\n    **Input schema (v2.2):**\n    - `graph`: Causal graph with nodes and edges\n    - `edges`: Each has `exists_probability` and `strength: {mean, std}`\n    - `options`: Decision alternatives to compare\n    - `goal_node_id`: Target outcome to optimize\n\n    **Output:**\n    - Outcome distributions per option\n    - Win probabilities\n    - Sensitivity to edge existence AND magnitude\n    - Overall robustness assessment\n\n    **Performance:** 100-2000ms depending on n_samples (default 1000)",
        "operationId": "analyze_robustness_v2_api_v1_robustness_analyze_v2_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RobustnessRequestV2"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Robustness analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RobustnessResponseV2"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input schema"
          },
          "422": {
            "description": "Validation error"
          },
          "500": {
            "description": "Internal computation error"
          }
        }
      }
    },
    "/api/v1/robustness/analyze/unified": {
      "post": {
        "tags": [
          "FACET Robustness"
        ],
        "summary": "Unified robustness analysis (auto-detects schema version)",
        "description": "Unified endpoint that accepts both v1 and v2.2 request schemas.\n\n    Automatically detects schema version and routes to appropriate analyzer:\n    - If request contains `graph` + `options`: Uses v2.2 analyzer\n    - If request contains `causal_model`: Uses v1 analyzer\n\n    **Backward compatible** - existing v1 clients continue to work.",
        "operationId": "analyze_robustness_unified_api_v1_robustness_analyze_unified_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/src__models__robustness__RobustnessResponse"
                    },
                    {
                      "$ref": "#/components/schemas/RobustnessResponseV2"
                    }
                  ],
                  "title": "Response Analyze Robustness Unified Api V1 Robustness Analyze Unified Post"
                }
              }
            }
          },
          "400": {
            "description": "Unknown schema format"
          },
          "422": {
            "description": "Validation error"
          },
          "500": {
            "description": "Internal computation error"
          }
        }
      }
    },
    "/api/v1/explain/contrastive": {
      "post": {
        "tags": [
          "Contrastive Explanations"
        ],
        "summary": "Generate contrastive explanations with minimal interventions",
        "description": "Find minimal interventions to achieve target outcomes.\n\n    Transforms \"what if X=50\" predictions into actionable guidance:\n    \"Change X from 40 to 45 to achieve target.\"\n\n    Provides:\n    - Minimal single-variable interventions\n    - Minimal multi-variable combinations (if allowed)\n    - FACET-based robustness scoring for each intervention\n    - Cost and feasibility estimates\n    - Ranked recommendations by optimization criterion\n\n    **Algorithm:**\n    1. Binary search for minimal change to each feasible variable\n    2. Grid search for minimal multi-variable combinations\n    3. FACET robustness verification for each candidate\n    4. Ranking by cost, change magnitude, or feasibility\n\n    **Use when:** You need actionable recommendations for achieving specific outcomes,\n    not just \"what if\" predictions.\n\n    **Example:**\n    - Current: Revenue = \u00a340k\n    - Target: Revenue = \u00a350k\n    - Result: \"Increase Price from \u00a340 to \u00a345 (\u00a35 increase) achieves target\"",
        "operationId": "generate_contrastive_explanation_api_v1_explain_contrastive_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContrastiveExplanationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Contrastive explanation generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContrastiveExplanationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., no feasible variables, invalid constraints)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sensitivity/detailed": {
      "post": {
        "tags": [
          "CEE Enhancement"
        ],
        "summary": "Detailed sensitivity analysis",
        "description": "Identify which assumptions/variables have highest impact on outcomes.\n\n    Provides:\n    - Assumption sensitivity rankings\n    - Impact assessments\n    - Critical variable identification\n\n    **Use when:** Understanding which assumptions matter most for decision robustness.",
        "operationId": "analyze_sensitivity_detailed_api_v1_sensitivity_detailed_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SensitivityDetailedRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sensitivity analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensitivityDetailedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid graph structure"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/contrastive": {
      "post": {
        "tags": [
          "CEE Enhancement"
        ],
        "summary": "Contrastive explanations",
        "description": "Generate actionable alternatives showing what changes would produce different outcomes.\n\n    Provides:\n    - Counterfactual scenarios\n    - Feasibility assessments\n    - Outcome comparisons\n\n    **Use when:** Exploring \"what if\" alternatives and decision paths.",
        "operationId": "generate_contrastive_api_v1_contrastive_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContrastiveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Contrastive explanation generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContrastiveResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid graph structure or target outcome"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conformal": {
      "post": {
        "tags": [
          "CEE Enhancement"
        ],
        "summary": "Conformal prediction",
        "description": "Provide calibrated confidence intervals for predictions.\n\n    Provides:\n    - Prediction intervals\n    - Confidence levels\n    - Uncertainty sources\n\n    **Use when:** Quantifying prediction uncertainty with calibrated bounds.",
        "operationId": "predict_conformal_api_v1_conformal_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConformalRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conformal prediction completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConformalResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid graph structure or variable"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/validation/strategies": {
      "post": {
        "tags": [
          "CEE Enhancement"
        ],
        "summary": "Model validation strategies",
        "description": "Suggest how to improve the causal model's reliability.\n\n    Provides:\n    - Data collection suggestions\n    - Model structure improvements\n    - Sensitivity testing recommendations\n\n    **Use when:** Identifying ways to strengthen model reliability and validity.",
        "operationId": "suggest_validation_strategies_api_v1_validation_strategies_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ValidationStrategiesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation strategies generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationStrategiesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid graph structure"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/conditional-recommend": {
      "post": {
        "tags": [
          "Phase 4: Sequential Decisions"
        ],
        "summary": "Generate conditional recommendations",
        "description": "Generate actionable conditions that qualify recommendations.\n\n    Real decisions aren't binary. Users need to know \"Choose A if X, otherwise B\"\n    rather than just \"Choose A.\"\n\n    **Condition Types:**\n    - **threshold**: Parameter thresholds where ranking flips (e.g., \"If ROI < 0.3, choose B\")\n    - **dominance**: When weighting changes make one option dominate\n    - **risk_profile**: How recommendations change with risk tolerance\n    - **scenario**: Clustered parameter combinations (pessimistic/optimistic)\n\n    **Robustness Summary:**\n    - **robust**: Recommendation unlikely to change\n    - **moderate**: Some conditions could flip recommendation\n    - **fragile**: Many conditions could flip recommendation\n\n    **Use when:** Making strategic decisions that need qualification.",
        "operationId": "generate_conditional_recommendations_api_v1_analysis_conditional_recommend_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConditionalRecommendRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conditional recommendations generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConditionalRecommendResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., fewer than 2 options)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/sequential": {
      "post": {
        "tags": [
          "Phase 4: Sequential Decisions"
        ],
        "summary": "Analyze sequential decision problem",
        "description": "Solve multi-stage decision problems using backward induction.\n\n    Many strategic decisions are sequential: \"If we launch, then we'll need to\n    decide on pricing. If pricing works, we'll decide on expansion.\"\n    Optimal strategy requires reasoning backward from final outcomes.\n\n    **Algorithm:**\n    1. Start from final stage (terminal payoffs)\n    2. For each state at stage T, compute optimal action and value\n    3. Move backward, computing optimal action given immediate payoff + continuation value\n    4. Repeat until stage 0\n\n    **Value of Flexibility:**\n    Compares optimal policy (deciding at each stage with information) vs\n    committing upfront (ignoring future information).\n\n    **Use when:** Planning multi-stage strategies with uncertainty resolution.",
        "operationId": "analyze_sequential_decision_api_v1_analysis_sequential_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SequentialAnalysisRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sequential analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SequentialAnalysisResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., invalid graph structure)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/policy-tree": {
      "post": {
        "tags": [
          "Phase 4: Sequential Decisions"
        ],
        "summary": "Get policy as decision tree",
        "description": "Generate a decision tree representation of the optimal policy.\n\n    Returns a tree structure where:\n    - Decision nodes show optimal action\n    - Chance nodes show outcome probabilities\n    - Terminal nodes show payoffs\n\n    **Use when:** Visualizing or exporting the optimal policy.",
        "operationId": "get_policy_tree_api_v1_analysis_policy_tree_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SequentialAnalysisRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Policy tree generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PolicyTreeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/stage-sensitivity": {
      "post": {
        "tags": [
          "Phase 4: Sequential Decisions"
        ],
        "summary": "Stage-by-stage sensitivity analysis",
        "description": "Perform sensitivity analysis for each stage of a sequential decision.\n\n    Tests how robust the optimal policy is to parameter changes at each stage.\n\n    **Metrics:**\n    - **parameter_sensitivities**: How much each parameter affects stage value\n    - **policy_changes_at**: Parameter values where optimal action changes\n    - **robustness_score**: Overall robustness (0-1)\n\n    **Use when:** Understanding which parameters matter most at each stage.",
        "operationId": "analyze_stage_sensitivity_api_v1_analysis_stage_sensitivity_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StageSensitivityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Stage sensitivity analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StageSensitivityResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/identifiability": {
      "post": {
        "tags": [
          "Y\u2080 Identifiability"
        ],
        "summary": "Analyze causal effect identifiability (Y\u2080)",
        "description": "Determine whether a causal effect from decision to goal is identifiable\n    from observational data given the graph structure.\n\n    **Y\u2080 Algorithm:**\n    Uses Pearl's complete identification algorithm to determine if P(Y | do(X))\n    can be computed from observational data P(V) and the graph structure G.\n\n    **Identification Methods:**\n    - **Backdoor criterion**: Block all backdoor paths by conditioning on appropriate variables\n    - **Frontdoor criterion**: Use mediating variables when backdoor is blocked\n    - **Instrumental variables**: Use variables that affect X but not Y directly\n    - **Do-calculus**: General graphical rules for effect identification\n\n    **Hard Rule (Neil's Specification):**\n    If the main decision\u2192goal effect is non-identifiable:\n    - `recommendation_status` is set to \"exploratory\" (not \"actionable\")\n    - `recommendation_caveat` explains that conclusions should be treated as hypotheses\n    - `suggestions` provide guidance on making the effect identifiable\n\n    **Returns:**\n    - Identifiability status and method\n    - Adjustment set (variables to condition on)\n    - Backdoor paths in the graph\n    - Suggestions for non-identifiable effects\n    - Hard rule enforcement via recommendation_status\n\n    **Use when:**\n    - Before presenting recommendations to users\n    - When building causal decision models\n    - When uncertain about effect identifiability",
        "operationId": "analyze_identifiability_api_v1_analysis_identifiability_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IdentifiabilityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Identifiability analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdentifiabilityResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., missing decision or goal node)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/identifiability/dag": {
      "post": {
        "tags": [
          "Y\u2080 Identifiability"
        ],
        "summary": "Analyze identifiability from simple DAG",
        "description": "Alternative endpoint for identifiability analysis using simple DAG format.\n\n    Same functionality as `/identifiability` but accepts a simpler input format\n    with explicit node list, edge list, treatment, and outcome.\n\n    **Use when:**\n    - Working with simple causal graphs without typed nodes\n    - Integrating with systems that don't use GraphV1 format",
        "operationId": "analyze_identifiability_from_dag_api_v1_analysis_identifiability_dag_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IdentifiabilityFromDAGRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Identifiability analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdentifiabilityResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., treatment/outcome not in nodes)"
          },
          "500": {
            "description": "Internal computation error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analysis/robustness": {
      "post": {
        "tags": [
          "Decision Robustness Suite"
        ],
        "summary": "Unified Decision Robustness Analysis",
        "description": "Perform comprehensive robustness analysis combining:\n\n- **Option Rankings**: All options ranked by expected utility with distributions\n- **Recommendation**: Top recommendation with confidence level\n- **Sensitivity Analysis**: Most sensitive parameters affecting the decision\n- **Robustness Bounds**: Thresholds where parameters would flip recommendation\n- **Value of Information**: EVPI/EVSI for uncertain parameters\n- **Pareto Frontier**: Trade-offs for multi-goal decisions (if applicable)\n- **Narrative**: Plain language summary of the analysis\n\n## Response Schema\n\nThe response includes a unified `RobustnessResult` with all metrics:\n- `option_rankings`: Ranked list with utility distributions\n- `recommendation`: Top option with confidence and status\n- `sensitivity`: Top sensitive parameters (configurable N)\n- `robustness_label`: 'robust' | 'moderate' | 'fragile'\n- `robustness_bounds`: Flip thresholds for key parameters\n- `value_of_information`: EVPI/EVSI with data collection suggestions\n- `pareto`: Pareto frontier for multi-goal (optional)\n- `narrative`: Human-readable summary\n\n## Robustness Classification\n\n- **Robust**: No single parameter change within \u00b150% flips recommendation\n- **Moderate**: Flip requires \u00b120-50% parameter change\n- **Fragile**: Flip requires <\u00b120% change (recommendation_status becomes 'exploratory')\n\n## Performance\n\nTypical analysis completes in <5 seconds for graphs with \u226450 nodes.",
        "operationId": "analyze_robustness_api_v1_analysis_robustness_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__models__decision_robustness__RobustnessRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful robustness analysis",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RobustnessResponse-Input"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Analysis error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/outcomes/summary": {
      "get": {
        "tags": [
          "Outcome Logging"
        ],
        "summary": "Get Outcome Summary",
        "description": "Get summary statistics for outcome logging.\n\nReturns basic calibration stats:\n- Total decisions logged\n- Decisions with recorded outcomes\n- Recommendations followed rate\n- Average outcomes (when followed vs not followed)\n\nPhase 3 will expand this into full calibration analysis.",
        "operationId": "get_summary_api_v1_outcomes_summary_get",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Summary statistics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/outcomes/log": {
      "post": {
        "tags": [
          "Outcome Logging"
        ],
        "summary": "Log a Decision",
        "description": "Record a decision for future calibration analysis.\n\nCall this endpoint after a user makes a decision based on ISL's recommendation.\nRecords:\n- Which option the user chose\n- What ISL recommended\n- Whether the recommendation was followed\n\nLater, update the log with actual outcomes using PATCH /outcomes/{id}.",
        "operationId": "log_decision_api_v1_outcomes_log_post",
        "parameters": [
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutcomeLogRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Decision logged successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeLog"
                }
              }
            }
          },
          "503": {
            "description": "Outcome logging disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/outcomes/{log_id}": {
      "patch": {
        "tags": [
          "Outcome Logging"
        ],
        "summary": "Update Outcome",
        "description": "Update an outcome log with actual outcome values.\n\nCall this endpoint when the actual outcomes of a decision become known.\nThis data is used for calibration analysis in Phase 3.\n\nProvide:\n- outcome_values: Actual measured outcomes (e.g., {\"revenue\": 155000})\n- notes: Optional additional context",
        "operationId": "update_outcome_api_v1_outcomes__log_id__patch",
        "parameters": [
          {
            "name": "log_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Outcome log ID",
              "title": "Log Id"
            },
            "description": "Outcome log ID"
          },
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutcomeUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Outcome updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeLog"
                }
              }
            }
          },
          "404": {
            "description": "Outcome log not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Outcome logging disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Outcome Logging"
        ],
        "summary": "Get Outcome Log",
        "description": "Retrieve a specific outcome log by ID.",
        "operationId": "get_outcome_api_v1_outcomes__log_id__get",
        "parameters": [
          {
            "name": "log_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Outcome log ID",
              "title": "Log Id"
            },
            "description": "Outcome log ID"
          },
          {
            "name": "X-Request-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Outcome log found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeLog"
                }
              }
            }
          },
          "404": {
            "description": "Outcome log not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AdjustedScore": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Option identifier"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Human-readable option label"
          },
          "original_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Original Score",
            "description": "Original score (mean or p50)"
          },
          "certainty_equivalent": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Certainty Equivalent",
            "description": "Risk-adjusted certainty equivalent score"
          },
          "adjustment": {
            "type": "number",
            "title": "Adjustment",
            "description": "Adjustment amount (CE - original, can be negative)"
          },
          "variance": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Variance",
            "description": "Variance of original distribution (if mean/std_dev provided)"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "original_score",
          "certainty_equivalent",
          "adjustment"
        ],
        "title": "AdjustedScore",
        "description": "Risk-adjusted score for a single option.",
        "example": {
          "adjustment": -0.2,
          "certainty_equivalent": 0.6,
          "option_id": "opt_aggressive",
          "option_label": "Aggressive Growth Strategy",
          "original_score": 0.8,
          "variance": 0.04
        }
      },
      "AdjustmentStrategyDetail": {
        "properties": {
          "strategy_type": {
            "type": "string",
            "title": "Strategy Type",
            "description": "Strategy type: backdoor, frontdoor, or instrumental"
          },
          "nodes_to_add": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Nodes To Add",
            "description": "Nodes that need to be added/measured"
          },
          "edges_to_add": {
            "items": {
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "array",
            "title": "Edges To Add",
            "description": "Edges to add to the DAG"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "Plain English explanation of the strategy"
          },
          "theoretical_basis": {
            "type": "string",
            "title": "Theoretical Basis",
            "description": "Theoretical justification (e.g., Pearl's backdoor criterion)"
          },
          "expected_identifiability": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Expected Identifiability",
            "description": "Confidence that this strategy achieves identifiability (0-1)"
          }
        },
        "type": "object",
        "required": [
          "strategy_type",
          "nodes_to_add",
          "edges_to_add",
          "explanation",
          "theoretical_basis",
          "expected_identifiability"
        ],
        "title": "AdjustmentStrategyDetail",
        "description": "Complete adjustment strategy for identifiability.\n\nSpecifies exactly what nodes/edges to add to make a non-identifiable\nDAG identifiable.",
        "example": {
          "edges_to_add": [
            [
              "Competitors",
              "Price"
            ],
            [
              "Competitors",
              "Revenue"
            ]
          ],
          "expected_identifiability": 0.9,
          "explanation": "Add and measure Competitors variable, then control for it to block backdoor paths",
          "nodes_to_add": [
            "Competitors"
          ],
          "strategy_type": "backdoor",
          "theoretical_basis": "Pearl's backdoor criterion"
        }
      },
      "AdvancedValidationRequest": {
        "properties": {
          "dag": {
            "title": "Dag",
            "description": "DAG structure"
          },
          "structural_model": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Structural Model",
            "description": "Optional structural model"
          },
          "context": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Optional context (e.g., domain)"
          },
          "validation_level": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ValidationLevel"
              }
            ],
            "description": "Level of validation to perform",
            "default": "standard"
          }
        },
        "type": "object",
        "required": [
          "dag"
        ],
        "title": "AdvancedValidationRequest",
        "description": "Request for advanced model validation."
      },
      "AdvancedValidationResponse": {
        "properties": {
          "overall_quality": {
            "allOf": [
              {
                "$ref": "#/components/schemas/QualityLevel"
              }
            ],
            "description": "Overall quality assessment"
          },
          "quality_score": {
            "type": "number",
            "title": "Quality Score",
            "description": "Numerical quality score (0-100)"
          },
          "validation_results": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ValidationResults"
              }
            ],
            "description": "Detailed validation results"
          },
          "suggestions": {
            "items": {
              "$ref": "#/components/schemas/ModelSuggestion"
            },
            "type": "array",
            "title": "Suggestions",
            "description": "Improvement suggestions"
          },
          "best_practices": {
            "items": {
              "$ref": "#/components/schemas/BestPractice"
            },
            "type": "array",
            "title": "Best Practices",
            "description": "Best practice adherence"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "overall_quality",
          "quality_score",
          "validation_results",
          "suggestions",
          "best_practices",
          "explanation"
        ],
        "title": "AdvancedValidationResponse",
        "description": "Response from advanced validation."
      },
      "AggregatedRanking": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Option identifier"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Human-readable option label"
          },
          "rank": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Rank",
            "description": "Rank (1-based, 1 = best)"
          },
          "aggregated_score": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Aggregated Score",
            "description": "Final aggregated score (0-100 scale)"
          },
          "scores_by_criterion": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Scores By Criterion",
            "description": "Normalized scores (0-1) used in aggregation by criterion_id"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "rank",
          "aggregated_score",
          "scores_by_criterion"
        ],
        "title": "AggregatedRanking",
        "description": "Aggregated ranking for a single option.",
        "example": {
          "aggregated_score": 72.5,
          "option_id": "opt_a",
          "option_label": "Option A: Aggressive Growth",
          "rank": 1,
          "scores_by_criterion": {
            "revenue": 0.85,
            "risk": 0.4,
            "timeline": 0.7
          }
        }
      },
      "AggregationMethod": {
        "type": "string",
        "enum": [
          "weighted_sum",
          "weighted_product",
          "lexicographic",
          "min_max"
        ],
        "title": "AggregationMethod",
        "description": "Aggregation methods for multi-goal utility functions."
      },
      "AlignedOption": {
        "properties": {
          "option": {
            "type": "string",
            "title": "Option",
            "description": "Option ID"
          },
          "satisfies_roles": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Satisfies Roles",
            "description": "Roles satisfied by this option"
          },
          "satisfaction_score": {
            "type": "number",
            "title": "Satisfaction Score",
            "description": "Overall satisfaction (0-100)"
          },
          "tradeoffs": {
            "items": {
              "$ref": "#/components/schemas/Tradeoff"
            },
            "type": "array",
            "title": "Tradeoffs",
            "description": "Tradeoffs for each role"
          }
        },
        "type": "object",
        "required": [
          "option",
          "satisfies_roles",
          "satisfaction_score",
          "tradeoffs"
        ],
        "title": "AlignedOption",
        "description": "An option with alignment analysis."
      },
      "AlternativeMethod": {
        "properties": {
          "method": {
            "type": "string",
            "title": "Method",
            "description": "Method name (e.g., 'backdoor', 'front_door', 'instrumental_variables')"
          },
          "applicable": {
            "type": "boolean",
            "title": "Applicable",
            "description": "Whether this method is applicable to the problem"
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "Why the method is or is not applicable"
          }
        },
        "type": "object",
        "required": [
          "method",
          "applicable",
          "reason"
        ],
        "title": "AlternativeMethod",
        "description": "Alternative identification method assessment.\n\nDocuments whether alternative methods (backdoor, front-door, IV, do-calculus)\nare applicable and why.",
        "example": {
          "applicable": false,
          "method": "front_door",
          "reason": "No mediator set completely captures causal pathway"
        }
      },
      "AnalysisOptions": {
        "properties": {
          "sensitivity_top_n": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Sensitivity Top N",
            "description": "Number of top sensitive parameters to return",
            "default": 5
          },
          "perturbation_range": {
            "type": "number",
            "maximum": 1.0,
            "exclusiveMinimum": 0.0,
            "title": "Perturbation Range",
            "description": "Maximum perturbation for robustness bounds (0.5 = \u00b150%)",
            "default": 0.5
          },
          "monte_carlo_samples": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "Monte Carlo Samples",
            "description": "Number of Monte Carlo samples for uncertainty",
            "default": 1000
          },
          "include_pareto": {
            "type": "boolean",
            "title": "Include Pareto",
            "description": "Include Pareto frontier analysis for multi-goal",
            "default": true
          },
          "include_voi": {
            "type": "boolean",
            "title": "Include Voi",
            "description": "Include Value of Information analysis",
            "default": true
          },
          "sample_sizes_for_evsi": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Sample Sizes For Evsi",
            "description": "Sample sizes to consider for EVSI calculation",
            "default": [
              10,
              50,
              100
            ]
          },
          "timeout_ms": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 60000.0,
                "minimum": 1000.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout Ms",
            "description": "Maximum computation time in milliseconds",
            "default": 5000
          }
        },
        "type": "object",
        "title": "AnalysisOptions",
        "description": "Configuration options for the robustness analysis.",
        "example": {
          "include_pareto": true,
          "include_voi": true,
          "monte_carlo_samples": 1000,
          "perturbation_range": 0.5,
          "sample_sizes_for_evsi": [
            10,
            50,
            100
          ],
          "sensitivity_top_n": 5,
          "timeout_ms": 5000
        }
      },
      "Assumption": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Assumption name"
          },
          "current_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "number"
              },
              {
                "type": "object"
              }
            ],
            "title": "Current Value",
            "description": "Current assumed value"
          },
          "type": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Type",
            "description": "Assumption type: parametric, structural, or distributional"
          },
          "variation_range": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variation Range",
            "description": "Range to test (min/max values)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "current_value",
          "type"
        ],
        "title": "Assumption",
        "description": "An assumption to test in sensitivity analysis.",
        "example": {
          "current_value": 0.5,
          "name": "Customer price sensitivity",
          "type": "parametric",
          "variation_range": {
            "max": 0.8,
            "min": 0.3
          }
        }
      },
      "AssumptionAnalysis": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Assumption name"
          },
          "current_value": {
            "title": "Current Value",
            "description": "Current assumed value"
          },
          "importance": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImportanceLevel"
              }
            ],
            "description": "Importance level"
          },
          "impact": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImpactAssessment"
              }
            ],
            "description": "Impact assessment"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in assumption"
          },
          "evidence": {
            "type": "string",
            "title": "Evidence",
            "description": "Evidence for this assumption"
          },
          "recommendation": {
            "type": "string",
            "title": "Recommendation",
            "description": "Recommended action"
          }
        },
        "type": "object",
        "required": [
          "name",
          "current_value",
          "importance",
          "impact",
          "confidence",
          "evidence",
          "recommendation"
        ],
        "title": "AssumptionAnalysis",
        "description": "Analysis of a single assumption."
      },
      "AssumptionDetail": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Assumption type (e.g., 'no_unmeasured_confounding', 'positivity')"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable explanation of the assumption"
          },
          "critical": {
            "type": "boolean",
            "title": "Critical",
            "description": "Whether this assumption is critical for identification"
          }
        },
        "type": "object",
        "required": [
          "type",
          "description",
          "critical"
        ],
        "title": "AssumptionDetail",
        "description": "Individual assumption required for causal identification.\n\nProvides structured information about each assumption, including\nits type, description, and criticality.",
        "example": {
          "critical": true,
          "description": "No unmeasured confounders after adjusting for adjustment set",
          "type": "no_unmeasured_confounding"
        }
      },
      "AssumptionSensitivity": {
        "properties": {
          "variable": {
            "type": "string",
            "maxLength": 100,
            "title": "Variable",
            "description": "Node ID or variable name"
          },
          "sensitivity": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Sensitivity",
            "description": "Sensitivity score (0-1), higher = more sensitive"
          },
          "impact": {
            "type": "string",
            "maxLength": 500,
            "title": "Impact",
            "description": "Description of impact"
          }
        },
        "type": "object",
        "required": [
          "variable",
          "sensitivity",
          "impact"
        ],
        "title": "AssumptionSensitivity",
        "description": "Sensitivity information for a single assumption/variable.",
        "example": {
          "impact": "10% change in market size estimate leads to 25% swing in projected ROI",
          "sensitivity": 0.92,
          "variable": "n_market_size"
        }
      },
      "BatchCounterfactualItem": {
        "properties": {
          "index": {
            "type": "integer",
            "title": "Index",
            "description": "Index in the original request list"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether this request succeeded"
          },
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounterfactualResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Counterfactual result (if successful)"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message (if failed)"
          }
        },
        "type": "object",
        "required": [
          "index",
          "success"
        ],
        "title": "BatchCounterfactualItem",
        "description": "Single item in batch counterfactual response."
      },
      "BatchValidationItem": {
        "properties": {
          "index": {
            "type": "integer",
            "title": "Index",
            "description": "Index in the original request list"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether this request succeeded"
          },
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CausalValidationResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Validation result (if successful)"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message (if failed)"
          }
        },
        "type": "object",
        "required": [
          "index",
          "success"
        ],
        "title": "BatchValidationItem",
        "description": "Single item in batch validation response."
      },
      "BatchValidationRequest": {
        "properties": {
          "requests": {
            "items": {
              "$ref": "#/components/schemas/CausalValidationRequest"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 1,
            "title": "Requests",
            "description": "List of causal validation requests to process"
          }
        },
        "type": "object",
        "required": [
          "requests"
        ],
        "title": "BatchValidationRequest",
        "description": "Batch causal validation request."
      },
      "BatchValidationResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/BatchValidationItem"
            },
            "type": "array",
            "title": "Results",
            "description": "Results for each request"
          },
          "summary": {
            "type": "object",
            "title": "Summary",
            "description": "Batch processing summary"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          }
        },
        "type": "object",
        "required": [
          "results",
          "summary"
        ],
        "title": "BatchValidationResponse",
        "description": "Batch causal validation response."
      },
      "BayesianTeachingRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9_\\-]+$",
            "title": "User Id",
            "description": "User identifier"
          },
          "current_beliefs": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserBeliefModel"
              }
            ],
            "description": "Current user beliefs"
          },
          "target_concept": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Target Concept",
            "description": "Concept to teach (e.g., 'confounding', 'trade_offs')"
          },
          "context": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DecisionContext"
              }
            ],
            "description": "Decision context"
          },
          "max_examples": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Max Examples",
            "description": "Maximum examples to return",
            "default": 3
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "current_beliefs",
          "target_concept",
          "context"
        ],
        "title": "BayesianTeachingRequest",
        "description": "Request for teaching examples."
      },
      "BayesianTeachingResponse": {
        "properties": {
          "examples": {
            "items": {
              "$ref": "#/components/schemas/TeachingExample"
            },
            "type": "array",
            "title": "Examples",
            "description": "Selected teaching examples"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "Overall teaching strategy explanation"
          },
          "learning_objectives": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Learning Objectives",
            "description": "What user will learn"
          },
          "expected_learning_time": {
            "type": "string",
            "title": "Expected Learning Time",
            "description": "Estimated time to learn concept"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "examples",
          "explanation",
          "learning_objectives",
          "expected_learning_time"
        ],
        "title": "BayesianTeachingResponse",
        "description": "Response with teaching examples."
      },
      "BeliefDistribution": {
        "properties": {
          "parameter_name": {
            "type": "string",
            "title": "Parameter Name",
            "description": "Parameter name"
          },
          "distribution_type": {
            "type": "string",
            "title": "Distribution Type",
            "description": "Distribution type: normal, uniform, beta"
          },
          "parameters": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Parameters",
            "description": "Distribution parameters (mean/std for normal, low/high for uniform, etc.)"
          }
        },
        "type": "object",
        "required": [
          "parameter_name",
          "distribution_type",
          "parameters"
        ],
        "title": "BeliefDistribution",
        "description": "Parameter belief distribution for sequential optimization.",
        "example": {
          "distribution_type": "normal",
          "parameter_name": "effect_price",
          "parameters": {
            "mean": 500,
            "std": 50
          }
        }
      },
      "BestPractice": {
        "properties": {
          "practice": {
            "type": "string",
            "title": "Practice",
            "description": "Best practice name"
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/BestPracticeStatus"
              }
            ],
            "description": "Adherence status"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Status description"
          }
        },
        "type": "object",
        "required": [
          "practice",
          "status",
          "description"
        ],
        "title": "BestPractice",
        "description": "Best practice check."
      },
      "BestPracticeStatus": {
        "type": "string",
        "enum": [
          "followed",
          "partial",
          "not_followed"
        ],
        "title": "BestPracticeStatus",
        "description": "Best practice adherence status."
      },
      "Breakpoint": {
        "properties": {
          "assumption": {
            "type": "string",
            "title": "Assumption",
            "description": "Assumption name"
          },
          "threshold": {
            "type": "string",
            "title": "Threshold",
            "description": "Threshold where conclusion flips"
          }
        },
        "type": "object",
        "required": [
          "assumption",
          "threshold"
        ],
        "title": "Breakpoint",
        "description": "A breakpoint where conclusion changes."
      },
      "CalibrationMetrics": {
        "properties": {
          "calibration_size": {
            "type": "integer",
            "title": "Calibration Size",
            "description": "Number of calibration samples"
          },
          "residual_statistics": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Residual Statistics",
            "description": "Statistics of calibration residuals (mean, std, median, iqr)"
          },
          "interval_adaptivity": {
            "type": "number",
            "title": "Interval Adaptivity",
            "description": "How much intervals adapt to local uncertainty (higher = more adaptive)"
          }
        },
        "type": "object",
        "required": [
          "calibration_size",
          "residual_statistics",
          "interval_adaptivity"
        ],
        "title": "CalibrationMetrics",
        "description": "Metrics assessing calibration quality.\n\nProvides statistics about the calibration set and\nhow well it covers the prediction space.",
        "example": {
          "calibration_size": 50,
          "interval_adaptivity": 0.48,
          "residual_statistics": {
            "iqr": 1500,
            "mean": 2500,
            "median": 2300,
            "std": 1200
          }
        }
      },
      "CausalValidationRequest": {
        "properties": {
          "dag": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DAGStructure"
              }
            ],
            "description": "Directed acyclic graph structure"
          },
          "treatment": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Treatment",
            "description": "Treatment variable name"
          },
          "outcome": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "description": "Outcome variable name"
          },
          "observed": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Observed",
            "description": "Optional list of observed variables"
          }
        },
        "type": "object",
        "required": [
          "dag",
          "treatment",
          "outcome"
        ],
        "title": "CausalValidationRequest",
        "description": "Request model for causal validation endpoint.",
        "example": {
          "dag": {
            "edges": [
              [
                "Price",
                "Revenue"
              ],
              [
                "Brand",
                "Price"
              ],
              [
                "Brand",
                "Revenue"
              ],
              [
                "CustomerAcquisition",
                "Revenue"
              ]
            ],
            "nodes": [
              "Price",
              "Brand",
              "Revenue",
              "CustomerAcquisition"
            ]
          },
          "outcome": "Revenue",
          "treatment": "Price"
        }
      },
      "CausalValidationResponse": {
        "properties": {
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__shared__ValidationStatus"
              }
            ],
            "description": "Validation status"
          },
          "method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Method",
            "description": "Identification method used: backdoor, front_door, instrumental_variables, do_calculus"
          },
          "adjustment_sets": {
            "anyOf": [
              {
                "items": {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjustment Sets",
            "description": "Valid adjustment sets for causal identification"
          },
          "minimal_set": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Minimal Set",
            "description": "Minimal sufficient adjustment set"
          },
          "identification_formula": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Identification Formula",
            "description": "Human-readable identification formula"
          },
          "structured_assumptions": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/AssumptionDetail"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Structured Assumptions",
            "description": "Required assumptions for valid identification (structured)"
          },
          "alternative_methods": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/AlternativeMethod"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alternative Methods",
            "description": "Alternative identification methods considered"
          },
          "backdoor_paths": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backdoor Paths",
            "description": "Backdoor paths that create confounding"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Why identification failed (e.g., 'no_causal_path', 'unmeasured_confounding', 'selection_bias')"
          },
          "suggestions": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ValidationSuggestion"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suggestions",
            "description": "Structured, actionable suggestions to achieve identifiability"
          },
          "legacy_suggestions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Legacy Suggestions",
            "description": "Legacy string suggestions (deprecated, use 'suggestions' instead)"
          },
          "attempted_methods": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attempted Methods",
            "description": "Methods attempted during identification"
          },
          "issues": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ValidationIssue"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Issues",
            "description": "Issues preventing identification (legacy compatibility)"
          },
          "fallback_assessment": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fallback Assessment",
            "description": "Best-effort assessment when Y\u2080 fails"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in the analysis"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "status",
          "confidence",
          "explanation"
        ],
        "title": "CausalValidationResponse",
        "description": "Enhanced response model for causal validation endpoint.\n\nProvides comprehensive Y\u2080-powered identifiability analysis including:\n- Identification method used (backdoor, front-door, IV, do-calculus)\n- Adjustment sets and identification formula\n- Structured assumptions with criticality\n- Alternative methods considered\n- Structured failure diagnosis when non-identifiable\n- Graceful degradation with fallback assessment",
        "examples": [
          {
            "title": "Identifiable (Backdoor)",
            "value": {
              "adjustment_sets": [
                [
                  "Brand"
                ],
                [
                  "Brand",
                  "CustomerAcquisition"
                ]
              ],
              "alternative_methods": [
                {
                  "applicable": true,
                  "method": "backdoor",
                  "reason": "Valid adjustment set exists"
                },
                {
                  "applicable": false,
                  "method": "front_door",
                  "reason": "No mediator set completely captures pathway"
                }
              ],
              "backdoor_paths": [
                "Price \u2190 Brand \u2192 Revenue"
              ],
              "confidence": "high",
              "explanation": {
                "assumptions": [
                  "No unmeasured confounding",
                  "Correct causal structure"
                ],
                "reasoning": "Brand influences both Price and Revenue, creating confounding. Controlling for Brand blocks the backdoor path.",
                "summary": "Effect is identifiable by controlling for Brand",
                "technical_basis": "Backdoor criterion satisfied with adjustment set {Brand}"
              },
              "identification_formula": "P(revenue|do(price)) = \u03a3_Brand P(revenue|price, Brand) P(Brand)",
              "method": "backdoor",
              "minimal_set": [
                "Brand"
              ],
              "status": "identifiable",
              "structured_assumptions": [
                {
                  "critical": true,
                  "description": "No unmeasured confounders after adjusting for Brand",
                  "type": "no_unmeasured_confounding"
                },
                {
                  "critical": true,
                  "description": "All price values possible at all Brand levels",
                  "type": "positivity"
                }
              ]
            }
          },
          {
            "title": "Non-Identifiable",
            "value": {
              "attempted_methods": [
                "backdoor",
                "front_door",
                "do_calculus"
              ],
              "confidence": "high",
              "explanation": {
                "assumptions": [
                  "DAG structure correct"
                ],
                "reasoning": "Backdoor paths exist but no valid adjustment set found with measured variables.",
                "summary": "Effect cannot be identified due to unmeasured confounding",
                "technical_basis": "No identification formula available"
              },
              "reason": "unmeasured_confounding",
              "status": "cannot_identify",
              "suggestions": [
                "Add measured confounders to the model",
                "Consider using instrumental variables if available",
                "Explore front-door criterion with full mediation"
              ]
            }
          }
        ]
      },
      "ClampMetrics": {
        "properties": {
          "total_node_samples": {
            "type": "integer",
            "title": "Total Node Samples",
            "description": "Total node value samples"
          },
          "clamped_samples": {
            "type": "integer",
            "title": "Clamped Samples",
            "description": "Samples that were clamped to bounds"
          },
          "clamp_rate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Clamp Rate",
            "description": "Fraction of samples clamped"
          },
          "nodes_with_high_clamp_rate": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Nodes With High Clamp Rate",
            "description": "Nodes with >10% clamp rate"
          }
        },
        "type": "object",
        "required": [
          "total_node_samples",
          "clamped_samples",
          "clamp_rate"
        ],
        "title": "ClampMetrics",
        "description": "Tracks out-of-bounds sampling for diagnostics."
      },
      "CoherenceAnalysis": {
        "properties": {
          "top_option_positive": {
            "type": "boolean",
            "title": "Top Option Positive",
            "description": "Whether the top option has positive expected value"
          },
          "margin_to_second": {
            "type": "number",
            "title": "Margin To Second",
            "description": "Margin between top option and second-best"
          },
          "margin_to_second_pct": {
            "type": "number",
            "title": "Margin To Second Pct",
            "description": "Margin as percentage of top option's value"
          },
          "ranking_stability": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RankingStability"
              }
            ],
            "description": "Stability classification of rankings"
          },
          "stability_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Stability Score",
            "description": "Numerical stability score (0-1, higher is more stable)"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Coherence warnings and edge case flags"
          }
        },
        "type": "object",
        "required": [
          "top_option_positive",
          "margin_to_second",
          "margin_to_second_pct",
          "ranking_stability",
          "stability_score"
        ],
        "title": "CoherenceAnalysis",
        "description": "Coherence analysis results.",
        "example": {
          "margin_to_second": 2000,
          "margin_to_second_pct": 4.0,
          "ranking_stability": "sensitive",
          "stability_score": 0.65,
          "top_option_positive": true,
          "warnings": [
            "Close race detected between top options"
          ]
        }
      },
      "CoherenceAnalysisRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph with nodes and edges"
          },
          "options": {
            "items": {
              "$ref": "#/components/schemas/src__models__requests__RankedOption__1"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "description": "Ranked options to analyze for coherence"
          },
          "perturbation_magnitude": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Perturbation Magnitude",
            "description": "Magnitude of perturbations for stability testing (0-1)",
            "default": 0.1
          },
          "close_race_threshold": {
            "type": "number",
            "maximum": 0.5,
            "minimum": 0.0,
            "title": "Close Race Threshold",
            "description": "Threshold for detecting close races (relative difference)",
            "default": 0.05
          },
          "num_perturbations": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 10.0,
            "title": "Num Perturbations",
            "description": "Number of perturbations for stability analysis",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "graph",
          "options"
        ],
        "title": "CoherenceAnalysisRequest",
        "description": "Request model for coherence analysis endpoint.",
        "example": {
          "close_race_threshold": 0.05,
          "graph": {
            "edges": [
              {
                "from": "option_a",
                "to": "goal",
                "weight": 2.0
              },
              {
                "from": "option_b",
                "to": "goal",
                "weight": 1.8
              }
            ],
            "nodes": [
              {
                "id": "goal",
                "kind": "goal",
                "label": "Maximize Revenue"
              },
              {
                "id": "option_a",
                "kind": "option",
                "label": "Option A"
              },
              {
                "id": "option_b",
                "kind": "option",
                "label": "Option B"
              }
            ]
          },
          "num_perturbations": 100,
          "options": [
            {
              "expected_value": 50000,
              "name": "Option A",
              "option_id": "option_a",
              "rank": 1
            },
            {
              "expected_value": 48000,
              "name": "Option B",
              "option_id": "option_b",
              "rank": 2
            }
          ],
          "perturbation_magnitude": 0.1
        }
      },
      "CoherenceAnalysisResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version",
            "default": "coherence.v1"
          },
          "coherence_analysis": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CoherenceAnalysis"
              }
            ],
            "description": "Core coherence metrics"
          },
          "stability_analysis": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StabilityAnalysis"
              }
            ],
            "description": "Detailed stability analysis"
          },
          "recommendations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Recommendations",
            "description": "Actionable recommendations based on analysis"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "coherence_analysis",
          "stability_analysis"
        ],
        "title": "CoherenceAnalysisResponse",
        "description": "Response model for coherence analysis endpoint.",
        "example": {
          "coherence_analysis": {
            "margin_to_second": 2000,
            "margin_to_second_pct": 4.0,
            "ranking_stability": "sensitive",
            "stability_score": 0.65,
            "top_option_positive": true,
            "warnings": [
              "Close race detected between top options"
            ]
          },
          "recommendations": [
            "Consider gathering more data to reduce uncertainty",
            "Top options are close - decision may depend on risk tolerance"
          ],
          "schema_version": "coherence.v1",
          "stability_analysis": {
            "most_frequent_alternative": "option_b",
            "num_perturbations": 100,
            "ranking_change_rate": 0.35,
            "ranking_changes": 35,
            "sample_perturbations": []
          }
        }
      },
      "CommonGround": {
        "properties": {
          "shared_goals": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Shared Goals",
            "description": "Goals shared by all roles"
          },
          "shared_constraints": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Shared Constraints",
            "description": "Constraints shared by all roles"
          },
          "agreement_level": {
            "type": "number",
            "title": "Agreement Level",
            "description": "Agreement percentage (0-100)"
          }
        },
        "type": "object",
        "required": [
          "shared_goals",
          "shared_constraints",
          "agreement_level"
        ],
        "title": "CommonGround",
        "description": "Common ground among team perspectives."
      },
      "ComparisonMetrics": {
        "properties": {
          "monte_carlo_interval": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ConfidenceInterval"
            },
            "type": "object",
            "title": "Monte Carlo Interval",
            "description": "Standard Monte Carlo confidence intervals"
          },
          "conformal_interval": {
            "additionalProperties": {
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "object",
            "title": "Conformal Interval",
            "description": "Conformal prediction intervals"
          },
          "width_ratio": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Width Ratio",
            "description": "Ratio of conformal width to Monte Carlo width"
          },
          "interpretation": {
            "type": "string",
            "title": "Interpretation",
            "description": "Plain English interpretation of the comparison"
          }
        },
        "type": "object",
        "required": [
          "monte_carlo_interval",
          "conformal_interval",
          "width_ratio",
          "interpretation"
        ],
        "title": "ComparisonMetrics",
        "description": "Comparison of conformal vs standard Monte Carlo intervals.\n\nShows how conformal intervals differ from traditional\nuncertainty quantification approaches.",
        "example": {
          "conformal_interval": {
            "Revenue": [
              48000,
              56000
            ]
          },
          "interpretation": "Conformal interval is 33% wider, providing more honest uncertainty quantification with finite-sample guarantees",
          "monte_carlo_interval": {
            "Revenue": {
              "confidence_level": 0.95,
              "lower": 49000,
              "upper": 55000
            }
          },
          "width_ratio": {
            "Revenue": 1.33
          }
        }
      },
      "ConclusionStatement": {
        "properties": {
          "statement": {
            "type": "string",
            "title": "Statement",
            "description": "The conclusion being tested"
          },
          "base_case": {
            "type": "number",
            "title": "Base Case",
            "description": "Base case result value"
          }
        },
        "type": "object",
        "required": [
          "statement",
          "base_case"
        ],
        "title": "ConclusionStatement",
        "description": "Conclusion statement for sensitivity analysis."
      },
      "ConditionExpression": {
        "properties": {
          "parameter": {
            "type": "string",
            "title": "Parameter",
            "description": "Parameter name being conditioned on"
          },
          "operator": {
            "type": "string",
            "pattern": "^(<|<=|>|>=|==|in_range)$",
            "title": "Operator",
            "description": "Comparison operator"
          },
          "value": {
            "title": "Value",
            "description": "Threshold value or range tuple for 'in_range'"
          }
        },
        "type": "object",
        "required": [
          "parameter",
          "operator",
          "value"
        ],
        "title": "ConditionExpression",
        "description": "Machine-readable condition expression.",
        "example": {
          "operator": "<",
          "parameter": "marketing_roi",
          "value": 0.3
        }
      },
      "ConditionalAction": {
        "properties": {
          "condition": {
            "type": "string",
            "title": "Condition",
            "description": "Human-readable condition string"
          },
          "action": {
            "type": "string",
            "title": "Action",
            "description": "Action to take if condition is met"
          },
          "expected_value_if_taken": {
            "type": "number",
            "title": "Expected Value If Taken",
            "description": "Expected value if this action is taken"
          }
        },
        "type": "object",
        "required": [
          "condition",
          "action",
          "expected_value_if_taken"
        ],
        "title": "ConditionalAction",
        "description": "A conditional action in a decision rule.",
        "example": {
          "action": "expand",
          "condition": "If demand_signal > 0.7",
          "expected_value_if_taken": 85000.0
        }
      },
      "ConditionalIndependence": {
        "properties": {
          "variable_a": {
            "type": "string",
            "title": "Variable A",
            "description": "First variable"
          },
          "variable_b": {
            "type": "string",
            "title": "Variable B",
            "description": "Second variable"
          },
          "conditioning_set": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Conditioning Set",
            "description": "Variables to condition on"
          }
        },
        "type": "object",
        "required": [
          "variable_a",
          "variable_b"
        ],
        "title": "ConditionalIndependence",
        "description": "Conditional independence assumption.\n\nRepresents an assumption that X \u22a5 Y | Z (X is independent of Y given Z).",
        "example": {
          "conditioning_set": [
            "Brand"
          ],
          "variable_a": "Revenue",
          "variable_b": "Competitors"
        }
      },
      "ConditionalRecommendRequest": {
        "properties": {
          "run_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Run Id",
            "description": "Unique identifier for this analysis run"
          },
          "ranked_options": {
            "items": {
              "$ref": "#/components/schemas/src__models__requests__RankedOption__2"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 2,
            "title": "Ranked Options",
            "description": "List of options ranked by expected value"
          },
          "parameters_to_condition_on": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Parameters To Condition On",
            "description": "Parameters to generate conditions for (auto-detect if None)"
          },
          "condition_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 5,
            "title": "Condition Types",
            "description": "Types of conditions to generate",
            "default": [
              "threshold",
              "dominance",
              "risk_profile"
            ]
          },
          "max_conditions": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Max Conditions",
            "description": "Maximum number of conditions to return",
            "default": 5
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "ranked_options"
        ],
        "title": "ConditionalRecommendRequest",
        "description": "Request model for conditional recommendation endpoint.",
        "example": {
          "condition_types": [
            "threshold",
            "risk_profile"
          ],
          "max_conditions": 5,
          "parameters_to_condition_on": [
            "market_size",
            "competitor_response"
          ],
          "ranked_options": [
            {
              "distribution": {
                "parameters": {
                  "mean": 75000,
                  "std": 20000
                },
                "type": "normal"
              },
              "expected_value": 75000.0,
              "label": "Aggressive Expansion",
              "option_id": "option_a"
            },
            {
              "distribution": {
                "parameters": {
                  "mean": 50000,
                  "std": 5000
                },
                "type": "normal"
              },
              "expected_value": 50000.0,
              "label": "Conservative Growth",
              "option_id": "option_b"
            }
          ],
          "run_id": "analysis_001"
        }
      },
      "ConditionalRecommendResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version for this response",
            "default": "conditional_recommend.v1"
          },
          "primary_recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PrimaryRecommendation"
              }
            ],
            "description": "Primary (unconditional) recommendation"
          },
          "conditional_recommendations": {
            "items": {
              "$ref": "#/components/schemas/ConditionalRecommendation"
            },
            "type": "array",
            "title": "Conditional Recommendations",
            "description": "List of conditional recommendations"
          },
          "robustness_summary": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessSummary"
              }
            ],
            "description": "Summary of recommendation robustness"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "primary_recommendation",
          "conditional_recommendations",
          "robustness_summary"
        ],
        "title": "ConditionalRecommendResponse",
        "description": "Response model for conditional recommendation endpoint.",
        "example": {
          "conditional_recommendations": [
            {
              "condition_description": "If marketing ROI drops below 30%",
              "condition_expression": {
                "operator": "<",
                "parameter": "marketing_roi",
                "value": 0.3
              },
              "condition_id": "cond_001",
              "condition_type": "threshold",
              "impact_magnitude": "high",
              "probability_of_condition": 0.25,
              "triggered_recommendation": {
                "confidence": "medium",
                "expected_value": 50000.0,
                "label": "Conservative Growth",
                "option_id": "option_b"
              }
            }
          ],
          "primary_recommendation": {
            "confidence": "high",
            "expected_value": 75000.0,
            "label": "Aggressive Expansion",
            "option_id": "option_a"
          },
          "robustness_summary": {
            "closest_flip_point": {
              "operator": "<",
              "parameter": "market_size",
              "value": 0.75
            },
            "conditions_count": 3,
            "recommendation_stability": "moderate",
            "safety_margin": 0.15
          },
          "schema_version": "conditional_recommend.v1"
        }
      },
      "ConditionalRecommendation": {
        "properties": {
          "condition_id": {
            "type": "string",
            "title": "Condition Id",
            "description": "Unique condition identifier"
          },
          "condition_type": {
            "type": "string",
            "pattern": "^(threshold|dominance|risk_profile|scenario)$",
            "title": "Condition Type",
            "description": "Type of condition"
          },
          "condition_description": {
            "type": "string",
            "title": "Condition Description",
            "description": "Human-readable description of the condition"
          },
          "condition_expression": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConditionExpression"
              }
            ],
            "description": "Machine-readable condition expression"
          },
          "triggered_recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PrimaryRecommendation"
              }
            ],
            "description": "Recommendation when condition is true"
          },
          "probability_of_condition": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Probability Of Condition",
            "description": "Estimated probability that condition is true"
          },
          "impact_magnitude": {
            "type": "string",
            "pattern": "^(high|medium|low)$",
            "title": "Impact Magnitude",
            "description": "Impact magnitude if condition is true"
          }
        },
        "type": "object",
        "required": [
          "condition_id",
          "condition_type",
          "condition_description",
          "condition_expression",
          "triggered_recommendation",
          "impact_magnitude"
        ],
        "title": "ConditionalRecommendation",
        "description": "A conditional recommendation that depends on parameter values.",
        "example": {
          "condition_description": "If marketing ROI drops below 0.3",
          "condition_expression": {
            "operator": "<",
            "parameter": "marketing_roi",
            "value": 0.3
          },
          "condition_id": "cond_001",
          "condition_type": "threshold",
          "impact_magnitude": "high",
          "probability_of_condition": 0.25,
          "triggered_recommendation": {
            "confidence": "medium",
            "expected_value": 50000.0,
            "label": "Conservative Growth",
            "option_id": "option_b"
          }
        }
      },
      "ConfidenceInterval": {
        "properties": {
          "lower": {
            "type": "number",
            "title": "Lower",
            "description": "Lower bound of confidence interval"
          },
          "upper": {
            "type": "number",
            "title": "Upper",
            "description": "Upper bound of confidence interval"
          },
          "confidence_level": {
            "type": "number",
            "title": "Confidence Level",
            "description": "Confidence level (default 95%)",
            "default": 0.95
          }
        },
        "type": "object",
        "required": [
          "lower",
          "upper"
        ],
        "title": "ConfidenceInterval",
        "description": "Confidence interval for numerical estimates.",
        "example": {
          "confidence_level": 0.95,
          "lower": 45000,
          "upper": 55000
        }
      },
      "ConfidenceLevel": {
        "type": "string",
        "enum": [
          "high",
          "medium",
          "low"
        ],
        "title": "ConfidenceLevel",
        "description": "Confidence level for analysis results."
      },
      "ConfidenceLevelEnum": {
        "type": "string",
        "enum": [
          "high",
          "medium",
          "low"
        ],
        "title": "ConfidenceLevelEnum",
        "description": "Confidence level for recommendations."
      },
      "Conflict": {
        "properties": {
          "between": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Between",
            "description": "Roles in conflict"
          },
          "about": {
            "type": "string",
            "title": "About",
            "description": "What the conflict is about"
          },
          "severity": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConflictSeverity"
              }
            ],
            "description": "Conflict severity"
          },
          "suggestion": {
            "type": "string",
            "title": "Suggestion",
            "description": "Potential resolution"
          }
        },
        "type": "object",
        "required": [
          "between",
          "about",
          "severity",
          "suggestion"
        ],
        "title": "Conflict",
        "description": "A conflict between team perspectives."
      },
      "ConflictSeverity": {
        "type": "string",
        "enum": [
          "minor",
          "moderate",
          "major"
        ],
        "title": "ConflictSeverity",
        "description": "Severity of team alignment conflict."
      },
      "ConformalCounterfactualRequest": {
        "properties": {
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Intervention",
            "description": "Intervention to apply"
          },
          "calibration_data": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ObservationPoint"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calibration Data",
            "description": "Historical observations for calibration (optional if model has built-in calibration)"
          },
          "confidence_level": {
            "type": "number",
            "maximum": 0.999,
            "minimum": 0.5,
            "title": "Confidence Level",
            "description": "Target coverage level (1-alpha), e.g., 0.95 for 95% coverage",
            "default": 0.95
          },
          "method": {
            "type": "string",
            "title": "Method",
            "description": "Conformal method: 'split', 'cv+', or 'jackknife+'",
            "default": "split"
          },
          "samples": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "Samples",
            "description": "Number of samples for Monte Carlo comparison",
            "default": 1000
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed",
            "description": "Random seed for reproducibility"
          }
        },
        "type": "object",
        "required": [
          "model",
          "intervention"
        ],
        "title": "ConformalCounterfactualRequest",
        "description": "Request model for conformal prediction endpoint.\n\nProvides finite-sample valid prediction intervals with\nguaranteed coverage using conformal prediction methods.",
        "example": {
          "calibration_data": [
            {
              "inputs": {
                "Price": 40
              },
              "outcome": {
                "Revenue": 30000
              }
            },
            {
              "inputs": {
                "Price": 45
              },
              "outcome": {
                "Revenue": 32500
              }
            },
            {
              "inputs": {
                "Price": 50
              },
              "outcome": {
                "Revenue": 35000
              }
            }
          ],
          "confidence_level": 0.95,
          "intervention": {
            "Price": 50
          },
          "method": "split",
          "model": {
            "distributions": {
              "noise": {
                "parameters": {
                  "mean": 0,
                  "std": 1000
                },
                "type": "normal"
              }
            },
            "equations": {
              "Revenue": "10000 + 500*Price"
            },
            "variables": [
              "Price",
              "Revenue"
            ]
          },
          "samples": 1000,
          "seed": 42
        }
      },
      "ConformalCounterfactualResponse": {
        "properties": {
          "prediction_interval": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConformalInterval"
              }
            ],
            "description": "Conformal prediction interval"
          },
          "coverage_guarantee": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CoverageGuarantee"
              }
            ],
            "description": "Coverage guarantee details"
          },
          "calibration_quality": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CalibrationMetrics"
              }
            ],
            "description": "Quality metrics for calibration set"
          },
          "comparison_to_standard": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ComparisonMetrics"
              }
            ],
            "description": "Comparison to standard Monte Carlo intervals"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "prediction_interval",
          "coverage_guarantee",
          "calibration_quality",
          "comparison_to_standard",
          "explanation"
        ],
        "title": "ConformalCounterfactualResponse",
        "description": "Response model for conformal counterfactual prediction.\n\nProvides prediction intervals with finite-sample valid\ncoverage guarantees, calibration quality metrics, and\ncomparison to standard methods.",
        "example": {
          "calibration_quality": {
            "calibration_size": 50,
            "interval_adaptivity": 0.48,
            "residual_statistics": {
              "iqr": 1500,
              "mean": 2500,
              "median": 2300,
              "std": 1200
            }
          },
          "comparison_to_standard": {
            "conformal_interval": {
              "Revenue": [
                48000,
                56000
              ]
            },
            "interpretation": "Conformal interval is 33% wider",
            "monte_carlo_interval": {
              "Revenue": {
                "confidence_level": 0.95,
                "lower": 49000,
                "upper": 55000
              }
            },
            "width_ratio": {
              "Revenue": 1.33
            }
          },
          "coverage_guarantee": {
            "assumptions": [
              "Exchangeability of calibration and test points"
            ],
            "finite_sample_valid": true,
            "guaranteed_coverage": 0.9474,
            "nominal_coverage": 0.95
          },
          "explanation": {
            "assumptions": [
              "Exchangeability between calibration and test data"
            ],
            "reasoning": "Using split conformal with 50 calibration points",
            "summary": "Conformal prediction provides 94.7% guaranteed coverage",
            "technical_basis": "Finite-sample conformal prediction (Vovk et al. 2005)"
          },
          "prediction_interval": {
            "interval_width": {
              "Revenue": 8000
            },
            "lower_bound": {
              "Revenue": 48000
            },
            "point_estimate": {
              "Revenue": 52000
            },
            "upper_bound": {
              "Revenue": 56000
            }
          }
        }
      },
      "ConformalInterval": {
        "properties": {
          "lower_bound": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Lower Bound",
            "description": "Lower bound of prediction interval for each outcome variable"
          },
          "upper_bound": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Upper Bound",
            "description": "Upper bound of prediction interval for each outcome variable"
          },
          "point_estimate": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Point Estimate",
            "description": "Point estimate for each outcome variable"
          },
          "interval_width": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Interval Width",
            "description": "Width of prediction interval (upper - lower)"
          }
        },
        "type": "object",
        "required": [
          "lower_bound",
          "upper_bound",
          "point_estimate",
          "interval_width"
        ],
        "title": "ConformalInterval",
        "description": "Conformal prediction interval with guaranteed coverage.\n\nProvides lower and upper bounds with finite-sample validity.",
        "example": {
          "interval_width": {
            "Revenue": 8000
          },
          "lower_bound": {
            "Revenue": 48000
          },
          "point_estimate": {
            "Revenue": 52000
          },
          "upper_bound": {
            "Revenue": 56000
          }
        }
      },
      "ConformalRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "variable": {
            "type": "string",
            "maxLength": 100,
            "title": "Variable",
            "description": "Variable or outcome to predict"
          },
          "timeout": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 30000.0,
                "minimum": 1000.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout",
            "description": "Request timeout in milliseconds",
            "default": 12000
          }
        },
        "type": "object",
        "required": [
          "graph",
          "variable"
        ],
        "title": "ConformalRequest",
        "description": "Request model for conformal prediction endpoint.",
        "example": {
          "graph": {
            "edges": [],
            "nodes": [
              {
                "id": "n_revenue",
                "kind": "outcome",
                "label": "Revenue"
              }
            ]
          },
          "timeout": 12000,
          "variable": "n_revenue"
        }
      },
      "ConformalResponse": {
        "properties": {
          "prediction_interval": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "maxItems": 2,
            "minItems": 2,
            "title": "Prediction Interval",
            "description": "Numeric bounds [lower, upper]"
          },
          "confidence_level": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence Level",
            "description": "Confidence level (0-1)"
          },
          "uncertainty_source": {
            "type": "string",
            "maxLength": 500,
            "title": "Uncertainty Source",
            "description": "Main source of uncertainty"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "prediction_interval",
          "confidence_level",
          "uncertainty_source"
        ],
        "title": "ConformalResponse",
        "description": "Response model for conformal prediction.",
        "example": {
          "confidence_level": 0.9,
          "prediction_interval": [
            45000,
            78000
          ],
          "uncertainty_source": "Market demand volatility and competitor response timing"
        }
      },
      "ConstraintNode": {
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "description": "Unique constraint identifier"
          },
          "constraint_type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConstraintType"
              }
            ],
            "description": "Type of constraint"
          },
          "target_variable": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Target Variable",
            "description": "Variable this constraint applies to"
          },
          "relation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConstraintRelation"
              }
            ],
            "description": "Relation operator"
          },
          "threshold": {
            "type": "number",
            "title": "Threshold",
            "description": "Threshold value"
          },
          "label": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Label",
            "description": "Human-readable constraint label"
          },
          "priority": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(hard|soft|medium)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority",
            "description": "Constraint priority: hard, soft, medium",
            "default": "medium"
          }
        },
        "type": "object",
        "required": [
          "id",
          "constraint_type",
          "target_variable",
          "relation",
          "threshold"
        ],
        "title": "ConstraintNode",
        "description": "A constraint node in the decision graph.",
        "example": {
          "constraint_type": "budget",
          "id": "budget_constraint",
          "label": "Budget must not exceed $100,000",
          "priority": "hard",
          "relation": "le",
          "target_variable": "total_cost",
          "threshold": 100000.0
        }
      },
      "ConstraintRelation": {
        "type": "string",
        "enum": [
          "le",
          "ge",
          "eq",
          "lt",
          "gt"
        ],
        "title": "ConstraintRelation",
        "description": "Constraint relation operators."
      },
      "ConstraintType": {
        "type": "string",
        "enum": [
          "threshold",
          "budget",
          "capacity",
          "dependency",
          "exclusion",
          "requirement"
        ],
        "title": "ConstraintType",
        "description": "Types of constraints supported."
      },
      "ConstraintValidationResult": {
        "properties": {
          "constraint_id": {
            "type": "string",
            "title": "Constraint Id",
            "description": "ID of the constraint"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "description": "Whether the constraint is properly specified"
          },
          "issues": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Issues",
            "description": "List of issues with the constraint specification"
          }
        },
        "type": "object",
        "required": [
          "constraint_id",
          "is_valid"
        ],
        "title": "ConstraintValidationResult",
        "description": "Result of validating a single constraint specification.",
        "example": {
          "constraint_id": "budget_limit",
          "is_valid": true,
          "issues": []
        }
      },
      "ConstraintViolation": {
        "properties": {
          "constraint_id": {
            "type": "string",
            "title": "Constraint Id",
            "description": "ID of the violated constraint"
          },
          "constraint_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Constraint Label",
            "description": "Human-readable constraint label"
          },
          "actual_value": {
            "type": "number",
            "title": "Actual Value",
            "description": "Actual value that violated the constraint"
          },
          "threshold": {
            "type": "number",
            "title": "Threshold",
            "description": "Threshold value that was violated"
          },
          "violation_magnitude": {
            "type": "number",
            "title": "Violation Magnitude",
            "description": "How much the constraint was violated by"
          },
          "is_hard_violation": {
            "type": "boolean",
            "title": "Is Hard Violation",
            "description": "Whether this is a hard constraint violation"
          }
        },
        "type": "object",
        "required": [
          "constraint_id",
          "actual_value",
          "threshold",
          "violation_magnitude",
          "is_hard_violation"
        ],
        "title": "ConstraintViolation",
        "description": "Details of a constraint violation.",
        "example": {
          "actual_value": 120000,
          "constraint_id": "budget_limit",
          "constraint_label": "Budget must not exceed $100,000",
          "is_hard_violation": true,
          "threshold": 100000,
          "violation_magnitude": 20000
        }
      },
      "ContrastiveAlternative": {
        "properties": {
          "change": {
            "type": "string",
            "maxLength": 1000,
            "title": "Change",
            "description": "What to change"
          },
          "outcome_diff": {
            "type": "string",
            "maxLength": 1000,
            "title": "Outcome Diff",
            "description": "How outcome would differ"
          },
          "feasibility": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Feasibility",
            "description": "Implementation feasibility (0-1)"
          }
        },
        "type": "object",
        "required": [
          "change",
          "outcome_diff",
          "feasibility"
        ],
        "title": "ContrastiveAlternative",
        "description": "Single contrastive alternative suggestion.",
        "example": {
          "change": "Increase initial marketing budget by 40%",
          "feasibility": 0.85,
          "outcome_diff": "Would increase market penetration from 12% to 18% in Q1"
        }
      },
      "ContrastiveExplanationRequest": {
        "properties": {
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          },
          "current_state": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Current State",
            "description": "Current values for all variables"
          },
          "observed_outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Observed Outcome",
            "description": "Current observed outcome values"
          },
          "target_outcome": {
            "additionalProperties": {
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "object",
            "title": "Target Outcome",
            "description": "Target outcome ranges (variable \u2192 (min, max))"
          },
          "constraints": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InterventionConstraints"
              }
            ],
            "description": "Constraints on which variables can change and how"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed",
            "description": "Random seed for deterministic results"
          }
        },
        "type": "object",
        "required": [
          "model",
          "current_state",
          "observed_outcome",
          "target_outcome",
          "constraints"
        ],
        "title": "ContrastiveExplanationRequest",
        "description": "Request model for contrastive explanation endpoint.",
        "example": {
          "constraints": {
            "feasible": [
              "Price",
              "Marketing"
            ],
            "fixed": [
              "Quality"
            ],
            "max_changes": 2,
            "minimize": "cost"
          },
          "current_state": {
            "Marketing": 30000,
            "Price": 40,
            "Quality": 7.5
          },
          "model": {
            "distributions": {
              "baseline_noise": {
                "parameters": {
                  "mean": 0,
                  "std": 1000
                },
                "type": "normal"
              }
            },
            "equations": {
              "Brand": "50 + 0.3 * Quality - 0.1 * Price",
              "Revenue": "10000 + 800 * Price + 200 * Quality + 0.5 * Marketing + 300 * Brand"
            },
            "variables": [
              "Price",
              "Quality",
              "Marketing",
              "Brand",
              "Revenue"
            ]
          },
          "observed_outcome": {
            "Revenue": 40000
          },
          "seed": 42,
          "target_outcome": {
            "Revenue": [
              50000,
              55000
            ]
          }
        }
      },
      "ContrastiveExplanationResponse": {
        "properties": {
          "minimal_interventions": {
            "items": {
              "$ref": "#/components/schemas/MinimalIntervention"
            },
            "type": "array",
            "title": "Minimal Interventions",
            "description": "Minimal interventions ranked by optimization criterion"
          },
          "comparison": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InterventionComparison"
              }
            ],
            "description": "Comparison of interventions"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation of recommendations"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "minimal_interventions",
          "comparison",
          "explanation"
        ],
        "title": "ContrastiveExplanationResponse",
        "description": "Response model for contrastive explanation endpoint.",
        "example": {
          "comparison": {
            "best_by_cost": 1,
            "best_by_feasibility": 1,
            "best_by_robustness": 1,
            "synergies": "Single intervention sufficient for target",
            "tradeoffs": "No significant tradeoffs"
          },
          "explanation": {
            "assumptions": [
              "Price elasticity remains constant",
              "No competitive response"
            ],
            "reasoning": "Price has strong causal effect on Revenue. A 12.5% increase yields expected \u00a311k revenue gain.",
            "summary": "Increase Price from \u00a340 to \u00a345 to achieve target revenue",
            "technical_basis": "Binary search with FACET robustness verification"
          },
          "minimal_interventions": [
            {
              "changes": {
                "Price": {
                  "delta": 5,
                  "from_value": 40,
                  "relative_change": 12.5,
                  "to_value": 45,
                  "unit": "\u00a3",
                  "variable": "Price"
                }
              },
              "confidence_interval": {
                "Revenue": {
                  "confidence_level": 0.95,
                  "lower": 48000,
                  "upper": 54000
                }
              },
              "cost_estimate": "low",
              "expected_outcome": {
                "Revenue": 51000
              },
              "feasibility": 0.95,
              "rank": 1,
              "robustness": "robust",
              "robustness_score": 0.85
            }
          ]
        }
      },
      "ContrastiveRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "target_outcome": {
            "type": "string",
            "maxLength": 100,
            "title": "Target Outcome",
            "description": "Desired outcome or node ID to analyze"
          },
          "timeout": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 30000.0,
                "minimum": 1000.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout",
            "description": "Request timeout in milliseconds",
            "default": 12000
          }
        },
        "type": "object",
        "required": [
          "graph",
          "target_outcome"
        ],
        "title": "ContrastiveRequest",
        "description": "Request model for contrastive explanation endpoint.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "n_launch_product",
                "to": "n_market_success",
                "weight": 2.0
              }
            ],
            "nodes": [
              {
                "id": "n_launch_product",
                "kind": "decision",
                "label": "Launch Product"
              },
              {
                "id": "n_market_success",
                "kind": "outcome",
                "label": "Market Success"
              }
            ]
          },
          "target_outcome": "n_market_success",
          "timeout": 12000
        }
      },
      "ContrastiveResponse": {
        "properties": {
          "alternatives": {
            "items": {
              "$ref": "#/components/schemas/ContrastiveAlternative"
            },
            "type": "array",
            "title": "Alternatives",
            "description": "List of actionable alternatives"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "alternatives"
        ],
        "title": "ContrastiveResponse",
        "description": "Response model for contrastive explanation.",
        "example": {
          "alternatives": [
            {
              "change": "Increase initial marketing budget by 40%",
              "feasibility": 0.85,
              "outcome_diff": "Would increase market penetration from 12% to 18% in Q1"
            },
            {
              "change": "Partner with established distributor",
              "feasibility": 0.6,
              "outcome_diff": "Would reduce time-to-market by 3 months but increase costs 15%"
            }
          ]
        }
      },
      "CorrelationGroup": {
        "properties": {
          "group_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Group Id",
            "description": "Unique identifier for the correlation group"
          },
          "factors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 2,
            "title": "Factors",
            "description": "List of factor IDs that are correlated"
          },
          "correlation": {
            "type": "number",
            "maximum": 1.0,
            "minimum": -1.0,
            "title": "Correlation",
            "description": "Correlation coefficient (-1 to 1). Positive = move together, negative = inverse"
          },
          "label": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Label",
            "description": "Human-readable description of the correlation"
          },
          "correlation_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(pearson|spearman|kendall)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlation Type",
            "description": "Type of correlation: 'pearson', 'spearman', or 'kendall'",
            "default": "pearson"
          }
        },
        "type": "object",
        "required": [
          "group_id",
          "factors",
          "correlation"
        ],
        "title": "CorrelationGroup",
        "description": "Specification for a group of correlated factors.",
        "example": {
          "correlation": 0.7,
          "correlation_type": "pearson",
          "factors": [
            "demand",
            "competition"
          ],
          "group_id": "market_conditions",
          "label": "Demand and competition tend to move together"
        }
      },
      "CorrelationMatrix": {
        "properties": {
          "factors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 2,
            "title": "Factors",
            "description": "List of factor IDs in matrix order"
          },
          "matrix": {
            "items": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "type": "array",
            "title": "Matrix",
            "description": "Correlation matrix (symmetric, diagonal = 1)"
          }
        },
        "type": "object",
        "required": [
          "factors",
          "matrix"
        ],
        "title": "CorrelationMatrix",
        "description": "Full correlation matrix specification for multiple factors.",
        "example": {
          "factors": [
            "demand",
            "competition",
            "price_sensitivity"
          ],
          "matrix": [
            [
              1.0,
              0.7,
              -0.3
            ],
            [
              0.7,
              1.0,
              0.2
            ],
            [
              -0.3,
              0.2,
              1.0
            ]
          ]
        }
      },
      "CorrelationMatrixAnalysis": {
        "properties": {
          "is_positive_semi_definite": {
            "type": "boolean",
            "title": "Is Positive Semi Definite",
            "description": "Whether matrix is positive semi-definite (valid for sampling)"
          },
          "min_eigenvalue": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Eigenvalue",
            "description": "Minimum eigenvalue (negative indicates not PSD)"
          },
          "condition_number": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Condition Number",
            "description": "Condition number (high values indicate near-singularity)"
          },
          "suggested_regularization": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suggested Regularization",
            "description": "Suggested regularization if matrix is not PSD"
          }
        },
        "type": "object",
        "required": [
          "is_positive_semi_definite"
        ],
        "title": "CorrelationMatrixAnalysis",
        "description": "Analysis of the correlation matrix.",
        "example": {
          "condition_number": 3.2,
          "is_positive_semi_definite": true,
          "min_eigenvalue": 0.15
        }
      },
      "CorrelationValidationRequest": {
        "properties": {
          "correlation_groups": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/CorrelationGroup"
                },
                "type": "array",
                "maxItems": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlation Groups",
            "description": "List of correlation groups to validate"
          },
          "correlation_matrix": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CorrelationMatrix"
              },
              {
                "type": "null"
              }
            ],
            "description": "Full correlation matrix (alternative to groups)"
          },
          "graph": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              },
              {
                "type": "null"
              }
            ],
            "description": "Graph to validate factor references against"
          },
          "check_positive_definite": {
            "type": "boolean",
            "title": "Check Positive Definite",
            "description": "Check if implied correlation matrix is positive semi-definite",
            "default": true
          }
        },
        "type": "object",
        "title": "CorrelationValidationRequest",
        "description": "Request model for correlation group validation endpoint.",
        "example": {
          "check_positive_definite": true,
          "correlation_groups": [
            {
              "correlation": 0.7,
              "factors": [
                "demand",
                "competition"
              ],
              "group_id": "market_conditions"
            },
            {
              "correlation": 0.5,
              "factors": [
                "labor_cost",
                "material_cost"
              ],
              "group_id": "cost_factors"
            }
          ]
        }
      },
      "CorrelationValidationResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version",
            "default": "correlation.v1"
          },
          "valid": {
            "type": "boolean",
            "title": "Valid",
            "description": "Whether the correlation specification is valid for sampling"
          },
          "validated_groups": {
            "items": {
              "$ref": "#/components/schemas/ValidatedCorrelationGroup"
            },
            "type": "array",
            "title": "Validated Groups",
            "description": "Validation results for each correlation group"
          },
          "implied_matrix": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ImpliedCorrelationMatrix"
              },
              {
                "type": "null"
              }
            ],
            "description": "The implied correlation matrix from groups"
          },
          "matrix_analysis": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CorrelationMatrixAnalysis"
              },
              {
                "type": "null"
              }
            ],
            "description": "Analysis of the correlation matrix properties"
          },
          "warnings": {
            "items": {
              "$ref": "#/components/schemas/CorrelationValidationWarning"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Validation warnings"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "Validation errors (if valid=false)"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "valid"
        ],
        "title": "CorrelationValidationResponse",
        "description": "Response model for correlation validation endpoint.",
        "example": {
          "matrix_analysis": {
            "condition_number": 2.5,
            "is_positive_semi_definite": true,
            "min_eigenvalue": 0.3
          },
          "schema_version": "correlation.v1",
          "valid": true,
          "validated_groups": [
            {
              "correlation": 0.7,
              "factors": [
                "demand",
                "competition"
              ],
              "group_id": "market_conditions",
              "is_valid": true,
              "issues": []
            }
          ],
          "warnings": []
        }
      },
      "CorrelationValidationWarning": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code",
            "description": "Warning code"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable warning message"
          },
          "affected_groups": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Affected Groups",
            "description": "Group IDs affected by this warning"
          },
          "affected_factors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Affected Factors",
            "description": "Factor IDs affected by this warning"
          }
        },
        "type": "object",
        "required": [
          "code",
          "message"
        ],
        "title": "CorrelationValidationWarning",
        "description": "Warning from correlation validation.",
        "example": {
          "affected_factors": [
            "demand",
            "sales"
          ],
          "code": "HIGH_CORRELATION",
          "message": "Correlation of 0.95 between demand and sales may indicate redundancy"
        }
      },
      "CounterfactualRequest": {
        "properties": {
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Intervention",
            "description": "Intervention values mapping variable names to values"
          },
          "outcome": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "description": "Outcome variable to predict"
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Optional observed context values"
          },
          "preferences": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferences",
            "description": "Reserved for ActiVA preferences (Phase 1)"
          },
          "user_context": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Context",
            "description": "Reserved for Bayesian Teaching context (Phase 1)"
          }
        },
        "type": "object",
        "required": [
          "model",
          "intervention",
          "outcome"
        ],
        "title": "CounterfactualRequest",
        "description": "Request model for counterfactual analysis endpoint.",
        "example": {
          "context": {
            "baseline_brand": 52
          },
          "intervention": {
            "Price": 15
          },
          "model": {
            "distributions": {
              "baseline_brand": {
                "parameters": {
                  "mean": 50,
                  "std": 5
                },
                "type": "normal"
              }
            },
            "equations": {
              "Brand": "baseline_brand + 0.3 * Price",
              "Revenue": "10000 + 500 * Price - 200 * Brand"
            },
            "variables": [
              "Price",
              "Brand",
              "Revenue"
            ]
          },
          "outcome": "Revenue"
        }
      },
      "CounterfactualResponse": {
        "properties": {
          "scenario": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ScenarioDescription"
              }
            ],
            "description": "Scenario description"
          },
          "prediction": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PredictionResults"
              }
            ],
            "description": "Prediction results"
          },
          "uncertainty": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UncertaintyBreakdown"
              }
            ],
            "description": "Uncertainty breakdown"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessAnalysis"
              }
            ],
            "description": "Robustness analysis"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "scenario",
          "prediction",
          "uncertainty",
          "robustness",
          "explanation"
        ],
        "title": "CounterfactualResponse",
        "description": "Response model for counterfactual analysis endpoint.",
        "example": {
          "explanation": {
            "assumptions": [
              "Structural equations correct"
            ],
            "reasoning": "Price increase drives growth...",
            "summary": "Revenue likely increases by \u00a345k-\u00a355k",
            "technical_basis": "FACET region-based analysis"
          },
          "prediction": {
            "confidence_interval": {
              "lower": 45000,
              "upper": 55000
            },
            "point_estimate": 51000,
            "sensitivity_range": {
              "explanation": "Range accounts for competitive effects",
              "optimistic": 62000,
              "pessimistic": 38000
            }
          },
          "robustness": {
            "critical_assumptions": [
              {
                "assumption": "Price sensitivity constant",
                "confidence": "medium",
                "impact": 15000,
                "recommendation": "A/B test before rollout"
              }
            ],
            "score": "moderate"
          },
          "scenario": {
            "intervention": {
              "Price": 15
            },
            "outcome": "Revenue"
          },
          "uncertainty": {
            "overall": "medium",
            "sources": [
              {
                "basis": "Historical data",
                "confidence": "medium",
                "explanation": "Brand changes take time",
                "factor": "Brand perception lag",
                "impact": 3000
              }
            ]
          }
        }
      },
      "CoverageGuarantee": {
        "properties": {
          "nominal_coverage": {
            "type": "number",
            "title": "Nominal Coverage",
            "description": "Requested coverage level (e.g., 0.95)"
          },
          "guaranteed_coverage": {
            "type": "number",
            "title": "Guaranteed Coverage",
            "description": "Provable coverage level accounting for finite samples"
          },
          "finite_sample_valid": {
            "type": "boolean",
            "title": "Finite Sample Valid",
            "description": "Whether guarantee holds for finite samples (always True for conformal)"
          },
          "assumptions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Assumptions",
            "description": "Assumptions required for coverage guarantee"
          }
        },
        "type": "object",
        "required": [
          "nominal_coverage",
          "guaranteed_coverage",
          "finite_sample_valid",
          "assumptions"
        ],
        "title": "CoverageGuarantee",
        "description": "Coverage guarantee for conformal prediction.\n\nDocuments the theoretical guarantee that the true value\nwill fall within the interval with specified probability.",
        "example": {
          "assumptions": [
            "Exchangeability of calibration and test points"
          ],
          "finite_sample_valid": true,
          "guaranteed_coverage": 0.9474,
          "nominal_coverage": 0.95
        }
      },
      "CriterionResult": {
        "properties": {
          "criterion_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Criterion Id",
            "description": "Criterion identifier"
          },
          "criterion_name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Criterion Name",
            "description": "Human-readable criterion name"
          },
          "options": {
            "items": {
              "$ref": "#/components/schemas/OptionScore"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "description": "Scores for each option on this criterion"
          }
        },
        "type": "object",
        "required": [
          "criterion_id",
          "criterion_name",
          "options"
        ],
        "title": "CriterionResult",
        "description": "Results for a single criterion with scores for all options.",
        "example": {
          "criterion_id": "revenue",
          "criterion_name": "Expected Revenue",
          "options": [
            {
              "option_id": "opt_a",
              "option_label": "Option A",
              "p10": 0.65,
              "p50": 0.85,
              "p90": 0.95
            },
            {
              "option_id": "opt_b",
              "option_label": "Option B",
              "p10": 0.45,
              "p50": 0.6,
              "p90": 0.75
            }
          ]
        }
      },
      "CriticalAssumption": {
        "properties": {
          "assumption": {
            "type": "string",
            "title": "Assumption",
            "description": "The assumption being tested"
          },
          "impact": {
            "type": "number",
            "title": "Impact",
            "description": "How much result changes if assumption is wrong"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in this assumption"
          },
          "recommendation": {
            "type": "string",
            "title": "Recommendation",
            "description": "Recommended action"
          }
        },
        "type": "object",
        "required": [
          "assumption",
          "impact",
          "confidence",
          "recommendation"
        ],
        "title": "CriticalAssumption",
        "description": "A critical assumption affecting robustness.",
        "example": {
          "assumption": "Customer price sensitivity remains constant",
          "confidence": "medium",
          "impact": 15000,
          "recommendation": "Consider A/B testing before full rollout"
        }
      },
      "DAGStructure": {
        "properties": {
          "nodes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 1,
            "title": "Nodes",
            "description": "List of node names in the graph"
          },
          "edges": {
            "items": {
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "array",
            "maxItems": 200,
            "title": "Edges",
            "description": "List of directed edges as (from, to) tuples"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges"
        ],
        "title": "DAGStructure",
        "description": "Directed Acyclic Graph structure.",
        "example": {
          "edges": [
            [
              "Price",
              "Revenue"
            ],
            [
              "Brand",
              "Price"
            ],
            [
              "Brand",
              "Revenue"
            ]
          ],
          "nodes": [
            "Price",
            "Brand",
            "Revenue"
          ]
        }
      },
      "DataSummary": {
        "properties": {
          "n_samples": {
            "type": "integer",
            "minimum": 0.0,
            "title": "N Samples",
            "description": "Number of samples available"
          },
          "available_variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "title": "Available Variables",
            "description": "Variables measured in this domain"
          },
          "notes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 10,
            "title": "Notes",
            "description": "Additional notes about data availability"
          }
        },
        "type": "object",
        "required": [
          "n_samples",
          "available_variables"
        ],
        "title": "DataSummary",
        "description": "Summary of available data in a domain.",
        "example": {
          "available_variables": [
            "Price",
            "Revenue",
            "CustomerAge"
          ],
          "n_samples": 1000,
          "notes": [
            "Covariates only",
            "No outcome data"
          ]
        }
      },
      "DecisionContext": {
        "properties": {
          "domain": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Domain",
            "description": "Decision domain (e.g., 'pricing', 'feature_prioritization')"
          },
          "variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "title": "Variables",
            "description": "Relevant decision variables"
          },
          "constraints": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Constraints",
            "description": "Domain-specific constraints"
          }
        },
        "type": "object",
        "required": [
          "domain",
          "variables"
        ],
        "title": "DecisionContext",
        "description": "Context for a decision domain.",
        "example": {
          "constraints": {
            "current_price": 49,
            "industry": "SaaS"
          },
          "domain": "pricing",
          "variables": [
            "price",
            "revenue",
            "churn",
            "brand_perception"
          ]
        }
      },
      "DecisionRule": {
        "properties": {
          "default_action": {
            "type": "string",
            "title": "Default Action",
            "description": "Default action if no conditions are met"
          },
          "conditional_actions": {
            "items": {
              "$ref": "#/components/schemas/ConditionalAction"
            },
            "type": "array",
            "title": "Conditional Actions",
            "description": "List of conditional actions"
          }
        },
        "type": "object",
        "required": [
          "default_action"
        ],
        "title": "DecisionRule",
        "description": "Conditional decision rule based on observed state.",
        "example": {
          "conditional_actions": [
            {
              "action": "expand",
              "condition": "If market_favorable",
              "expected_value_if_taken": 85000.0
            },
            {
              "action": "exit",
              "condition": "If market_unfavorable",
              "expected_value_if_taken": 10000.0
            }
          ],
          "default_action": "wait"
        }
      },
      "DecisionStage": {
        "properties": {
          "stage_index": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Stage Index",
            "description": "Zero-based stage index"
          },
          "stage_label": {
            "type": "string",
            "maxLength": 200,
            "title": "Stage Label",
            "description": "Human-readable label for the stage"
          },
          "decision_nodes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "title": "Decision Nodes",
            "description": "Node IDs that are decisions at this stage"
          },
          "resolution_nodes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "title": "Resolution Nodes",
            "description": "Uncertainty nodes resolved by this stage"
          },
          "time_horizon": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(immediate|short_term|long_term)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Time Horizon",
            "description": "Time horizon: 'immediate', 'short_term', 'long_term'"
          }
        },
        "type": "object",
        "required": [
          "stage_index",
          "stage_label",
          "decision_nodes"
        ],
        "title": "DecisionStage",
        "description": "A stage in a sequential decision problem.",
        "example": {
          "decision_nodes": [
            "invest_decision"
          ],
          "resolution_nodes": [],
          "stage_index": 0,
          "stage_label": "Initial Investment Decision",
          "time_horizon": "immediate"
        }
      },
      "DecisionVariable": {
        "properties": {
          "variable_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Variable Id",
            "description": "Unique identifier for the decision variable"
          },
          "lower_bound": {
            "type": "number",
            "title": "Lower Bound",
            "description": "Lower bound for this variable"
          },
          "upper_bound": {
            "type": "number",
            "title": "Upper Bound",
            "description": "Upper bound for this variable"
          },
          "initial_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Initial Value",
            "description": "Optional initial value (defaults to midpoint)"
          },
          "step_size": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step Size",
            "description": "Optional custom step size for grid search"
          }
        },
        "type": "object",
        "required": [
          "variable_id",
          "lower_bound",
          "upper_bound"
        ],
        "title": "DecisionVariable",
        "description": "Decision variable with bounds for optimization.",
        "example": {
          "initial_value": 50.0,
          "lower_bound": 10.0,
          "step_size": 5.0,
          "upper_bound": 100.0,
          "variable_id": "price"
        }
      },
      "DiscoveredDAG": {
        "properties": {
          "nodes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Nodes",
            "description": "Variable names"
          },
          "edges": {
            "items": {
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "array",
            "title": "Edges",
            "description": "Directed edges"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Confidence in this structure (0-1)"
          },
          "method": {
            "type": "string",
            "title": "Method",
            "description": "Discovery method used (correlation, knowledge, hybrid)"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges",
          "confidence",
          "method"
        ],
        "title": "DiscoveredDAG",
        "description": "A discovered DAG structure with confidence score.",
        "example": {
          "confidence": 0.75,
          "edges": [
            [
              "Price",
              "Revenue"
            ],
            [
              "Quality",
              "Revenue"
            ],
            [
              "Quality",
              "Price"
            ]
          ],
          "method": "correlation",
          "nodes": [
            "Price",
            "Quality",
            "Revenue"
          ]
        }
      },
      "DiscoveryFromDataRequest": {
        "properties": {
          "data": {
            "items": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "type": "array",
            "maxItems": 10000,
            "minItems": 10,
            "title": "Data",
            "description": "Data matrix (rows = samples, columns = variables)"
          },
          "variable_names": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 2,
            "title": "Variable Names",
            "description": "Names of variables (must match data columns)"
          },
          "prior_knowledge": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prior Knowledge",
            "description": "Prior knowledge about structure (required_edges, forbidden_edges)"
          },
          "threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Threshold",
            "description": "Correlation threshold for edge detection",
            "default": 0.3
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed",
            "description": "Random seed for reproducibility"
          }
        },
        "type": "object",
        "required": [
          "data",
          "variable_names"
        ],
        "title": "DiscoveryFromDataRequest",
        "description": "Request model for causal discovery from observational data.\n\nAutomatically suggests DAG structures from data.",
        "example": {
          "data": [
            [
              40,
              7.5,
              30000
            ],
            [
              45,
              8.0,
              32500
            ],
            [
              50,
              8.5,
              35000
            ]
          ],
          "prior_knowledge": {
            "forbidden_edges": [
              [
                "Revenue",
                "Price"
              ]
            ],
            "required_edges": [
              [
                "Price",
                "Revenue"
              ]
            ]
          },
          "seed": 42,
          "threshold": 0.3,
          "variable_names": [
            "Price",
            "Quality",
            "Revenue"
          ]
        }
      },
      "DiscoveryFromKnowledgeRequest": {
        "properties": {
          "domain_description": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 10,
            "title": "Domain Description",
            "description": "Natural language description of the domain"
          },
          "variable_names": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 2,
            "title": "Variable Names",
            "description": "Names of variables in the domain"
          },
          "prior_knowledge": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prior Knowledge",
            "description": "Prior knowledge about structure"
          },
          "top_k": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Top K",
            "description": "Number of candidate DAGs to return",
            "default": 3
          }
        },
        "type": "object",
        "required": [
          "domain_description",
          "variable_names"
        ],
        "title": "DiscoveryFromKnowledgeRequest",
        "description": "Request model for knowledge-guided causal discovery.\n\nUses domain knowledge to suggest DAG structures.",
        "example": {
          "domain_description": "An e-commerce pricing model where price affects revenue, quality affects both price and revenue",
          "prior_knowledge": {
            "required_edges": [
              [
                "Price",
                "Revenue"
              ]
            ]
          },
          "top_k": 3,
          "variable_names": [
            "Price",
            "Quality",
            "Revenue"
          ]
        }
      },
      "DiscoveryResponse": {
        "properties": {
          "discovered_dags": {
            "items": {
              "$ref": "#/components/schemas/DiscoveredDAG"
            },
            "type": "array",
            "title": "Discovered Dags",
            "description": "Discovered DAG structures ranked by confidence"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "discovered_dags",
          "explanation"
        ],
        "title": "DiscoveryResponse",
        "description": "Response model for causal discovery.\n\nReturns discovered DAG structures with confidence scores.",
        "example": {
          "discovered_dags": [
            {
              "confidence": 0.85,
              "edges": [
                [
                  "Price",
                  "Revenue"
                ],
                [
                  "Quality",
                  "Revenue"
                ]
              ],
              "method": "correlation",
              "nodes": [
                "Price",
                "Quality",
                "Revenue"
              ]
            }
          ],
          "explanation": {
            "assumptions": [
              "Linear relationships",
              "No hidden confounders"
            ],
            "reasoning": "Strong correlations between Price\u2192Revenue (0.82) and Quality\u2192Revenue (0.75)",
            "summary": "Discovered DAG structure from data with 85% confidence",
            "technical_basis": "Correlation-based structure learning with threshold 0.3"
          }
        }
      },
      "Distribution": {
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DistributionType"
              }
            ],
            "description": "Type of distribution"
          },
          "parameters": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Parameters",
            "description": "Distribution parameters"
          }
        },
        "type": "object",
        "required": [
          "type",
          "parameters"
        ],
        "title": "Distribution",
        "description": "Probability distribution specification.",
        "example": {
          "parameters": {
            "mean": 0,
            "std": 1
          },
          "type": "normal"
        }
      },
      "DistributionType": {
        "type": "string",
        "enum": [
          "normal",
          "uniform",
          "beta",
          "exponential"
        ],
        "title": "DistributionType",
        "description": "Types of probability distributions."
      },
      "DomainSpec": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Domain name"
          },
          "dag": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DAGStructure"
              }
            ],
            "description": "Causal graph structure for this domain"
          },
          "data_summary": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DataSummary"
              },
              {
                "type": "null"
              }
            ],
            "description": "Summary of available data (optional)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "dag"
        ],
        "title": "DomainSpec",
        "description": "Specification for a single domain (e.g., market, region).",
        "example": {
          "dag": {
            "edges": [
              [
                "Price",
                "Revenue"
              ],
              [
                "Brand",
                "Price"
              ],
              [
                "Brand",
                "Revenue"
              ]
            ],
            "nodes": [
              "Price",
              "Brand",
              "Revenue"
            ]
          },
          "data_summary": {
            "available_variables": [
              "Price",
              "Brand",
              "Revenue"
            ],
            "n_samples": 5000,
            "notes": [
              "Complete data available"
            ]
          },
          "name": "UK Market"
        }
      },
      "DomainValidation": {
        "properties": {
          "checks": {
            "items": {
              "$ref": "#/components/schemas/ValidationCheck"
            },
            "type": "array",
            "title": "Checks",
            "description": "Domain checks performed"
          }
        },
        "type": "object",
        "required": [
          "checks"
        ],
        "title": "DomainValidation",
        "description": "Domain-specific validation results."
      },
      "DominanceOption": {
        "properties": {
          "option_id": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Option Id",
            "description": "Unique option identifier"
          },
          "option_label": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Option Label",
            "description": "Human-readable option label"
          },
          "scores": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Scores",
            "description": "Normalized scores (0-1) by criterion_id"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "scores"
        ],
        "title": "DominanceOption",
        "description": "Single option with scores across multiple criteria.",
        "example": {
          "option_id": "opt_launch_q1",
          "option_label": "Launch in Q1 2025",
          "scores": {
            "revenue": 0.85,
            "risk": 0.6,
            "timeline": 0.9
          }
        }
      },
      "DominanceRelation": {
        "properties": {
          "dominated_option_id": {
            "type": "string",
            "title": "Dominated Option Id",
            "description": "ID of the option that is dominated"
          },
          "dominated_option_label": {
            "type": "string",
            "title": "Dominated Option Label",
            "description": "Label of the option that is dominated"
          },
          "dominated_by": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dominated By",
            "description": "List of option IDs that dominate this option"
          },
          "degree": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Degree",
            "description": "Number of options that dominate this option"
          }
        },
        "type": "object",
        "required": [
          "dominated_option_id",
          "dominated_option_label",
          "dominated_by",
          "degree"
        ],
        "title": "DominanceRelation",
        "description": "Information about a dominated option.",
        "example": {
          "degree": 2,
          "dominated_by": [
            "opt_c",
            "opt_a"
          ],
          "dominated_option_id": "opt_b",
          "dominated_option_label": "Option B: Conservative Growth"
        }
      },
      "DominanceRequest": {
        "properties": {
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Optional request ID for tracing (auto-generated if not provided)"
          },
          "options": {
            "items": {
              "$ref": "#/components/schemas/DominanceOption"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "description": "Options to analyze for dominance relationships"
          },
          "criteria": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 10,
            "minItems": 1,
            "title": "Criteria",
            "description": "Criterion IDs to consider (must match keys in option scores)"
          }
        },
        "type": "object",
        "required": [
          "options",
          "criteria"
        ],
        "title": "DominanceRequest",
        "description": "Request model for dominance detection endpoint.",
        "example": {
          "criteria": [
            "revenue",
            "risk",
            "timeline"
          ],
          "options": [
            {
              "option_id": "opt_a",
              "option_label": "Option A: Aggressive Growth",
              "scores": {
                "revenue": 0.9,
                "risk": 0.4,
                "timeline": 0.7
              }
            },
            {
              "option_id": "opt_b",
              "option_label": "Option B: Conservative Growth",
              "scores": {
                "revenue": 0.6,
                "risk": 0.8,
                "timeline": 0.9
              }
            },
            {
              "option_id": "opt_c",
              "option_label": "Option C: Balanced Approach",
              "scores": {
                "revenue": 0.75,
                "risk": 0.75,
                "timeline": 0.8
              }
            }
          ],
          "request_id": "req_abc123"
        }
      },
      "DominanceResponse": {
        "properties": {
          "dominated": {
            "items": {
              "$ref": "#/components/schemas/DominanceRelation"
            },
            "type": "array",
            "title": "Dominated",
            "description": "Options that are dominated by others (sorted by degree, descending)"
          },
          "non_dominated_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Non Dominated Ids",
            "description": "Option IDs that are not dominated (Pareto frontier)"
          },
          "total_options": {
            "type": "integer",
            "minimum": 2.0,
            "title": "Total Options",
            "description": "Total number of options analyzed"
          },
          "frontier_size": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Frontier Size",
            "description": "Number of options on Pareto frontier"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "dominated",
          "non_dominated_ids",
          "total_options",
          "frontier_size"
        ],
        "title": "DominanceResponse",
        "description": "Response model for dominance detection endpoint.",
        "example": {
          "dominated": [
            {
              "degree": 1,
              "dominated_by": [
                "opt_c"
              ],
              "dominated_option_id": "opt_b",
              "dominated_option_label": "Option B: Conservative Growth"
            }
          ],
          "frontier_size": 2,
          "metadata": {
            "algorithm": "pairwise_dominance",
            "cache_hit": false,
            "computation_time_ms": 2.5,
            "isl_version": "2.0",
            "request_id": "req_abc123"
          },
          "non_dominated_ids": [
            "opt_a",
            "opt_c"
          ],
          "total_options": 3
        }
      },
      "EdgeV2": {
        "properties": {
          "from": {
            "type": "string",
            "pattern": "^[a-z0-9_:-]+$",
            "title": "From",
            "description": "Source node ID"
          },
          "to": {
            "type": "string",
            "pattern": "^[a-z0-9_:-]+$",
            "title": "To",
            "description": "Target node ID"
          },
          "exists_probability": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Exists Probability",
            "description": "P(edge exists) - structural uncertainty"
          },
          "strength": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StrengthDistribution"
              }
            ],
            "description": "Effect magnitude distribution - parametric uncertainty"
          },
          "label": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Label",
            "description": "Human-readable edge description"
          }
        },
        "type": "object",
        "required": [
          "from",
          "to",
          "exists_probability",
          "strength"
        ],
        "title": "EdgeV2",
        "description": "Edge with dual uncertainty.\n\nCombines structural uncertainty (does the edge exist?) with\nparametric uncertainty (how strong is the effect?).",
        "example": {
          "exists_probability": 0.9,
          "from": "marketing",
          "label": "Marketing increases demand",
          "strength": {
            "mean": 0.6,
            "std": 0.15
          },
          "to": "demand"
        }
      },
      "ErrorResponse": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code",
            "description": "Error code (e.g., 'ISL_INVALID_DAG')"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable error message"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Fine-grained reason code for the error"
          },
          "recovery": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RecoveryHints"
              },
              {
                "type": "null"
              }
            ],
            "description": "Recovery suggestions and hints"
          },
          "validation_failures": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Validation Failures",
            "description": "List of validation failures (ISL-specific)"
          },
          "node_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Count",
            "description": "Number of nodes in DAG (for structure errors)"
          },
          "edge_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Edge Count",
            "description": "Number of edges in DAG (for structure errors)"
          },
          "missing_nodes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Missing Nodes",
            "description": "List of missing nodes referenced in equations"
          },
          "attempted_methods": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attempted Methods",
            "description": "Identification methods attempted (for validation errors)"
          },
          "retryable": {
            "type": "boolean",
            "title": "Retryable",
            "description": "Can client retry this request?"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Service that generated error",
            "default": "isl"
          },
          "request_id": {
            "type": "string",
            "title": "Request Id",
            "description": "Request ID for correlation (from X-Request-Id header)"
          },
          "degraded": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Degraded",
            "description": "Result is partial/incomplete",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "code",
          "message",
          "retryable"
        ],
        "title": "ErrorResponse",
        "description": "Olumi Error Response (v1.0) - ISL Implementation.\n\nFollows the canonical error schema for all Olumi services.\nSee platform error schema standard for full specification.",
        "examples": [
          {
            "title": "DAG Structure Error",
            "value": {
              "code": "ISL_DAG_CYCLIC",
              "degraded": false,
              "edge_count": 6,
              "message": "DAG contains cycles and cannot be processed",
              "node_count": 5,
              "reason": "cycle_detected",
              "recovery": {
                "example": "If A\u2192B\u2192C\u2192A exists, remove one edge",
                "hints": [
                  "Check for circular dependencies in your model",
                  "Use a DAG visualization tool to identify cycles"
                ],
                "suggestion": "Remove edges that create cycles"
              },
              "request_id": "req_abc123def456",
              "retryable": false,
              "source": "isl",
              "validation_failures": [
                "Cycle: Price \u2192 Revenue \u2192 CustomerSatisfaction \u2192 Price"
              ]
            }
          },
          {
            "title": "Validation Error",
            "value": {
              "attempted_methods": [
                "backdoor",
                "front_door",
                "do_calculus"
              ],
              "code": "ISL_CAUSAL_NOT_IDENTIFIABLE",
              "degraded": false,
              "message": "Causal effect cannot be identified",
              "reason": "unmeasured_confounding",
              "recovery": {
                "hints": [
                  "Add measured confounders to the model",
                  "Consider using instrumental variables",
                  "Explore front-door criterion"
                ],
                "suggestion": "Measure and include confounding variables"
              },
              "request_id": "req_xyz789",
              "retryable": false,
              "source": "isl"
            }
          },
          {
            "title": "Timeout Error",
            "value": {
              "code": "ISL_TIMEOUT",
              "degraded": false,
              "message": "Computation exceeded time budget",
              "recovery": {
                "hints": [
                  "Simplify your causal model",
                  "Reduce Monte Carlo iterations"
                ],
                "suggestion": "Retry with a simpler model"
              },
              "request_id": "req_timeout123",
              "retryable": true,
              "source": "isl"
            }
          }
        ]
      },
      "ExperimentConstraintsSpec": {
        "properties": {
          "budget": {
            "type": "number",
            "exclusiveMinimum": 0.0,
            "title": "Budget",
            "description": "Total remaining budget"
          },
          "time_horizon": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Time Horizon",
            "description": "Number of experiments remaining"
          },
          "feasible_interventions": {
            "additionalProperties": {
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "object",
            "title": "Feasible Interventions",
            "description": "Feasible ranges for each intervention variable (min, max)"
          }
        },
        "type": "object",
        "required": [
          "budget",
          "time_horizon",
          "feasible_interventions"
        ],
        "title": "ExperimentConstraintsSpec",
        "description": "Constraints on experiments.",
        "example": {
          "budget": 100000,
          "feasible_interventions": {
            "Marketing": [
              10000,
              100000
            ],
            "Price": [
              30,
              100
            ]
          },
          "time_horizon": 5
        }
      },
      "ExperimentHistoryPoint": {
        "properties": {
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Intervention",
            "description": "Intervention values"
          },
          "outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Outcome",
            "description": "Observed outcome values"
          },
          "cost": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost",
            "description": "Actual cost of the experiment"
          }
        },
        "type": "object",
        "required": [
          "intervention",
          "outcome"
        ],
        "title": "ExperimentHistoryPoint",
        "description": "A single historical experiment for sequential optimization.",
        "example": {
          "cost": 5000,
          "intervention": {
            "Price": 45
          },
          "outcome": {
            "Revenue": 32500
          }
        }
      },
      "ExperimentRecommendationRequest": {
        "properties": {
          "beliefs": {
            "items": {
              "$ref": "#/components/schemas/BeliefDistribution"
            },
            "type": "array",
            "maxItems": 30,
            "minItems": 1,
            "title": "Beliefs",
            "description": "Current beliefs about model parameters"
          },
          "objective": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OptimizationObjectiveSpec"
              }
            ],
            "description": "Optimization objective"
          },
          "constraints": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExperimentConstraintsSpec"
              }
            ],
            "description": "Experiment constraints"
          },
          "history": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ExperimentHistoryPoint"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "History",
            "description": "Previous experiment results"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed",
            "description": "Random seed for reproducibility"
          }
        },
        "type": "object",
        "required": [
          "beliefs",
          "objective",
          "constraints"
        ],
        "title": "ExperimentRecommendationRequest",
        "description": "Request model for sequential experiment recommendation.\n\nUses Thompson sampling to recommend next experiment.",
        "example": {
          "beliefs": [
            {
              "distribution_type": "normal",
              "parameter_name": "effect_price",
              "parameters": {
                "mean": 500,
                "std": 50
              }
            }
          ],
          "constraints": {
            "budget": 100000,
            "feasible_interventions": {
              "Price": [
                30,
                100
              ]
            },
            "time_horizon": 5
          },
          "history": [
            {
              "cost": 5000,
              "intervention": {
                "Price": 45
              },
              "outcome": {
                "Revenue": 32500
              }
            }
          ],
          "objective": {
            "goal": "maximize",
            "target_variable": "Revenue"
          },
          "seed": 42
        }
      },
      "ExperimentRecommendationResponse": {
        "properties": {
          "recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RecommendedExperimentDetail"
              }
            ],
            "description": "Recommended next experiment"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "recommendation",
          "explanation"
        ],
        "title": "ExperimentRecommendationResponse",
        "description": "Response model for experiment recommendation.\n\nProvides recommended next experiment using Thompson sampling.",
        "example": {
          "explanation": {
            "assumptions": [
              "Parameter beliefs accurate",
              "Cost-benefit tradeoff acceptable"
            ],
            "reasoning": "This intervention has high information gain (0.75) and explores undersampled region",
            "summary": "Recommend testing Price=55 to maximize learning",
            "technical_basis": "Thompson sampling with 100 posterior samples"
          },
          "recommendation": {
            "cost_estimate": 10000,
            "expected_information_gain": 0.75,
            "expected_outcome": {
              "Revenue": 38000
            },
            "exploration_vs_exploitation": 0.8,
            "intervention": {
              "Price": 55
            },
            "rationale": "Explore: Test Price=55 to learn more (high information gain: 0.75)"
          }
        }
      },
      "ExplanationMetadata": {
        "properties": {
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "One-line summary of the result"
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning",
            "description": "Plain English explanation of why"
          },
          "technical_basis": {
            "type": "string",
            "title": "Technical Basis",
            "description": "Mathematical/technical justification"
          },
          "assumptions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Assumptions",
            "description": "Key assumptions made in analysis"
          },
          "simple_explanation": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Simple Explanation",
            "description": "Non-technical explanation for general audience"
          },
          "learn_more_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Learn More Url",
            "description": "Link to documentation for this concept"
          },
          "visual_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visual Type",
            "description": "Suggested visualization type (e.g., 'path_diagram', 'interval_plot')"
          }
        },
        "type": "object",
        "required": [
          "summary",
          "reasoning",
          "technical_basis",
          "assumptions"
        ],
        "title": "ExplanationMetadata",
        "description": "Explanation metadata included in all responses.",
        "example": {
          "assumptions": [
            "No unmeasured confounding",
            "Correct causal structure specified"
          ],
          "learn_more_url": "https://docs.inference-service-layer.com/docs/methods/backdoor-adjustment",
          "reasoning": "Brand influences both Price and Revenue, creating confounding. Controlling for Brand blocks the backdoor path.",
          "simple_explanation": "We can estimate this effect by controlling for Brand.",
          "summary": "Effect is identifiable by controlling for Brand",
          "technical_basis": "Backdoor criterion satisfied with adjustment set {Brand}",
          "visual_type": "dag_with_adjustment"
        }
      },
      "FACETRobustnessAnalysis": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Analysis status: robust, fragile, or failed"
          },
          "robust_regions": {
            "items": {
              "$ref": "#/components/schemas/InterventionRegion"
            },
            "type": "array",
            "title": "Robust Regions",
            "description": "Regions achieving target outcome"
          },
          "outcome_guarantees": {
            "additionalProperties": {
              "$ref": "#/components/schemas/OutcomeGuarantee"
            },
            "type": "object",
            "title": "Outcome Guarantees",
            "description": "Guaranteed outcomes by outcome variable"
          },
          "robustness_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "description": "Overall robustness (0-1, higher = more robust)"
          },
          "region_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Region Count",
            "description": "Number of robust regions found"
          },
          "total_volume": {
            "type": "number",
            "minimum": 0.0,
            "title": "Total Volume",
            "description": "Total volume of robust regions"
          },
          "is_fragile": {
            "type": "boolean",
            "title": "Is Fragile",
            "description": "True if recommendation is fragile"
          },
          "fragility_reasons": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Fragility Reasons",
            "description": "Why recommendation might be fragile"
          },
          "samples_tested": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Samples Tested",
            "description": "Samples used in verification"
          },
          "samples_successful": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Samples Successful",
            "description": "Samples achieving target"
          },
          "confidence_level": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence Level",
            "description": "Statistical confidence",
            "default": 0.95
          },
          "interpretation": {
            "type": "string",
            "title": "Interpretation",
            "description": "Plain English summary"
          },
          "recommendation": {
            "type": "string",
            "title": "Recommendation",
            "description": "Actionable guidance"
          }
        },
        "type": "object",
        "required": [
          "status",
          "robustness_score",
          "region_count",
          "total_volume",
          "is_fragile",
          "samples_tested",
          "samples_successful",
          "interpretation",
          "recommendation"
        ],
        "title": "FACETRobustnessAnalysis",
        "description": "Complete FACET robustness analysis result.\n\nContains robust intervention region(s), outcome guarantees,\nrobustness metrics, and fragility warnings.",
        "example": {
          "confidence_level": 0.95,
          "fragility_reasons": [],
          "interpretation": "ROBUST RECOMMENDATION (robustness: 0.75). Multiple intervention strategies achieve the target outcome.",
          "is_fragile": false,
          "outcome_guarantees": {
            "revenue": {
              "confidence": 0.95,
              "maximum": 105000.0,
              "minimum": 95000.0,
              "outcome_variable": "revenue"
            }
          },
          "recommendation": "Recommendation: Proceed with confidence. Operating ranges: price: 52.0-58.0. Strategy is robust to reasonable variations.",
          "region_count": 1,
          "robust_regions": [
            {
              "variable_ranges": {
                "price": [
                  52.0,
                  58.0
                ]
              }
            }
          ],
          "robustness_score": 0.75,
          "samples_successful": 500,
          "samples_tested": 500,
          "status": "robust",
          "total_volume": 0.06
        }
      },
      "FactorExtractionRequest": {
        "properties": {
          "data_type": {
            "type": "string",
            "maxLength": 50,
            "title": "Data Type",
            "description": "Type of data (e.g., 'support_tickets', 'reviews', 'feedback')"
          },
          "texts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 1000,
            "minItems": 10,
            "title": "Texts",
            "description": "Raw text data to analyze"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain",
            "description": "Domain context (e.g., 'SaaS product', 'e-commerce')"
          },
          "n_factors": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 2.0,
            "title": "N Factors",
            "description": "Number of factors to extract",
            "default": 5
          },
          "outcome_variable": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Outcome Variable",
            "description": "Known outcome variable (e.g., 'churn', 'revenue')"
          },
          "min_cluster_size": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 2.0,
            "title": "Min Cluster Size",
            "description": "Minimum cluster size for factor extraction",
            "default": 3
          }
        },
        "type": "object",
        "required": [
          "data_type",
          "texts"
        ],
        "title": "FactorExtractionRequest",
        "description": "Request for factor extraction from unstructured data.",
        "example": {
          "data_type": "support_tickets",
          "domain": "SaaS product",
          "min_cluster_size": 3,
          "n_factors": 5,
          "outcome_variable": "churn",
          "texts": [
            "User can't find settings...",
            "Slow load times...",
            "..."
          ]
        }
      },
      "FactorSensitivityResult": {
        "properties": {
          "node_id": {
            "type": "string",
            "title": "Node Id",
            "description": "Factor node ID"
          },
          "node_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Label",
            "description": "Human-readable node label"
          },
          "elasticity": {
            "type": "number",
            "title": "Elasticity",
            "description": "% change in outcome per % change in factor value"
          },
          "importance_rank": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Importance Rank",
            "description": "Rank by importance (1 = most important)"
          },
          "observed_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Observed Value",
            "description": "Observed value from node's observed_state"
          },
          "interpretation": {
            "type": "string",
            "title": "Interpretation",
            "description": "Human-readable explanation"
          }
        },
        "type": "object",
        "required": [
          "node_id",
          "elasticity",
          "importance_rank",
          "interpretation"
        ],
        "title": "FactorSensitivityResult",
        "description": "Sensitivity to a factor node's value (Phase 2A Part 2).",
        "example": {
          "elasticity": 0.32,
          "importance_rank": 2,
          "interpretation": "Decision is moderately sensitive to marketing_spend value",
          "node_id": "marketing_spend",
          "node_label": "Marketing Spend",
          "observed_value": 50000.0
        }
      },
      "FeasibilityRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph with nodes and edges"
          },
          "constraints": {
            "items": {
              "$ref": "#/components/schemas/ConstraintNode"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 1,
            "title": "Constraints",
            "description": "Constraints to check"
          },
          "options": {
            "items": {
              "$ref": "#/components/schemas/OptionForFeasibility"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Options",
            "description": "Options to evaluate for feasibility"
          },
          "include_partial_violations": {
            "type": "boolean",
            "title": "Include Partial Violations",
            "description": "Include soft constraint violations in report",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "graph",
          "constraints",
          "options"
        ],
        "title": "FeasibilityRequest",
        "description": "Request model for feasibility check endpoint.",
        "example": {
          "constraints": [
            {
              "constraint_type": "budget",
              "id": "budget_limit",
              "priority": "hard",
              "relation": "le",
              "target_variable": "total_cost",
              "threshold": 100000.0
            }
          ],
          "graph": {
            "edges": [
              {
                "from": "option_a",
                "to": "goal",
                "weight": 2.0
              }
            ],
            "nodes": [
              {
                "id": "goal",
                "kind": "goal",
                "label": "Maximize Profit"
              },
              {
                "id": "option_a",
                "kind": "option",
                "label": "Option A"
              }
            ]
          },
          "options": [
            {
              "expected_value": 50000,
              "name": "Option A",
              "option_id": "option_a",
              "variable_values": {
                "total_cost": 85000
              }
            }
          ]
        }
      },
      "FeasibilityResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version",
            "default": "feasibility.v1"
          },
          "constraint_validation": {
            "items": {
              "$ref": "#/components/schemas/ConstraintValidationResult"
            },
            "type": "array",
            "title": "Constraint Validation",
            "description": "Validation results for constraint specifications"
          },
          "feasibility": {
            "allOf": [
              {
                "$ref": "#/components/schemas/FeasibilityResult"
              }
            ],
            "description": "Feasibility analysis results"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Human-readable summary of results"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Any warnings generated during analysis"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "constraint_validation",
          "feasibility",
          "summary"
        ],
        "title": "FeasibilityResponse",
        "description": "Response model for feasibility check endpoint.",
        "example": {
          "constraint_validation": [
            {
              "constraint_id": "budget",
              "is_valid": true,
              "issues": []
            }
          ],
          "feasibility": {
            "feasible_options": [
              "option_1",
              "option_2"
            ],
            "infeasible_options": [
              {
                "option_id": "option_3",
                "total_violation_magnitude": 5000,
                "violated_constraints": [
                  "budget_constraint"
                ],
                "violation_details": []
              }
            ]
          },
          "schema_version": "feasibility.v1",
          "summary": "2 of 3 options are feasible",
          "warnings": []
        }
      },
      "FeasibilityResult": {
        "properties": {
          "feasible_options": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Feasible Options",
            "description": "List of option IDs that satisfy all constraints"
          },
          "infeasible_options": {
            "items": {
              "$ref": "#/components/schemas/InfeasibleOption"
            },
            "type": "array",
            "title": "Infeasible Options",
            "description": "Options that violate constraints with details"
          }
        },
        "type": "object",
        "required": [
          "feasible_options",
          "infeasible_options"
        ],
        "title": "FeasibilityResult",
        "description": "Feasibility analysis results.",
        "example": {
          "feasible_options": [
            "option_1",
            "option_2"
          ],
          "infeasible_options": [
            {
              "option_id": "option_3",
              "total_violation_magnitude": 5000,
              "violated_constraints": [
                "budget_constraint"
              ],
              "violation_details": []
            }
          ]
        }
      },
      "GoalSpecification": {
        "properties": {
          "goal_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Goal Id",
            "description": "Unique identifier for the goal"
          },
          "label": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Label",
            "description": "Human-readable goal label"
          },
          "direction": {
            "type": "string",
            "pattern": "^(maximize|minimize)$",
            "title": "Direction",
            "description": "Optimization direction: 'maximize' or 'minimize'",
            "default": "maximize"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight",
            "description": "Goal weight (0-1). If not specified, defaults to equal weighting."
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority",
            "description": "Priority for lexicographic ordering (1 = highest)"
          },
          "scale_min": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scale Min",
            "description": "Minimum value for normalization"
          },
          "scale_max": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scale Max",
            "description": "Maximum value for normalization"
          }
        },
        "type": "object",
        "required": [
          "goal_id",
          "label"
        ],
        "title": "GoalSpecification",
        "description": "Specification for a single goal in utility function.",
        "example": {
          "direction": "maximize",
          "goal_id": "revenue",
          "label": "Maximize Revenue",
          "priority": 1,
          "scale_max": 1000000,
          "scale_min": 0,
          "weight": 0.6
        }
      },
      "GraphEdgeV1": {
        "properties": {
          "from": {
            "type": "string",
            "maxLength": 100,
            "title": "From",
            "description": "Source node ID"
          },
          "to": {
            "type": "string",
            "maxLength": 100,
            "title": "To",
            "description": "Target node ID"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 3.0,
                "minimum": -3.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight",
            "description": "Edge weight (-3 to +3)"
          },
          "label": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Label",
            "description": "Edge label"
          }
        },
        "type": "object",
        "required": [
          "from",
          "to"
        ],
        "title": "GraphEdgeV1",
        "description": "Edge in GraphV1 structure.",
        "example": {
          "from": "n_marketing_budget",
          "label": "Strong positive influence",
          "to": "n_market_penetration",
          "weight": 2.5
        }
      },
      "GraphNodeV1": {
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 100,
            "title": "Id",
            "description": "Unique node identifier"
          },
          "kind": {
            "allOf": [
              {
                "$ref": "#/components/schemas/NodeKind"
              }
            ],
            "description": "Type of node"
          },
          "label": {
            "type": "string",
            "maxLength": 500,
            "title": "Label",
            "description": "Human-readable label"
          },
          "body": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 5000
              },
              {
                "type": "null"
              }
            ],
            "title": "Body",
            "description": "Detailed description"
          },
          "belief": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Belief",
            "description": "Belief probability (0-1) for probabilistic nodes"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "kind",
          "label"
        ],
        "title": "GraphNodeV1",
        "description": "Node in GraphV1 structure.",
        "example": {
          "belief": 0.85,
          "body": "Total addressable market for product launch",
          "id": "n_market_size",
          "kind": "outcome",
          "label": "Market Size Estimate",
          "metadata": {
            "currency": "USD",
            "unit": "millions"
          }
        }
      },
      "GraphV1": {
        "properties": {
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/GraphNodeV1"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Nodes",
            "description": "List of graph nodes"
          },
          "edges": {
            "items": {
              "$ref": "#/components/schemas/GraphEdgeV1"
            },
            "type": "array",
            "maxItems": 300,
            "title": "Edges",
            "description": "List of directed edges"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges"
        ],
        "title": "GraphV1",
        "description": "GraphV1 structure for CEE decision reviews.\n\nRepresents causal decision graphs with typed nodes and weighted edges.",
        "example": {
          "edges": [
            {
              "from": "n_launch_product",
              "label": "Expected positive impact",
              "to": "n_market_success",
              "weight": 2.0
            }
          ],
          "nodes": [
            {
              "body": "Decision to launch product in Q1",
              "id": "n_launch_product",
              "kind": "decision",
              "label": "Launch New Product"
            },
            {
              "belief": 0.75,
              "id": "n_market_success",
              "kind": "outcome",
              "label": "Market Success"
            }
          ]
        }
      },
      "GraphV2": {
        "properties": {
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/NodeV2"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Nodes",
            "description": "List of graph nodes"
          },
          "edges": {
            "items": {
              "$ref": "#/components/schemas/EdgeV2"
            },
            "type": "array",
            "maxItems": 300,
            "title": "Edges",
            "description": "List of directed edges with dual uncertainty"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges"
        ],
        "title": "GraphV2",
        "description": "Causal graph with dual uncertainty edges.\n\nRepresents a directed acyclic graph where each edge has both\nstructural uncertainty (exists_probability) and parametric\nuncertainty (strength distribution).",
        "example": {
          "edges": [
            {
              "exists_probability": 0.95,
              "from": "price",
              "strength": {
                "mean": 0.5,
                "std": 0.1
              },
              "to": "revenue"
            }
          ],
          "nodes": [
            {
              "id": "price",
              "kind": "decision",
              "label": "Price"
            },
            {
              "id": "revenue",
              "kind": "outcome",
              "label": "Revenue"
            }
          ]
        }
      },
      "GridSearchMetrics": {
        "properties": {
          "grid_points_evaluated": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Grid Points Evaluated",
            "description": "Number of grid points evaluated"
          },
          "feasible_points": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Feasible Points",
            "description": "Number of points satisfying all constraints"
          },
          "computation_time_ms": {
            "type": "number",
            "minimum": 0.0,
            "title": "Computation Time Ms",
            "description": "Computation time in milliseconds"
          },
          "convergence_achieved": {
            "type": "boolean",
            "title": "Convergence Achieved",
            "description": "True if optimization converged"
          }
        },
        "type": "object",
        "required": [
          "grid_points_evaluated",
          "feasible_points",
          "computation_time_ms",
          "convergence_achieved"
        ],
        "title": "GridSearchMetrics",
        "description": "Metrics from grid search optimization.",
        "example": {
          "computation_time_ms": 125.5,
          "convergence_achieved": true,
          "feasible_points": 350,
          "grid_points_evaluated": 400
        }
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Service status",
            "default": "healthy"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Service version"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "Current timestamp"
          },
          "config_fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config Fingerprint",
            "description": "Config fingerprint for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "version",
          "timestamp"
        ],
        "title": "HealthResponse",
        "description": "Response model for health check endpoint.",
        "example": {
          "status": "healthy",
          "timestamp": "2025-01-15T10:30:00Z",
          "version": "0.1.0"
        }
      },
      "ISLResponseMetadata": {
        "properties": {
          "request_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Request Id",
            "description": "Unique request identifier for tracing"
          },
          "computation_time_ms": {
            "type": "number",
            "minimum": 0.0,
            "title": "Computation Time Ms",
            "description": "Computation time in milliseconds"
          },
          "isl_version": {
            "type": "string",
            "title": "Isl Version",
            "description": "ISL service version",
            "default": "2.0"
          },
          "algorithm": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Algorithm",
            "description": "Algorithm/method used (e.g., 'weighted_sum', 'skyline_pareto')"
          },
          "cache_hit": {
            "type": "boolean",
            "title": "Cache Hit",
            "description": "Whether result was served from cache",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "computation_time_ms"
        ],
        "title": "ISLResponseMetadata",
        "description": "Standard metadata included in all ISL responses.\n\nAttributes:\n    request_id: Unique identifier for request tracing\n    computation_time_ms: Time taken for computation in milliseconds\n    isl_version: ISL service version\n    algorithm: Algorithm/method used for computation\n    cache_hit: Whether result was served from cache",
        "example": {
          "algorithm": "weighted_sum",
          "cache_hit": false,
          "computation_time_ms": 123.45,
          "isl_version": "2.0",
          "request_id": "req_a1b2c3d4e5f6"
        }
      },
      "IdentifiabilityFromDAGRequest": {
        "properties": {
          "nodes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 2,
            "title": "Nodes",
            "description": "List of node names in the DAG"
          },
          "edges": {
            "items": {
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "array",
            "maxItems": 200,
            "title": "Edges",
            "description": "List of directed edges as (from, to) tuples"
          },
          "treatment": {
            "type": "string",
            "title": "Treatment",
            "description": "Treatment/decision node name"
          },
          "outcome": {
            "type": "string",
            "title": "Outcome",
            "description": "Outcome/goal node name"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges",
          "treatment",
          "outcome"
        ],
        "title": "IdentifiabilityFromDAGRequest",
        "description": "Request model for identifiability analysis from simple DAG structure.\n\nAlternative to GraphV1 format for simpler use cases.",
        "example": {
          "edges": [
            [
              "price",
              "revenue"
            ],
            [
              "market_segment",
              "price"
            ],
            [
              "market_segment",
              "revenue"
            ]
          ],
          "nodes": [
            "price",
            "market_segment",
            "revenue"
          ],
          "outcome": "revenue",
          "treatment": "price"
        }
      },
      "IdentifiabilityInfo": {
        "properties": {
          "effect": {
            "type": "string",
            "title": "Effect",
            "description": "The causal effect being analyzed (e.g., 'decision \u2192 goal')"
          },
          "identifiable": {
            "type": "boolean",
            "title": "Identifiable",
            "description": "Whether the causal effect is identifiable from observational data"
          },
          "method": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdentificationMethodEnum"
              },
              {
                "type": "null"
              }
            ],
            "description": "Method used for identification: backdoor, frontdoor, instrumental, do_calculus, or non_identifiable"
          },
          "adjustment_set": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjustment Set",
            "description": "Variables to condition on for identification (if identifiable)"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in the identifiability assessment"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "Human-readable explanation of identifiability status"
          }
        },
        "type": "object",
        "required": [
          "effect",
          "identifiable",
          "confidence",
          "explanation"
        ],
        "title": "IdentifiabilityInfo",
        "description": "Structured identifiability information for causal effects.\n\nThis implements the Y\u2080 identifiability analysis as specified,\nincluding the hard rule for non-identifiable effects.",
        "example": {
          "adjustment_set": [
            "market_segment"
          ],
          "confidence": "high",
          "effect": "price \u2192 revenue",
          "explanation": "The effect of 'price' on 'revenue' is identifiable using the backdoor criterion. Adjust for: market_segment.",
          "identifiable": true,
          "method": "backdoor"
        }
      },
      "IdentifiabilityRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph with typed nodes (must include decision and goal nodes)"
          },
          "decision_node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Decision Node Id",
            "description": "Override: specific decision node ID (auto-detected from kind='decision' if not provided)"
          },
          "goal_node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Goal Node Id",
            "description": "Override: specific goal node ID (auto-detected from kind='goal' if not provided)"
          }
        },
        "type": "object",
        "required": [
          "graph"
        ],
        "title": "IdentifiabilityRequest",
        "description": "Request model for Y\u2080 identifiability analysis endpoint.\n\nAnalyzes whether the causal effect from decision to goal is identifiable\nfrom observational data given the graph structure.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "price",
                "to": "revenue",
                "weight": 2.0
              },
              {
                "from": "market_segment",
                "to": "price",
                "weight": 1.5
              },
              {
                "from": "market_segment",
                "to": "revenue",
                "weight": 1.0
              }
            ],
            "nodes": [
              {
                "id": "price",
                "kind": "decision",
                "label": "Pricing Strategy"
              },
              {
                "id": "market_segment",
                "kind": "factor",
                "label": "Market Segment"
              },
              {
                "id": "revenue",
                "kind": "goal",
                "label": "Revenue Target"
              }
            ]
          }
        }
      },
      "IdentifiabilityResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version for this response",
            "default": "identifiability.v1"
          },
          "identifiability": {
            "allOf": [
              {
                "$ref": "#/components/schemas/IdentifiabilityInfo"
              }
            ],
            "description": "Core identifiability analysis results"
          },
          "recommendation_status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__responses__RecommendationStatusEnum"
              }
            ],
            "description": "HARD RULE: 'actionable' if identifiable, 'exploratory' if not"
          },
          "recommendation_caveat": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recommendation Caveat",
            "description": "Caveat for recommendations if effect is non-identifiable"
          },
          "suggestions": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/IdentifiabilitySuggestionResponse"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suggestions",
            "description": "Suggestions for making effect identifiable (if non-identifiable)"
          },
          "backdoor_paths": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backdoor Paths",
            "description": "Backdoor paths identified in the graph"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "identifiability",
          "recommendation_status"
        ],
        "title": "IdentifiabilityResponse",
        "description": "Response model for Y\u2080 identifiability analysis endpoint.\n\nImplements the hard rule: if primary decision\u2192goal effect is non-identifiable,\nrecommendations are marked as 'exploratory' rather than 'actionable'.",
        "examples": [
          {
            "title": "Identifiable Effect",
            "value": {
              "backdoor_paths": [
                "price \u2192 market_segment \u2192 revenue"
              ],
              "identifiability": {
                "adjustment_set": [
                  "market_segment"
                ],
                "confidence": "high",
                "effect": "price \u2192 revenue",
                "explanation": "The effect of 'price' on 'revenue' is identifiable using the backdoor criterion. Adjust for: market_segment.",
                "identifiable": true,
                "method": "backdoor"
              },
              "recommendation_status": "actionable",
              "schema_version": "identifiability.v1"
            }
          },
          {
            "title": "Non-Identifiable Effect (Hard Rule Applied)",
            "value": {
              "backdoor_paths": [
                "marketing_spend \u2192 unmeasured_confounder \u2192 sales"
              ],
              "identifiability": {
                "confidence": "high",
                "effect": "marketing_spend \u2192 sales",
                "explanation": "The effect of 'marketing_spend' on 'sales' is NOT identifiable. There is unmeasured confounding that cannot be blocked.",
                "identifiable": false,
                "method": "non_identifiable"
              },
              "recommendation_caveat": "Causal effect cannot be confirmed from current model structure. Recommendations should be treated as exploratory hypotheses, not actionable conclusions.",
              "recommendation_status": "exploratory",
              "schema_version": "identifiability.v1",
              "suggestions": [
                {
                  "description": "If 'market_conditions' were observed as a confounder, conditioning on it might block the backdoor path",
                  "priority": "recommended",
                  "variable_to_add": "market_conditions_observed"
                },
                {
                  "description": "Adding an instrumental variable that affects 'marketing_spend' but not 'sales' directly could enable identification",
                  "edges_to_add": [
                    [
                      "marketing_spend_instrument",
                      "marketing_spend"
                    ]
                  ],
                  "priority": "recommended",
                  "variable_to_add": "marketing_spend_instrument"
                }
              ]
            }
          }
        ]
      },
      "IdentifiabilitySuggestionResponse": {
        "properties": {
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable suggestion for making effect identifiable"
          },
          "variable_to_add": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variable To Add",
            "description": "Variable that could be added to enable identification"
          },
          "edges_to_add": {
            "anyOf": [
              {
                "items": {
                  "prefixItems": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array",
                  "maxItems": 2,
                  "minItems": 2
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Edges To Add",
            "description": "Edges that could be added to enable identification"
          },
          "priority": {
            "type": "string",
            "title": "Priority",
            "description": "Priority: 'critical', 'recommended', 'optional'",
            "default": "recommended"
          }
        },
        "type": "object",
        "required": [
          "description"
        ],
        "title": "IdentifiabilitySuggestionResponse",
        "description": "Suggestion for making an effect identifiable.",
        "example": {
          "description": "Adding 'market_conditions' as an observed factor would enable backdoor adjustment",
          "edges_to_add": [
            [
              "market_conditions_observed",
              "price"
            ],
            [
              "market_conditions_observed",
              "revenue"
            ]
          ],
          "priority": "recommended",
          "variable_to_add": "market_conditions_observed"
        }
      },
      "IdentificationMethodEnum": {
        "type": "string",
        "enum": [
          "backdoor",
          "frontdoor",
          "instrumental",
          "do_calculus",
          "non_identifiable"
        ],
        "title": "IdentificationMethodEnum",
        "description": "Method used for causal identification."
      },
      "ImpactAssessment": {
        "properties": {
          "if_wrong": {
            "type": "number",
            "title": "If Wrong",
            "description": "Absolute change in result if assumption wrong"
          },
          "percentage": {
            "type": "number",
            "title": "Percentage",
            "description": "Percentage of total variance explained"
          }
        },
        "type": "object",
        "required": [
          "if_wrong",
          "percentage"
        ],
        "title": "ImpactAssessment",
        "description": "Impact of an assumption being wrong."
      },
      "ImpactDirectionEnum": {
        "type": "string",
        "enum": [
          "positive",
          "negative"
        ],
        "title": "ImpactDirectionEnum",
        "description": "Direction of parameter impact on outcome."
      },
      "ImpactLevel": {
        "type": "string",
        "enum": [
          "high",
          "medium",
          "low"
        ],
        "title": "ImpactLevel",
        "description": "Impact level of suggestion."
      },
      "ImpliedCorrelationMatrix": {
        "properties": {
          "factors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Factors",
            "description": "Factor IDs in matrix order"
          },
          "matrix": {
            "items": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "type": "array",
            "title": "Matrix",
            "description": "Correlation matrix values"
          }
        },
        "type": "object",
        "required": [
          "factors",
          "matrix"
        ],
        "title": "ImpliedCorrelationMatrix",
        "description": "The implied correlation matrix from groups.",
        "example": {
          "factors": [
            "demand",
            "competition"
          ],
          "matrix": [
            [
              1.0,
              0.7
            ],
            [
              0.7,
              1.0
            ]
          ]
        }
      },
      "ImportanceLevel": {
        "type": "string",
        "enum": [
          "critical",
          "moderate",
          "minor"
        ],
        "title": "ImportanceLevel",
        "description": "Importance level for assumptions."
      },
      "InfeasibleOption": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "ID of the infeasible option"
          },
          "violated_constraints": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Violated Constraints",
            "description": "List of constraint IDs that were violated"
          },
          "violation_details": {
            "items": {
              "$ref": "#/components/schemas/ConstraintViolation"
            },
            "type": "array",
            "title": "Violation Details",
            "description": "Detailed information about each violation"
          },
          "total_violation_magnitude": {
            "type": "number",
            "title": "Total Violation Magnitude",
            "description": "Sum of all violation magnitudes"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "violated_constraints",
          "violation_details",
          "total_violation_magnitude"
        ],
        "title": "InfeasibleOption",
        "description": "An option that violates one or more constraints.",
        "example": {
          "option_id": "option_c",
          "total_violation_magnitude": 20000,
          "violated_constraints": [
            "budget_limit",
            "capacity"
          ],
          "violation_details": [
            {
              "actual_value": 120000,
              "constraint_id": "budget_limit",
              "is_hard_violation": true,
              "threshold": 100000,
              "violation_magnitude": 20000
            }
          ]
        }
      },
      "InteractionAnalysis": {
        "properties": {
          "pairwise": {
            "items": {
              "$ref": "#/components/schemas/PairwiseInteraction"
            },
            "type": "array",
            "title": "Pairwise",
            "description": "Pairwise interactions detected"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Plain English summary of interactions"
          }
        },
        "type": "object",
        "required": [
          "summary"
        ],
        "title": "InteractionAnalysis",
        "description": "Analysis of variable interactions.",
        "example": {
          "pairwise": [
            {
              "effect_size": 5000,
              "explanation": "Price and Quality interact synergistically",
              "significance": 0.85,
              "type": "synergistic",
              "variables": [
                "Price",
                "Quality"
              ]
            }
          ],
          "summary": "Strong synergistic interaction between Price and Quality (\u00a35k additional gain)"
        }
      },
      "InterventionChange": {
        "properties": {
          "variable": {
            "type": "string",
            "title": "Variable",
            "description": "Variable name"
          },
          "from_value": {
            "type": "number",
            "title": "From Value",
            "description": "Current value"
          },
          "to_value": {
            "type": "number",
            "title": "To Value",
            "description": "Proposed new value"
          },
          "delta": {
            "type": "number",
            "title": "Delta",
            "description": "Absolute change (to_value - from_value)"
          },
          "relative_change": {
            "type": "number",
            "title": "Relative Change",
            "description": "Relative change as percentage"
          },
          "unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unit",
            "description": "Optional unit of measurement"
          }
        },
        "type": "object",
        "required": [
          "variable",
          "from_value",
          "to_value",
          "delta",
          "relative_change"
        ],
        "title": "InterventionChange",
        "description": "A single variable change in an intervention.",
        "example": {
          "delta": 5,
          "from_value": 40,
          "relative_change": 12.5,
          "to_value": 45,
          "unit": "\u00a3",
          "variable": "Price"
        }
      },
      "InterventionComparison": {
        "properties": {
          "best_by_cost": {
            "type": "integer",
            "title": "Best By Cost",
            "description": "Rank of best intervention by cost"
          },
          "best_by_robustness": {
            "type": "integer",
            "title": "Best By Robustness",
            "description": "Rank of best intervention by robustness"
          },
          "best_by_feasibility": {
            "type": "integer",
            "title": "Best By Feasibility",
            "description": "Rank of best intervention by feasibility"
          },
          "synergies": {
            "type": "string",
            "title": "Synergies",
            "description": "Analysis of combining multiple interventions"
          },
          "tradeoffs": {
            "type": "string",
            "title": "Tradeoffs",
            "description": "Key tradeoffs between interventions"
          }
        },
        "type": "object",
        "required": [
          "best_by_cost",
          "best_by_robustness",
          "best_by_feasibility",
          "synergies",
          "tradeoffs"
        ],
        "title": "InterventionComparison",
        "description": "Comparison of multiple interventions.",
        "example": {
          "best_by_cost": 1,
          "best_by_feasibility": 2,
          "best_by_robustness": 1,
          "synergies": "Combining Price and Marketing changes yields diminishing returns (expected gain: \u00a352k vs \u00a351k individually)",
          "tradeoffs": "Price increase is cheaper but less robust; Marketing spend is more robust but costlier"
        }
      },
      "InterventionConstraints": {
        "properties": {
          "feasible": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 1,
            "title": "Feasible",
            "description": "Variables that can be changed"
          },
          "fixed": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Fixed",
            "description": "Variables that cannot be changed"
          },
          "max_changes": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Max Changes",
            "description": "Maximum number of variables to change simultaneously",
            "default": 1
          },
          "minimize": {
            "type": "string",
            "title": "Minimize",
            "description": "Optimization criterion: change_magnitude, cost, or feasibility",
            "default": "change_magnitude"
          },
          "variable_bounds": {
            "anyOf": [
              {
                "additionalProperties": {
                  "prefixItems": [
                    {
                      "type": "number"
                    },
                    {
                      "type": "number"
                    }
                  ],
                  "type": "array",
                  "maxItems": 2,
                  "minItems": 2
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variable Bounds",
            "description": "Optional bounds for each variable (min, max)"
          }
        },
        "type": "object",
        "required": [
          "feasible"
        ],
        "title": "InterventionConstraints",
        "description": "Constraints for finding minimal interventions.",
        "example": {
          "feasible": [
            "Price",
            "Marketing"
          ],
          "fixed": [
            "Quality"
          ],
          "max_changes": 2,
          "minimize": "cost",
          "variable_bounds": {
            "Marketing": [
              10000,
              100000
            ],
            "Price": [
              30,
              100
            ]
          }
        }
      },
      "InterventionOption": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique option identifier"
          },
          "label": {
            "type": "string",
            "maxLength": 500,
            "title": "Label",
            "description": "Human-readable option name"
          },
          "interventions": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Interventions",
            "description": "node_id -> intervention value mapping"
          }
        },
        "type": "object",
        "required": [
          "id",
          "label",
          "interventions"
        ],
        "title": "InterventionOption",
        "description": "A decision option with its interventions.",
        "example": {
          "id": "low_price",
          "interventions": {
            "price": 0.49
          },
          "label": "Keep price at $49"
        }
      },
      "InterventionRegion": {
        "properties": {
          "variable_ranges": {
            "additionalProperties": {
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "object",
            "title": "Variable Ranges",
            "description": "Variable name \u2192 (min, max) range"
          }
        },
        "type": "object",
        "required": [
          "variable_ranges"
        ],
        "title": "InterventionRegion",
        "description": "Multi-dimensional region of intervention values.\n\nRepresents set of interventions that achieve target outcome.\nEach region is defined as a hyper-rectangle in intervention space.",
        "example": {
          "variable_ranges": {
            "price": [
              52.0,
              58.0
            ],
            "quality_score": [
              7.5,
              8.5
            ]
          }
        }
      },
      "MinimalIntervention": {
        "properties": {
          "rank": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Rank",
            "description": "Rank by optimization criterion (1 = best)"
          },
          "changes": {
            "additionalProperties": {
              "$ref": "#/components/schemas/InterventionChange"
            },
            "type": "object",
            "title": "Changes",
            "description": "Variables to change and their values"
          },
          "expected_outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Expected Outcome",
            "description": "Expected outcome values after intervention"
          },
          "confidence_interval": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ConfidenceInterval"
            },
            "type": "object",
            "title": "Confidence Interval",
            "description": "Confidence intervals for each outcome"
          },
          "feasibility": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Feasibility",
            "description": "Feasibility score (0-1, higher = more feasible)"
          },
          "cost_estimate": {
            "type": "string",
            "title": "Cost Estimate",
            "description": "Cost estimate: low, medium, high"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLevel"
              }
            ],
            "description": "Robustness level from FACET analysis"
          },
          "robustness_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "description": "Numerical robustness score (0-1)"
          }
        },
        "type": "object",
        "required": [
          "rank",
          "changes",
          "expected_outcome",
          "confidence_interval",
          "feasibility",
          "cost_estimate",
          "robustness",
          "robustness_score"
        ],
        "title": "MinimalIntervention",
        "description": "A minimal intervention achieving target outcome.",
        "example": {
          "changes": {
            "Price": {
              "delta": 5,
              "from_value": 40,
              "relative_change": 12.5,
              "to_value": 45,
              "unit": "\u00a3",
              "variable": "Price"
            }
          },
          "confidence_interval": {
            "Revenue": {
              "confidence_level": 0.95,
              "lower": 48000,
              "upper": 54000
            }
          },
          "cost_estimate": "low",
          "expected_outcome": {
            "Revenue": 51000
          },
          "feasibility": 0.95,
          "rank": 1,
          "robustness": "robust",
          "robustness_score": 0.85
        }
      },
      "ModelSuggestion": {
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SuggestionType"
              }
            ],
            "description": "Type of suggestion"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "What to change"
          },
          "rationale": {
            "type": "string",
            "title": "Rationale",
            "description": "Why this change would help"
          },
          "confidence": {
            "type": "number",
            "title": "Confidence",
            "description": "Confidence in suggestion (0-1)"
          },
          "impact": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImpactLevel"
              }
            ],
            "description": "Expected impact"
          }
        },
        "type": "object",
        "required": [
          "type",
          "description",
          "rationale",
          "confidence",
          "impact"
        ],
        "title": "ModelSuggestion",
        "description": "Suggestion for model improvement."
      },
      "MultiCriteriaRequest": {
        "properties": {
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Optional request ID for tracing"
          },
          "criteria": {
            "items": {
              "$ref": "#/components/schemas/CriterionResult"
            },
            "type": "array",
            "maxItems": 10,
            "minItems": 1,
            "title": "Criteria",
            "description": "Results for each criterion with option scores"
          },
          "aggregation_method": {
            "type": "string",
            "pattern": "^(weighted_sum|weighted_product|lexicographic)$",
            "title": "Aggregation Method",
            "description": "Aggregation method to use"
          },
          "weights": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Weights",
            "description": "Weights by criterion_id (should sum to 1.0, will auto-normalize if not)"
          },
          "percentile": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(p10|p50|p90)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Percentile",
            "description": "Which percentile to use for aggregation",
            "default": "p50"
          },
          "trade_off_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Trade Off Threshold",
            "description": "Minimum score difference to report as trade-off",
            "default": 0.05
          },
          "timeout_ms": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 30000.0,
                "minimum": 100.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout Ms",
            "description": "Request timeout in milliseconds",
            "default": 5000
          }
        },
        "type": "object",
        "required": [
          "criteria",
          "aggregation_method",
          "weights"
        ],
        "title": "MultiCriteriaRequest",
        "description": "Request model for multi-criteria aggregation endpoint.",
        "example": {
          "aggregation_method": "weighted_sum",
          "criteria": [
            {
              "criterion_id": "revenue",
              "criterion_name": "Expected Revenue",
              "options": [
                {
                  "option_id": "opt_a",
                  "option_label": "Option A",
                  "p10": 0.65,
                  "p50": 0.85,
                  "p90": 0.95
                },
                {
                  "option_id": "opt_b",
                  "option_label": "Option B",
                  "p10": 0.45,
                  "p50": 0.6,
                  "p90": 0.75
                }
              ]
            },
            {
              "criterion_id": "risk",
              "criterion_name": "Risk Level",
              "options": [
                {
                  "option_id": "opt_a",
                  "option_label": "Option A",
                  "p10": 0.3,
                  "p50": 0.4,
                  "p90": 0.55
                },
                {
                  "option_id": "opt_b",
                  "option_label": "Option B",
                  "p10": 0.7,
                  "p50": 0.8,
                  "p90": 0.9
                }
              ]
            }
          ],
          "percentile": "p50",
          "request_id": "req_abc123",
          "trade_off_threshold": 0.05,
          "weights": {
            "revenue": 0.6,
            "risk": 0.4
          }
        }
      },
      "MultiCriteriaResponse": {
        "properties": {
          "aggregated_rankings": {
            "items": {
              "$ref": "#/components/schemas/AggregatedRanking"
            },
            "type": "array",
            "title": "Aggregated Rankings",
            "description": "Options ranked by aggregated score (sorted best to worst)"
          },
          "trade_offs": {
            "items": {
              "$ref": "#/components/schemas/TradeOff"
            },
            "type": "array",
            "title": "Trade Offs",
            "description": "Significant trade-offs between top options"
          },
          "warnings": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ValidationWarning"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warnings",
            "description": "Warnings about auto-corrections or validation issues"
          },
          "identifiability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdentifiabilityInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Identifiability analysis for the primary decision\u2192goal effect (if graph provided)"
          },
          "recommendation_status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/src__models__responses__RecommendationStatusEnum"
              },
              {
                "type": "null"
              }
            ],
            "description": "HARD RULE: 'actionable' if identifiable, 'exploratory' if not"
          },
          "recommendation_caveat": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recommendation Caveat",
            "description": "Caveat for recommendations (required if recommendation_status is 'exploratory')"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "aggregated_rankings",
          "trade_offs"
        ],
        "title": "MultiCriteriaResponse",
        "description": "Response model for multi-criteria aggregation endpoint.",
        "example": {
          "aggregated_rankings": [
            {
              "aggregated_score": 72.5,
              "option_id": "opt_a",
              "option_label": "Option A",
              "rank": 1,
              "scores_by_criterion": {
                "revenue": 0.85,
                "risk": 0.4
              }
            },
            {
              "aggregated_score": 68.0,
              "option_id": "opt_b",
              "option_label": "Option B",
              "rank": 2,
              "scores_by_criterion": {
                "revenue": 0.6,
                "risk": 0.8
              }
            }
          ],
          "metadata": {
            "algorithm": "weighted_sum",
            "cache_hit": false,
            "computation_time_ms": 5.2,
            "isl_version": "2.0",
            "request_id": "req_abc123"
          },
          "trade_offs": [
            {
              "a_better_on": [
                "revenue"
              ],
              "b_better_on": [
                "risk"
              ],
              "max_difference": 0.4,
              "option_a_id": "opt_a",
              "option_a_label": "Option A",
              "option_b_id": "opt_b",
              "option_b_label": "Option B"
            }
          ],
          "warnings": [
            {
              "affected_items": [
                "revenue",
                "risk"
              ],
              "code": "WEIGHTS_NORMALIZED",
              "message": "Weights normalized from sum=0.95 to sum=1.0"
            }
          ]
        }
      },
      "NodeKind": {
        "type": "string",
        "enum": [
          "goal",
          "decision",
          "option",
          "outcome",
          "risk",
          "action",
          "factor"
        ],
        "title": "NodeKind",
        "description": "Node kind for GraphV1."
      },
      "NodeV2": {
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^[a-z0-9_:-]+$",
            "title": "Id",
            "description": "Unique node identifier"
          },
          "kind": {
            "type": "string",
            "title": "Kind",
            "description": "Node type (factor, decision, chance, outcome, etc.)"
          },
          "label": {
            "type": "string",
            "maxLength": 500,
            "title": "Label",
            "description": "Human-readable node name"
          },
          "body": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 5000
              },
              {
                "type": "null"
              }
            ],
            "title": "Body",
            "description": "Detailed description"
          },
          "observed_state": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ObservedState"
              },
              {
                "type": "null"
              }
            ],
            "description": "Observed state for quantitative factor nodes (value, baseline, unit, source)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "kind",
          "label"
        ],
        "title": "NodeV2",
        "description": "Node in the v2 causal graph.",
        "example": {
          "id": "revenue",
          "kind": "outcome",
          "label": "Total Revenue",
          "observed_state": {
            "baseline": 49.0,
            "unit": "\u00a3k",
            "value": 59.0
          }
        }
      },
      "NormalisedGoal": {
        "properties": {
          "goal_id": {
            "type": "string",
            "title": "Goal Id",
            "description": "Goal identifier"
          },
          "label": {
            "type": "string",
            "title": "Label",
            "description": "Goal label"
          },
          "direction": {
            "type": "string",
            "title": "Direction",
            "description": "Optimization direction"
          },
          "normalised_weight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Normalised Weight",
            "description": "Weight after normalization (sums to 1.0)"
          },
          "original_weight": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Weight",
            "description": "Original weight before normalization"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority",
            "description": "Priority for lexicographic ordering"
          }
        },
        "type": "object",
        "required": [
          "goal_id",
          "label",
          "direction",
          "normalised_weight"
        ],
        "title": "NormalisedGoal",
        "description": "Normalised goal specification after validation.",
        "example": {
          "direction": "maximize",
          "goal_id": "revenue",
          "label": "Maximize Revenue",
          "normalised_weight": 0.6,
          "original_weight": 0.6,
          "priority": 1
        }
      },
      "ObjectiveFunction": {
        "properties": {
          "variable_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Variable Id",
            "description": "Variable ID for the objective (outcome to optimize)"
          },
          "direction": {
            "type": "string",
            "pattern": "^(maximize|minimize)$",
            "title": "Direction",
            "description": "Optimization direction: 'maximize' or 'minimize'"
          },
          "coefficients": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Coefficients",
            "description": "Linear coefficients mapping decision variable IDs to weights"
          },
          "constant": {
            "type": "number",
            "title": "Constant",
            "description": "Constant term in objective function",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "variable_id",
          "direction",
          "coefficients"
        ],
        "title": "ObjectiveFunction",
        "description": "Objective function specification for optimization.",
        "example": {
          "coefficients": {
            "marketing": 0.5,
            "price": 100,
            "quantity": -5
          },
          "constant": -10000,
          "direction": "maximize",
          "variable_id": "profit"
        }
      },
      "ObservationPoint": {
        "properties": {
          "inputs": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Inputs",
            "description": "Input values (interventions or context variables)"
          },
          "outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Outcome",
            "description": "Observed outcome values for this observation"
          }
        },
        "type": "object",
        "required": [
          "inputs",
          "outcome"
        ],
        "title": "ObservationPoint",
        "description": "Single observation for calibration in conformal prediction.\n\nContains both inputs (intervention/context) and observed outcomes\nused to calibrate prediction intervals.",
        "example": {
          "inputs": {
            "Price": 45,
            "Quality": 8
          },
          "outcome": {
            "Revenue": 52000
          }
        }
      },
      "ObservedState": {
        "properties": {
          "value": {
            "type": "number",
            "title": "Value",
            "description": "Current observed value in user units (e.g., 59 for \u00a359k revenue)"
          },
          "baseline": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Baseline",
            "description": "Reference/baseline value for comparison (e.g., 49 for \u00a349k baseline)"
          },
          "unit": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Unit",
            "description": "Display unit (e.g., '\u00a3', '%', 'users', 'k')"
          },
          "source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Source",
            "description": "Data provenance (e.g., 'brief_extraction', 'user_input', 'computed')"
          }
        },
        "type": "object",
        "required": [
          "value"
        ],
        "title": "ObservedState",
        "description": "Observed state for quantitative factor nodes.\n\nCaptures the current observed value of a factor, along with optional\nbaseline for comparison, display unit, and data provenance.\n\nThis supports the v2.2 schema where factor nodes can carry actual\nobserved values from CEE extraction or user input.",
        "example": {
          "baseline": 49.0,
          "source": "brief_extraction",
          "unit": "\u00a3k",
          "value": 59.0
        }
      },
      "OptimalPoint": {
        "properties": {
          "variable_values": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Variable Values",
            "description": "Optimal values for each decision variable"
          },
          "objective_value": {
            "type": "number",
            "title": "Objective Value",
            "description": "Objective function value at optimal point"
          },
          "confidence_interval": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceInterval"
              }
            ],
            "description": "Confidence interval for the objective value"
          },
          "is_boundary": {
            "type": "boolean",
            "title": "Is Boundary",
            "description": "True if optimal point is on variable bounds"
          },
          "boundary_variables": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Boundary Variables",
            "description": "Variables at their bounds (if is_boundary=True)"
          },
          "feasible": {
            "type": "boolean",
            "title": "Feasible",
            "description": "True if point satisfies all constraints",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "variable_values",
          "objective_value",
          "confidence_interval",
          "is_boundary"
        ],
        "title": "OptimalPoint",
        "description": "Optimal point found by optimization.",
        "example": {
          "boundary_variables": [
            "quantity"
          ],
          "confidence_interval": {
            "confidence_level": 0.95,
            "lower": 21000.0,
            "upper": 24000.0
          },
          "feasible": true,
          "is_boundary": true,
          "objective_value": 22500.0,
          "variable_values": {
            "price": 65.0,
            "quantity": 500.0
          }
        }
      },
      "OptimisationConstraint": {
        "properties": {
          "constraint_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Constraint Id",
            "description": "Unique identifier for the constraint"
          },
          "coefficients": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Coefficients",
            "description": "Coefficients mapping variable IDs to weights"
          },
          "relation": {
            "type": "string",
            "pattern": "^(le|ge|eq)$",
            "title": "Relation",
            "description": "Constraint relation: 'le' (<=), 'ge' (>=), or 'eq' (=)"
          },
          "rhs": {
            "type": "number",
            "title": "Rhs",
            "description": "Right-hand side value"
          }
        },
        "type": "object",
        "required": [
          "constraint_id",
          "coefficients",
          "relation",
          "rhs"
        ],
        "title": "OptimisationConstraint",
        "description": "Linear constraint for optimization.",
        "example": {
          "coefficients": {
            "marketing": 2.0,
            "price": 1.0
          },
          "constraint_id": "budget_limit",
          "relation": "le",
          "rhs": 1000.0
        }
      },
      "OptimisationRequest": {
        "properties": {
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Optional request ID for tracing (auto-generated if not provided)"
          },
          "objective": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectiveFunction"
              }
            ],
            "description": "Objective function to optimize"
          },
          "decision_variables": {
            "items": {
              "$ref": "#/components/schemas/DecisionVariable"
            },
            "type": "array",
            "maxItems": 10,
            "minItems": 1,
            "title": "Decision Variables",
            "description": "Decision variables with bounds"
          },
          "constraints": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/OptimisationConstraint"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Constraints",
            "description": "Optional linear constraints"
          },
          "grid_points": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 5.0,
            "title": "Grid Points",
            "description": "Number of grid points per dimension",
            "default": 20
          },
          "confidence_level": {
            "type": "number",
            "maximum": 0.999,
            "minimum": 0.5,
            "title": "Confidence Level",
            "description": "Confidence level for intervals (0.5-0.999)",
            "default": 0.95
          },
          "noise_std": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Noise Std",
            "description": "Optional standard deviation of noise for uncertainty estimation"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed",
            "description": "Random seed for reproducibility"
          }
        },
        "type": "object",
        "required": [
          "objective",
          "decision_variables"
        ],
        "title": "OptimisationRequest",
        "description": "Request model for continuous optimization endpoint.",
        "example": {
          "confidence_level": 0.95,
          "constraints": [
            {
              "coefficients": {
                "quantity": 1.0
              },
              "constraint_id": "capacity",
              "relation": "le",
              "rhs": 500.0
            }
          ],
          "decision_variables": [
            {
              "lower_bound": 10.0,
              "upper_bound": 100.0,
              "variable_id": "price"
            },
            {
              "lower_bound": 0.0,
              "upper_bound": 1000.0,
              "variable_id": "quantity"
            }
          ],
          "grid_points": 20,
          "objective": {
            "coefficients": {
              "price": 100,
              "quantity": -5
            },
            "constant": -10000,
            "direction": "maximize",
            "variable_id": "profit"
          },
          "request_id": "opt_req_001"
        }
      },
      "OptimisationResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version for this response",
            "default": "optimise.v1"
          },
          "optimal_point": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/OptimalPoint"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optimal point (None if no feasible solution)"
          },
          "sensitivity": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/OptimisationSensitivity"
              },
              {
                "type": "null"
              }
            ],
            "description": "Sensitivity analysis at optimal point"
          },
          "grid_metrics": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GridSearchMetrics"
              }
            ],
            "description": "Metrics from grid search"
          },
          "warnings": {
            "items": {
              "$ref": "#/components/schemas/OptimisationWarning"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Warnings about the optimization result"
          },
          "identifiability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdentifiabilityInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Identifiability analysis for the primary decision\u2192goal effect (if graph provided)"
          },
          "recommendation_status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/src__models__responses__RecommendationStatusEnum"
              },
              {
                "type": "null"
              }
            ],
            "description": "HARD RULE: 'actionable' if identifiable, 'exploratory' if not"
          },
          "recommendation_caveat": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recommendation Caveat",
            "description": "Caveat for recommendations (required if recommendation_status is 'exploratory')"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "grid_metrics"
        ],
        "title": "OptimisationResponse",
        "description": "Response model for continuous optimization endpoint.",
        "example": {
          "grid_metrics": {
            "computation_time_ms": 125.5,
            "convergence_achieved": true,
            "feasible_points": 350,
            "grid_points_evaluated": 400
          },
          "metadata": {
            "algorithm": "grid_search",
            "cache_hit": false,
            "computation_time_ms": 125.5,
            "isl_version": "2.0",
            "request_id": "opt_req_001"
          },
          "optimal_point": {
            "boundary_variables": [
              "quantity"
            ],
            "confidence_interval": {
              "confidence_level": 0.95,
              "lower": 21000.0,
              "upper": 24000.0
            },
            "feasible": true,
            "is_boundary": true,
            "objective_value": 22500.0,
            "variable_values": {
              "price": 65.0,
              "quantity": 500.0
            }
          },
          "schema_version": "optimise.v1",
          "sensitivity": {
            "critical_variables": [
              "quantity"
            ],
            "gradient_at_optimum": {
              "price": 85.5,
              "quantity": -4.2
            },
            "range_within_5pct": {
              "price": [
                60.0,
                70.0
              ],
              "quantity": [
                450.0,
                500.0
              ]
            },
            "robustness": "moderate",
            "robustness_score": 0.65
          },
          "warnings": [
            {
              "affected_variables": [
                "quantity"
              ],
              "code": "BOUNDARY_OPTIMUM",
              "message": "Optimal point is at constraint boundary for 'quantity'."
            }
          ]
        }
      },
      "OptimisationSensitivity": {
        "properties": {
          "range_within_5pct": {
            "additionalProperties": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Range Within 5Pct",
            "description": "Variable ranges where objective stays within 5% of optimum [min, max]"
          },
          "gradient_at_optimum": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Gradient At Optimum",
            "description": "Partial derivatives (sensitivity coefficients) at optimum"
          },
          "robustness": {
            "type": "string",
            "pattern": "^(robust|moderate|fragile)$",
            "title": "Robustness",
            "description": "Overall robustness assessment"
          },
          "robustness_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "description": "Numerical robustness score (0-1)"
          },
          "critical_variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Critical Variables",
            "description": "Variables with highest sensitivity"
          }
        },
        "type": "object",
        "required": [
          "range_within_5pct",
          "gradient_at_optimum",
          "robustness",
          "robustness_score"
        ],
        "title": "OptimisationSensitivity",
        "description": "Sensitivity analysis at the optimal point.",
        "example": {
          "critical_variables": [
            "quantity"
          ],
          "gradient_at_optimum": {
            "price": 85.5,
            "quantity": -4.2
          },
          "range_within_5pct": {
            "price": [
              60.0,
              70.0
            ],
            "quantity": [
              450.0,
              500.0
            ]
          },
          "robustness": "moderate",
          "robustness_score": 0.65
        }
      },
      "OptimisationWarning": {
        "properties": {
          "code": {
            "type": "string",
            "pattern": "^(NO_FEASIBLE_SOLUTION|FLAT_OBJECTIVE|BOUNDARY_OPTIMUM|NON_CONVEX|MULTIPLE_OPTIMA|CONSTRAINT_ACTIVE)$",
            "title": "Code",
            "description": "Warning code"
          },
          "message": {
            "type": "string",
            "maxLength": 500,
            "title": "Message",
            "description": "Human-readable warning message"
          },
          "affected_variables": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Affected Variables",
            "description": "Variables affected by this warning"
          }
        },
        "type": "object",
        "required": [
          "code",
          "message"
        ],
        "title": "OptimisationWarning",
        "description": "Warning about optimization result.",
        "example": {
          "affected_variables": [
            "quantity"
          ],
          "code": "BOUNDARY_OPTIMUM",
          "message": "Optimal point is at constraint boundary for 'quantity'. Consider relaxing constraints."
        }
      },
      "OptimizationObjectiveSpec": {
        "properties": {
          "target_variable": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Target Variable",
            "description": "Variable to optimize"
          },
          "goal": {
            "type": "string",
            "title": "Goal",
            "description": "Optimization goal: maximize, minimize, or target"
          },
          "target_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Value",
            "description": "Target value (required if goal=target)"
          }
        },
        "type": "object",
        "required": [
          "target_variable",
          "goal"
        ],
        "title": "OptimizationObjectiveSpec",
        "description": "Optimization objective specification.",
        "example": {
          "goal": "maximize",
          "target_variable": "Revenue"
        }
      },
      "OptionForFeasibility": {
        "properties": {
          "option_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Option Id",
            "description": "Unique option identifier"
          },
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Human-readable option name"
          },
          "variable_values": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Variable Values",
            "description": "Variable values for this option"
          },
          "expected_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Value",
            "description": "Expected value/utility of this option"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "name",
          "variable_values"
        ],
        "title": "OptionForFeasibility",
        "description": "An option to check for feasibility.",
        "example": {
          "expected_value": 50000,
          "name": "Launch Premium Product",
          "option_id": "option_a",
          "variable_values": {
            "expected_revenue": 200000,
            "risk_level": 0.3,
            "total_cost": 85000
          }
        }
      },
      "OptionResult": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Option identifier"
          },
          "outcome_distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OutcomeDistribution"
              }
            ],
            "description": "Distribution of outcomes"
          },
          "win_probability": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Win Probability",
            "description": "P(this option is best)"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "outcome_distribution",
          "win_probability"
        ],
        "title": "OptionResult",
        "description": "Results for a single decision option.",
        "example": {
          "option_id": "opt1",
          "outcome_distribution": {
            "ci_lower": 40000.0,
            "ci_upper": 60000.0,
            "mean": 50000.0,
            "median": 49500.0,
            "std": 5000.0
          },
          "win_probability": 0.65
        }
      },
      "OptionScore": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Option identifier"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Human-readable option label"
          },
          "p10": {
            "type": "number",
            "title": "P10",
            "description": "Pessimistic (10th percentile) score"
          },
          "p50": {
            "type": "number",
            "title": "P50",
            "description": "Expected (50th percentile) score"
          },
          "p90": {
            "type": "number",
            "title": "P90",
            "description": "Optimistic (90th percentile) score"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "p10",
          "p50",
          "p90"
        ],
        "title": "OptionScore",
        "description": "Scores for a single option across percentiles.",
        "example": {
          "option_id": "opt_launch_q1",
          "option_label": "Launch in Q1 2025",
          "p10": 0.65,
          "p50": 0.85,
          "p90": 0.95
        }
      },
      "OutcomeDistribution": {
        "properties": {
          "mean": {
            "type": "number",
            "title": "Mean",
            "description": "Mean outcome value"
          },
          "std": {
            "type": "number",
            "title": "Std",
            "description": "Standard deviation"
          },
          "median": {
            "type": "number",
            "title": "Median",
            "description": "Median outcome value"
          },
          "ci_lower": {
            "type": "number",
            "title": "Ci Lower",
            "description": "Lower bound of confidence interval"
          },
          "ci_upper": {
            "type": "number",
            "title": "Ci Upper",
            "description": "Upper bound of confidence interval"
          },
          "samples": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Samples",
            "description": "Raw samples if requested"
          }
        },
        "type": "object",
        "required": [
          "mean",
          "std",
          "median",
          "ci_lower",
          "ci_upper"
        ],
        "title": "OutcomeDistribution",
        "description": "Distribution of outcomes from Monte Carlo sampling.",
        "example": {
          "ci_lower": 40000.0,
          "ci_upper": 60000.0,
          "mean": 50000.0,
          "median": 49500.0,
          "std": 5000.0
        }
      },
      "OutcomeGuarantee": {
        "properties": {
          "outcome_variable": {
            "type": "string",
            "title": "Outcome Variable",
            "description": "Outcome variable name"
          },
          "minimum": {
            "type": "number",
            "title": "Minimum",
            "description": "Guaranteed minimum outcome"
          },
          "maximum": {
            "type": "number",
            "title": "Maximum",
            "description": "Guaranteed maximum outcome"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Confidence level (0-1)"
          }
        },
        "type": "object",
        "required": [
          "outcome_variable",
          "minimum",
          "maximum",
          "confidence"
        ],
        "title": "OutcomeGuarantee",
        "description": "Guaranteed outcome range across intervention region.\n\nWith high confidence, all interventions in region produce\noutcomes within this range.",
        "example": {
          "confidence": 0.95,
          "maximum": 105000.0,
          "minimum": 95000.0,
          "outcome_variable": "revenue"
        }
      },
      "OutcomeLog": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Auto-generated UUID"
          },
          "decision_id": {
            "type": "string",
            "title": "Decision Id",
            "description": "Unique identifier for this decision"
          },
          "graph_hash": {
            "type": "string",
            "title": "Graph Hash",
            "description": "Hash of the graph structure"
          },
          "response_hash": {
            "type": "string",
            "title": "Response Hash",
            "description": "Hash of the analysis response"
          },
          "chosen_option": {
            "type": "string",
            "title": "Chosen Option",
            "description": "Option ID the user chose"
          },
          "recommendation_option": {
            "type": "string",
            "title": "Recommendation Option",
            "description": "Option ID ISL recommended"
          },
          "recommendation_followed": {
            "type": "boolean",
            "title": "Recommendation Followed",
            "description": "Whether user followed the recommendation"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When decision was logged"
          },
          "outcome_values": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Outcome Values",
            "description": "Actual outcome values (filled in later)"
          },
          "outcome_timestamp": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Outcome Timestamp",
            "description": "When outcome was recorded"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "User identifier"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Tenant/organization identifier"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes"
          }
        },
        "type": "object",
        "required": [
          "decision_id",
          "graph_hash",
          "response_hash",
          "chosen_option",
          "recommendation_option",
          "recommendation_followed"
        ],
        "title": "OutcomeLog",
        "description": "Outcome logging for future calibration.\n\nRecords decisions and their outcomes for analyzing recommendation accuracy.",
        "example": {
          "chosen_option": "option_a",
          "decision_id": "decision_456",
          "graph_hash": "sha256_abc...",
          "id": "log_abc123",
          "outcome_values": {
            "revenue": 155000.0
          },
          "recommendation_followed": true,
          "recommendation_option": "option_a",
          "response_hash": "sha256_def...",
          "tenant_id": "tenant_xyz",
          "timestamp": "2024-01-15T10:30:00Z",
          "user_id": "user_789"
        }
      },
      "OutcomeLogRequest": {
        "properties": {
          "decision_id": {
            "type": "string",
            "title": "Decision Id",
            "description": "Unique identifier for this decision"
          },
          "graph_hash": {
            "type": "string",
            "title": "Graph Hash",
            "description": "Hash of the graph structure"
          },
          "response_hash": {
            "type": "string",
            "title": "Response Hash",
            "description": "Hash of the analysis response"
          },
          "chosen_option": {
            "type": "string",
            "title": "Chosen Option",
            "description": "Option ID the user chose"
          },
          "recommendation_option": {
            "type": "string",
            "title": "Recommendation Option",
            "description": "Option ID ISL recommended"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "User identifier"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Tenant/organization identifier"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes"
          }
        },
        "type": "object",
        "required": [
          "decision_id",
          "graph_hash",
          "response_hash",
          "chosen_option",
          "recommendation_option"
        ],
        "title": "OutcomeLogRequest",
        "description": "Request to log a decision outcome."
      },
      "OutcomeSummary": {
        "properties": {
          "total_logged": {
            "type": "integer",
            "title": "Total Logged",
            "description": "Total decisions logged"
          },
          "with_outcomes": {
            "type": "integer",
            "title": "With Outcomes",
            "description": "Decisions with recorded outcomes"
          },
          "recommendations_followed": {
            "type": "integer",
            "title": "Recommendations Followed",
            "description": "Number where recommendation was followed"
          },
          "recommendations_followed_pct": {
            "type": "number",
            "title": "Recommendations Followed Pct",
            "description": "Percentage of recommendations followed"
          },
          "avg_outcome_when_followed": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Outcome When Followed",
            "description": "Average outcome when recommendation followed"
          },
          "avg_outcome_when_not_followed": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Outcome When Not Followed",
            "description": "Average outcome when recommendation not followed"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          }
        },
        "type": "object",
        "required": [
          "total_logged",
          "with_outcomes",
          "recommendations_followed",
          "recommendations_followed_pct"
        ],
        "title": "OutcomeSummary",
        "description": "Summary statistics for outcome logging."
      },
      "OutcomeUpdateRequest": {
        "properties": {
          "outcome_values": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Outcome Values",
            "description": "Actual outcome values"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes about the outcome"
          }
        },
        "type": "object",
        "required": [
          "outcome_values"
        ],
        "title": "OutcomeUpdateRequest",
        "description": "Request to update an outcome log with actual values."
      },
      "PairwiseInteraction": {
        "properties": {
          "variables": {
            "prefixItems": [
              {
                "type": "string"
              },
              {
                "type": "string"
              }
            ],
            "type": "array",
            "maxItems": 2,
            "minItems": 2,
            "title": "Variables",
            "description": "Pair of variables"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Interaction type: synergistic, antagonistic, or additive"
          },
          "effect_size": {
            "type": "number",
            "title": "Effect Size",
            "description": "Interaction effect size in outcome units"
          },
          "significance": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Significance",
            "description": "Significance score (0-1)"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "Plain English explanation"
          }
        },
        "type": "object",
        "required": [
          "variables",
          "type",
          "effect_size",
          "significance",
          "explanation"
        ],
        "title": "PairwiseInteraction",
        "description": "Pairwise interaction between two variables.",
        "example": {
          "effect_size": 5000,
          "explanation": "Price and Quality interact synergistically: combined effect (\u00a355k) exceeds sum of individual effects (\u00a348k)",
          "significance": 0.85,
          "type": "synergistic",
          "variables": [
            "Price",
            "Quality"
          ]
        }
      },
      "ParameterRecommendation": {
        "properties": {
          "parameter": {
            "type": "string",
            "maxLength": 200,
            "title": "Parameter",
            "description": "Parameter name (e.g., 'n_decision_to_n_outcome_weight')"
          },
          "parameter_type": {
            "type": "string",
            "pattern": "^(weight|belief)$",
            "title": "Parameter Type",
            "description": "Type of parameter"
          },
          "current_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Value",
            "description": "Current parameter value (if provided in request)"
          },
          "recommended_range": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "maxItems": 2,
            "minItems": 2,
            "title": "Recommended Range",
            "description": "Recommended range [min, max]"
          },
          "recommended_typical": {
            "type": "number",
            "title": "Recommended Typical",
            "description": "Typical/center value of recommended range"
          },
          "rationale": {
            "type": "string",
            "maxLength": 500,
            "title": "Rationale",
            "description": "Explanation of why this range is recommended"
          },
          "importance": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Importance",
            "description": "Parameter importance (0-1, from sensitivity analysis)"
          },
          "confidence": {
            "type": "string",
            "pattern": "^(high|medium|low)$",
            "title": "Confidence",
            "description": "Confidence in recommendation"
          }
        },
        "type": "object",
        "required": [
          "parameter",
          "parameter_type",
          "recommended_range",
          "recommended_typical",
          "rationale",
          "importance",
          "confidence"
        ],
        "title": "ParameterRecommendation",
        "description": "Single parameter recommendation with range and rationale.",
        "example": {
          "confidence": "high",
          "current_value": 2.0,
          "importance": 0.92,
          "parameter": "n_decision_to_n_outcome_weight",
          "parameter_type": "weight",
          "rationale": "Critical path edge connecting decision to outcome - requires strong causal influence",
          "recommended_range": [
            1.2,
            1.8
          ],
          "recommended_typical": 1.5
        }
      },
      "ParameterRecommendationRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "timeout": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 30000.0,
                "minimum": 1000.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout",
            "description": "Request timeout in milliseconds",
            "default": 12000
          },
          "current_parameters": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Parameters",
            "description": "Optional current parameter values to compare against"
          }
        },
        "type": "object",
        "required": [
          "graph"
        ],
        "title": "ParameterRecommendationRequest",
        "description": "Request model for parameter recommendation endpoint.",
        "example": {
          "current_parameters": {
            "n_decision_belief": 0.8,
            "n_decision_to_n_outcome_weight": 2.0
          },
          "graph": {
            "edges": [
              {
                "from": "n_decision",
                "to": "n_outcome",
                "weight": 2.0
              }
            ],
            "nodes": [
              {
                "belief": 0.8,
                "id": "n_decision",
                "kind": "decision",
                "label": "Launch Product"
              },
              {
                "belief": 0.6,
                "id": "n_outcome",
                "kind": "outcome",
                "label": "Market Success"
              }
            ]
          },
          "timeout": 12000
        }
      },
      "ParameterRecommendationResponse": {
        "properties": {
          "recommendations": {
            "items": {
              "$ref": "#/components/schemas/ParameterRecommendation"
            },
            "type": "array",
            "title": "Recommendations",
            "description": "List of parameter recommendations sorted by importance"
          },
          "graph_characteristics": {
            "type": "object",
            "title": "Graph Characteristics",
            "description": "Metadata about graph structure"
          }
        },
        "type": "object",
        "required": [
          "recommendations",
          "graph_characteristics"
        ],
        "title": "ParameterRecommendationResponse",
        "description": "Response model for parameter recommendation endpoint.",
        "example": {
          "graph_characteristics": {
            "avg_centrality": 0.42,
            "max_path_length": 4,
            "num_critical_edges": 3
          },
          "recommendations": [
            {
              "confidence": "high",
              "current_value": 2.0,
              "importance": 0.92,
              "parameter": "n_decision_to_n_outcome_weight",
              "parameter_type": "weight",
              "rationale": "Critical path edge connecting decision to outcome - requires strong causal influence",
              "recommended_range": [
                1.2,
                1.8
              ],
              "recommended_typical": 1.5
            },
            {
              "confidence": "high",
              "current_value": 0.8,
              "importance": 0.78,
              "parameter": "n_decision_belief",
              "parameter_type": "belief",
              "rationale": "Treatment node - high certainty recommended for robust analysis",
              "recommended_range": [
                0.75,
                0.95
              ],
              "recommended_typical": 0.85
            }
          ]
        }
      },
      "ParameterSensitivity": {
        "properties": {
          "parameter_id": {
            "type": "string",
            "title": "Parameter Id",
            "description": "Parameter identifier"
          },
          "parameter_label": {
            "type": "string",
            "title": "Parameter Label",
            "description": "Parameter label"
          },
          "changes_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Changes Count",
            "description": "Number of ranking changes across parameter sweep"
          },
          "most_sensitive_range": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array",
                "maxItems": 2,
                "minItems": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Most Sensitive Range",
            "description": "Parameter range [min, max] where most changes occur (if any changes)"
          },
          "sensitivity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Sensitivity Score",
            "description": "Normalized sensitivity score (0-1, higher = more sensitive)"
          }
        },
        "type": "object",
        "required": [
          "parameter_id",
          "parameter_label",
          "changes_count",
          "sensitivity_score"
        ],
        "title": "ParameterSensitivity",
        "description": "Sensitivity analysis for a parameter.",
        "example": {
          "changes_count": 2,
          "most_sensitive_range": [
            45.0,
            55.0
          ],
          "parameter_id": "price",
          "parameter_label": "Product Price",
          "sensitivity_score": 0.85
        }
      },
      "ParameterSweep": {
        "properties": {
          "parameter_id": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Parameter Id",
            "description": "Parameter identifier"
          },
          "parameter_label": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Parameter Label",
            "description": "Human-readable parameter label"
          },
          "values": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "maxItems": 1000,
            "minItems": 2,
            "title": "Values",
            "description": "Parameter values tested (in sweep order)"
          },
          "scores_by_value": {
            "additionalProperties": {
              "additionalProperties": {
                "type": "number"
              },
              "type": "object"
            },
            "type": "object",
            "title": "Scores By Value",
            "description": "Scores for each option at each parameter value. Format: {parameter_value: {option_id: score}}"
          }
        },
        "type": "object",
        "required": [
          "parameter_id",
          "parameter_label",
          "values",
          "scores_by_value"
        ],
        "title": "ParameterSweep",
        "description": "Parameter sweep with scores at different parameter values.",
        "example": {
          "parameter_id": "price",
          "parameter_label": "Product Price",
          "scores_by_value": {
            "30.0": {
              "opt_a": 0.9,
              "opt_b": 0.6,
              "opt_c": 0.75
            },
            "40.0": {
              "opt_a": 0.85,
              "opt_b": 0.7,
              "opt_c": 0.75
            },
            "50.0": {
              "opt_a": 0.75,
              "opt_b": 0.8,
              "opt_c": 0.7
            },
            "60.0": {
              "opt_a": 0.65,
              "opt_b": 0.85,
              "opt_c": 0.65
            },
            "70.0": {
              "opt_a": 0.5,
              "opt_b": 0.9,
              "opt_c": 0.6
            }
          },
          "values": [
            30.0,
            40.0,
            50.0,
            60.0,
            70.0
          ]
        }
      },
      "ParameterUncertainty": {
        "properties": {
          "node_id": {
            "type": "string",
            "pattern": "^[a-z0-9_:-]+$",
            "title": "Node Id",
            "description": "ID of the factor node this uncertainty applies to"
          },
          "distribution": {
            "type": "string",
            "title": "Distribution",
            "description": "Distribution family: 'normal', 'uniform', 'point_mass'",
            "default": "normal"
          },
          "std": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Std",
            "description": "Standard deviation for Normal sampling around observed_state.value"
          },
          "range_min": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Range Min",
            "description": "Minimum value for uniform distribution"
          },
          "range_max": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Range Max",
            "description": "Maximum value for uniform distribution"
          }
        },
        "type": "object",
        "required": [
          "node_id"
        ],
        "title": "ParameterUncertainty",
        "description": "Uncertainty specification for a factor node's value.\n\nDefines how to sample a factor's value during Monte Carlo analysis.\nThe mean is typically taken from the node's `observed_state.value`.\n\nSupported distributions:\n- \"normal\": Sample from Normal(observed_value, std)\n- \"uniform\": Sample uniformly from [range_min, range_max]\n- \"point_mass\": Use observed_value exactly (no sampling)",
        "example": {
          "distribution": "normal",
          "node_id": "marketing_spend",
          "std": 2.5
        }
      },
      "ParetoFrontierOption": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Option identifier"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Human-readable option label"
          },
          "scores": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Scores",
            "description": "Normalized scores by criterion_id"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "scores"
        ],
        "title": "ParetoFrontierOption",
        "description": "Single option on the Pareto frontier with scores.",
        "example": {
          "option_id": "opt_a",
          "option_label": "Option A: Aggressive Growth",
          "scores": {
            "revenue": 0.9,
            "risk": 0.4,
            "timeline": 0.7
          }
        }
      },
      "ParetoPoint": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Option identifier"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Human-readable option name"
          },
          "goal_values": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Goal Values",
            "description": "Value achieved for each goal"
          },
          "is_dominated": {
            "type": "boolean",
            "title": "Is Dominated",
            "description": "Whether this option is dominated by another"
          },
          "trade_off_description": {
            "type": "string",
            "title": "Trade Off Description",
            "description": "Description of trade-offs"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "goal_values",
          "is_dominated",
          "trade_off_description"
        ],
        "title": "ParetoPoint",
        "description": "A point on the Pareto frontier for multi-goal optimization.",
        "example": {
          "goal_values": {
            "revenue": 150000.0,
            "risk": 0.3
          },
          "is_dominated": false,
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "trade_off_description": "Sacrifices 10% risk reduction for 25% higher revenue"
        }
      },
      "ParetoRequest": {
        "properties": {
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Optional request ID for tracing (auto-generated if not provided)"
          },
          "options": {
            "items": {
              "$ref": "#/components/schemas/DominanceOption"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "description": "Options to analyze for Pareto frontier"
          },
          "criteria": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 10,
            "minItems": 1,
            "title": "Criteria",
            "description": "Criterion IDs to consider (must match keys in option scores)"
          },
          "max_frontier_size": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Frontier Size",
            "description": "Maximum number of frontier options to return (for large frontiers)",
            "default": 20
          }
        },
        "type": "object",
        "required": [
          "options",
          "criteria"
        ],
        "title": "ParetoRequest",
        "description": "Request model for Pareto frontier endpoint.",
        "example": {
          "criteria": [
            "revenue",
            "risk",
            "timeline"
          ],
          "max_frontier_size": 20,
          "options": [
            {
              "option_id": "opt_a",
              "option_label": "Option A: Aggressive Growth",
              "scores": {
                "revenue": 0.9,
                "risk": 0.4,
                "timeline": 0.7
              }
            },
            {
              "option_id": "opt_b",
              "option_label": "Option B: Conservative Growth",
              "scores": {
                "revenue": 0.6,
                "risk": 0.8,
                "timeline": 0.9
              }
            },
            {
              "option_id": "opt_c",
              "option_label": "Option C: Balanced Approach",
              "scores": {
                "revenue": 0.75,
                "risk": 0.75,
                "timeline": 0.8
              }
            }
          ],
          "request_id": "req_abc123"
        }
      },
      "ParetoResponse": {
        "properties": {
          "frontier": {
            "items": {
              "$ref": "#/components/schemas/ParetoFrontierOption"
            },
            "type": "array",
            "title": "Frontier",
            "description": "Options on the Pareto frontier (non-dominated options)"
          },
          "dominated": {
            "items": {
              "$ref": "#/components/schemas/DominanceRelation"
            },
            "type": "array",
            "title": "Dominated",
            "description": "Options that are dominated (sorted by degree, descending)"
          },
          "frontier_size": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Frontier Size",
            "description": "Number of options on Pareto frontier"
          },
          "total_options": {
            "type": "integer",
            "minimum": 2.0,
            "title": "Total Options",
            "description": "Total number of options analyzed"
          },
          "frontier_truncated": {
            "type": "boolean",
            "title": "Frontier Truncated",
            "description": "True if frontier was truncated due to max_frontier_size limit",
            "default": false
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "frontier",
          "dominated",
          "frontier_size",
          "total_options"
        ],
        "title": "ParetoResponse",
        "description": "Response model for Pareto frontier endpoint.",
        "example": {
          "dominated": [
            {
              "degree": 1,
              "dominated_by": [
                "opt_c"
              ],
              "dominated_option_id": "opt_b",
              "dominated_option_label": "Option B: Conservative Growth"
            }
          ],
          "frontier": [
            {
              "option_id": "opt_a",
              "option_label": "Option A: Aggressive Growth",
              "scores": {
                "revenue": 0.9,
                "risk": 0.4,
                "timeline": 0.7
              }
            },
            {
              "option_id": "opt_c",
              "option_label": "Option C: Balanced Approach",
              "scores": {
                "revenue": 0.75,
                "risk": 0.75,
                "timeline": 0.8
              }
            }
          ],
          "frontier_size": 2,
          "frontier_truncated": false,
          "metadata": {
            "algorithm": "skyline_pareto",
            "cache_hit": false,
            "computation_time_ms": 2.8,
            "isl_version": "2.0",
            "request_id": "req_abc123"
          },
          "total_options": 3
        }
      },
      "ParetoResult": {
        "properties": {
          "goals": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Goals",
            "description": "Goals analyzed"
          },
          "frontier_options": {
            "items": {
              "$ref": "#/components/schemas/ParetoPoint"
            },
            "type": "array",
            "title": "Frontier Options",
            "description": "Options on the Pareto frontier"
          },
          "current_selection_pareto_efficient": {
            "type": "boolean",
            "title": "Current Selection Pareto Efficient",
            "description": "Whether current recommendation is Pareto efficient"
          }
        },
        "type": "object",
        "required": [
          "goals",
          "frontier_options",
          "current_selection_pareto_efficient"
        ],
        "title": "ParetoResult",
        "description": "Pareto frontier analysis for multi-goal decisions.",
        "example": {
          "current_selection_pareto_efficient": true,
          "frontier_options": [
            {
              "goal_values": {
                "revenue": 150000.0,
                "risk": 0.3
              },
              "is_dominated": false,
              "option_id": "option_a",
              "option_label": "Aggressive Marketing",
              "trade_off_description": "Highest revenue, moderate risk"
            }
          ],
          "goals": [
            "revenue",
            "risk"
          ]
        }
      },
      "PathAnalysisDetail": {
        "properties": {
          "backdoor_paths": {
            "items": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "array",
            "title": "Backdoor Paths",
            "description": "Backdoor paths from treatment to outcome"
          },
          "frontdoor_paths": {
            "items": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "array",
            "title": "Frontdoor Paths",
            "description": "Directed paths from treatment to outcome"
          },
          "blocked_paths": {
            "items": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "array",
            "title": "Blocked Paths",
            "description": "Paths that are already blocked by colliders"
          },
          "critical_nodes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Critical Nodes",
            "description": "Nodes that block multiple paths if controlled"
          }
        },
        "type": "object",
        "required": [
          "backdoor_paths",
          "frontdoor_paths",
          "blocked_paths",
          "critical_nodes"
        ],
        "title": "PathAnalysisDetail",
        "description": "Analysis of causal paths in a DAG.\n\nIdentifies backdoor paths, frontdoor paths, and critical nodes.",
        "example": {
          "backdoor_paths": [
            [
              "Price",
              "Competitors",
              "Revenue"
            ]
          ],
          "blocked_paths": [],
          "critical_nodes": [
            "Competitors"
          ],
          "frontdoor_paths": [
            [
              "Price",
              "Revenue"
            ]
          ]
        }
      },
      "PerturbationResult": {
        "properties": {
          "perturbation_id": {
            "type": "integer",
            "title": "Perturbation Id",
            "description": "Perturbation scenario ID"
          },
          "top_option_id": {
            "type": "string",
            "title": "Top Option Id",
            "description": "ID of top option in this scenario"
          },
          "ranking_changed": {
            "type": "boolean",
            "title": "Ranking Changed",
            "description": "Whether ranking changed from baseline"
          },
          "value_change_pct": {
            "type": "number",
            "title": "Value Change Pct",
            "description": "Percentage change in top option's value"
          }
        },
        "type": "object",
        "required": [
          "perturbation_id",
          "top_option_id",
          "ranking_changed",
          "value_change_pct"
        ],
        "title": "PerturbationResult",
        "description": "Result of a single perturbation scenario.",
        "example": {
          "perturbation_id": 1,
          "ranking_changed": true,
          "top_option_id": "option_b",
          "value_change_pct": -3.5
        }
      },
      "Policy": {
        "properties": {
          "stages": {
            "items": {
              "$ref": "#/components/schemas/StagePolicy"
            },
            "type": "array",
            "title": "Stages",
            "description": "Policy for each stage"
          },
          "expected_total_value": {
            "type": "number",
            "title": "Expected Total Value",
            "description": "Expected total value following this policy"
          },
          "value_distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PolicyDistribution"
              }
            ],
            "description": "Distribution of total value"
          }
        },
        "type": "object",
        "required": [
          "stages",
          "expected_total_value",
          "value_distribution"
        ],
        "title": "Policy",
        "description": "Optimal policy across all stages.",
        "example": {
          "expected_total_value": 45000.0,
          "stages": [
            {
              "contingent_on": [],
              "decision_rule": {
                "conditional_actions": [],
                "default_action": "invest"
              },
              "stage_index": 0,
              "stage_label": "Investment"
            }
          ],
          "value_distribution": {
            "parameters": {
              "mean": 45000,
              "std": 15000
            },
            "type": "normal"
          }
        }
      },
      "PolicyDistribution": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Distribution type"
          },
          "parameters": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Parameters",
            "description": "Distribution parameters"
          }
        },
        "type": "object",
        "required": [
          "type",
          "parameters"
        ],
        "title": "PolicyDistribution",
        "description": "Distribution of policy values.",
        "example": {
          "parameters": {
            "mean": 45000,
            "std": 15000
          },
          "type": "normal"
        }
      },
      "PolicyTreeNode": {
        "properties": {
          "node_id": {
            "type": "string",
            "title": "Node Id",
            "description": "Node identifier"
          },
          "stage": {
            "type": "integer",
            "title": "Stage",
            "description": "Stage this node belongs to"
          },
          "node_type": {
            "type": "string",
            "pattern": "^(decision|chance|terminal)$",
            "title": "Node Type",
            "description": "Type of node"
          },
          "label": {
            "type": "string",
            "title": "Label",
            "description": "Human-readable label"
          },
          "optimal_action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Optimal Action",
            "description": "Optimal action at this node (for decision nodes)"
          },
          "expected_value": {
            "type": "number",
            "title": "Expected Value",
            "description": "Expected value at this node"
          },
          "children": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Children",
            "description": "Child nodes with transition info"
          }
        },
        "type": "object",
        "required": [
          "node_id",
          "stage",
          "node_type",
          "label",
          "expected_value"
        ],
        "title": "PolicyTreeNode",
        "description": "Node in a policy tree representation.",
        "example": {
          "children": [
            {
              "action": "invest",
              "child_id": "market_node",
              "probability": 1.0
            }
          ],
          "expected_value": 45000,
          "label": "Investment Decision",
          "node_id": "root",
          "node_type": "decision",
          "optimal_action": "invest",
          "stage": 0
        }
      },
      "PolicyTreeResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version",
            "default": "policy_tree.v1"
          },
          "root": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PolicyTreeNode"
              }
            ],
            "description": "Root node of the policy tree"
          },
          "total_stages": {
            "type": "integer",
            "title": "Total Stages",
            "description": "Total number of stages"
          },
          "total_nodes": {
            "type": "integer",
            "title": "Total Nodes",
            "description": "Total number of nodes in tree"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "root",
          "total_stages",
          "total_nodes"
        ],
        "title": "PolicyTreeResponse",
        "description": "Response model for policy tree endpoint.",
        "example": {
          "root": {
            "children": [],
            "expected_value": 45000,
            "label": "Investment Decision",
            "node_id": "root",
            "node_type": "decision",
            "optimal_action": "invest",
            "stage": 0
          },
          "schema_version": "policy_tree.v1",
          "total_nodes": 7,
          "total_stages": 3
        }
      },
      "PredictionResults": {
        "properties": {
          "point_estimate": {
            "type": "number",
            "title": "Point Estimate",
            "description": "Most likely outcome value"
          },
          "confidence_interval": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceInterval"
              }
            ],
            "description": "Confidence interval for prediction"
          },
          "sensitivity_range": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SensitivityRange"
              }
            ],
            "description": "Range of plausible outcomes"
          }
        },
        "type": "object",
        "required": [
          "point_estimate",
          "confidence_interval",
          "sensitivity_range"
        ],
        "title": "PredictionResults",
        "description": "Prediction results for counterfactual analysis."
      },
      "PrimaryRecommendation": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Recommended option ID"
          },
          "label": {
            "type": "string",
            "title": "Label",
            "description": "Human-readable label"
          },
          "confidence": {
            "type": "string",
            "pattern": "^(high|medium|low)$",
            "title": "Confidence",
            "description": "Confidence level"
          },
          "expected_value": {
            "type": "number",
            "title": "Expected Value",
            "description": "Expected value of this option"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "label",
          "confidence",
          "expected_value"
        ],
        "title": "PrimaryRecommendation",
        "description": "Primary recommendation for an option.",
        "example": {
          "confidence": "high",
          "expected_value": 75000.0,
          "label": "Aggressive Expansion",
          "option_id": "option_a"
        }
      },
      "QualityLevel": {
        "type": "string",
        "enum": [
          "excellent",
          "good",
          "acceptable",
          "poor"
        ],
        "title": "QualityLevel",
        "description": "Overall model quality."
      },
      "RankedOption-Output": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Unique option identifier"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Human-readable option name"
          },
          "expected_utility": {
            "type": "number",
            "title": "Expected Utility",
            "description": "Expected utility value"
          },
          "utility_distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UtilityDistribution"
              }
            ],
            "description": "Distribution of utility values"
          },
          "rank": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Rank",
            "description": "Rank (1 = best)"
          },
          "vs_baseline": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vs Baseline",
            "description": "Absolute difference vs baseline option"
          },
          "vs_baseline_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vs Baseline Pct",
            "description": "Percentage difference vs baseline option"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "expected_utility",
          "utility_distribution",
          "rank"
        ],
        "title": "RankedOption",
        "description": "A decision option with its ranking and utility metrics.",
        "example": {
          "expected_utility": 150000.0,
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "rank": 1,
          "utility_distribution": {
            "p25": 135000.0,
            "p5": 120000.0,
            "p50": 150000.0,
            "p75": 165000.0,
            "p95": 180000.0
          },
          "vs_baseline": 25000.0,
          "vs_baseline_pct": 20.0
        }
      },
      "RankingChange": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Option identifier"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Option label"
          },
          "original_rank": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Original Rank",
            "description": "Rank before adjustment (1-based)"
          },
          "adjusted_rank": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Adjusted Rank",
            "description": "Rank after adjustment (1-based)"
          },
          "rank_change": {
            "type": "integer",
            "title": "Rank Change",
            "description": "Change in rank (positive = improved, negative = worsened)"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "original_rank",
          "adjusted_rank",
          "rank_change"
        ],
        "title": "RankingChange",
        "description": "Details about ranking changes after risk adjustment.",
        "example": {
          "adjusted_rank": 1,
          "option_id": "opt_conservative",
          "option_label": "Conservative Growth Strategy",
          "original_rank": 2,
          "rank_change": 1
        }
      },
      "RankingStability": {
        "type": "string",
        "enum": [
          "stable",
          "sensitive",
          "unstable"
        ],
        "title": "RankingStability",
        "description": "Ranking stability classification."
      },
      "RankingThreshold": {
        "properties": {
          "parameter_id": {
            "type": "string",
            "title": "Parameter Id",
            "description": "Parameter identifier"
          },
          "parameter_label": {
            "type": "string",
            "title": "Parameter Label",
            "description": "Parameter label"
          },
          "threshold_value": {
            "type": "number",
            "title": "Threshold Value",
            "description": "Parameter value where ranking changes"
          },
          "ranking_before": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Ranking Before",
            "description": "Option ranking before threshold (option_ids, best to worst)"
          },
          "ranking_after": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Ranking After",
            "description": "Option ranking after threshold (option_ids, best to worst)"
          },
          "options_affected": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Options Affected",
            "description": "Option IDs whose ranks changed at this threshold"
          },
          "score_gap": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Score Gap",
            "description": "Score difference between swapped options at threshold"
          }
        },
        "type": "object",
        "required": [
          "parameter_id",
          "parameter_label",
          "threshold_value",
          "ranking_before",
          "ranking_after",
          "options_affected"
        ],
        "title": "RankingThreshold",
        "description": "A parameter threshold where ranking changes.",
        "example": {
          "options_affected": [
            "opt_a",
            "opt_b"
          ],
          "parameter_id": "price",
          "parameter_label": "Product Price",
          "ranking_after": [
            "opt_b",
            "opt_a",
            "opt_c"
          ],
          "ranking_before": [
            "opt_a",
            "opt_c",
            "opt_b"
          ],
          "score_gap": 0.05,
          "threshold_value": 50.0
        }
      },
      "Recommendation-Input": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Recommended option ID"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Recommended option label"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevelEnum"
              }
            ],
            "description": "Confidence in recommendation"
          },
          "recommendation_status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RecommendationStatusEnum-Input"
              }
            ],
            "description": "Whether recommendation is actionable or exploratory"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "confidence",
          "recommendation_status"
        ],
        "title": "Recommendation",
        "description": "Top recommendation from the analysis.",
        "example": {
          "confidence": "high",
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "recommendation_status": "actionable"
        }
      },
      "RecommendationStatusEnum-Input": {
        "type": "string",
        "enum": [
          "actionable",
          "exploratory"
        ],
        "title": "RecommendationStatusEnum",
        "description": "Recommendation status based on identifiability and robustness."
      },
      "RecommendedExperimentDetail": {
        "properties": {
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Intervention",
            "description": "Recommended intervention values"
          },
          "expected_outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Expected Outcome",
            "description": "Expected outcome values"
          },
          "expected_information_gain": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Expected Information Gain",
            "description": "Expected information gain from this experiment (0-1)"
          },
          "cost_estimate": {
            "type": "number",
            "title": "Cost Estimate",
            "description": "Estimated cost of the experiment"
          },
          "rationale": {
            "type": "string",
            "title": "Rationale",
            "description": "Plain English rationale for this recommendation"
          },
          "exploration_vs_exploitation": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Exploration Vs Exploitation",
            "description": "Exploration vs exploitation score (0=exploit, 1=explore)"
          }
        },
        "type": "object",
        "required": [
          "intervention",
          "expected_outcome",
          "expected_information_gain",
          "cost_estimate",
          "rationale",
          "exploration_vs_exploitation"
        ],
        "title": "RecommendedExperimentDetail",
        "description": "Recommended experiment specification.\n\nSpecifies intervention values, expected outcomes, and information gain.",
        "example": {
          "cost_estimate": 10000,
          "expected_information_gain": 0.75,
          "expected_outcome": {
            "Revenue": 38000
          },
          "exploration_vs_exploitation": 0.8,
          "intervention": {
            "Price": 55
          },
          "rationale": "Explore: Test Price=55 to learn more (high information gain: 0.75)"
        }
      },
      "RecoveryHints": {
        "properties": {
          "hints": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hints",
            "description": "List of actionable hints"
          },
          "suggestion": {
            "type": "string",
            "title": "Suggestion",
            "description": "Primary suggestion"
          },
          "example": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Example",
            "description": "Example fix"
          }
        },
        "type": "object",
        "required": [
          "hints",
          "suggestion"
        ],
        "title": "RecoveryHints",
        "description": "Recovery hints for error resolution."
      },
      "ResponseMetadata": {
        "properties": {
          "isl_version": {
            "type": "string",
            "title": "Isl Version",
            "description": "ISL service version (semver)",
            "example": "1.0.0"
          },
          "config_fingerprint": {
            "type": "string",
            "title": "Config Fingerprint",
            "description": "Hash of determinism-critical config",
            "example": "a3f8c9d2e1b4"
          },
          "config_details": {
            "type": "object",
            "title": "Config Details",
            "description": "Key configuration values",
            "example": {
              "confidence_level": 0.95,
              "learning_rate": 0.1,
              "monte_carlo_samples": 10000
            }
          },
          "request_id": {
            "type": "string",
            "title": "Request Id",
            "description": "Request ID for tracing",
            "example": "req_abc123"
          }
        },
        "type": "object",
        "required": [
          "isl_version",
          "config_fingerprint",
          "config_details",
          "request_id"
        ],
        "title": "ResponseMetadata",
        "description": "Metadata attached to all ISL responses for reproducibility.\n\nEnables PLoT to:\n- Verify same ISL version across reruns\n- Detect config changes that affect determinism\n- Audit what configuration produced results"
      },
      "ResponseMetadataV2": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version",
            "default": "2.2"
          },
          "isl_version": {
            "type": "string",
            "title": "Isl Version",
            "description": "ISL service version"
          },
          "n_samples_used": {
            "type": "integer",
            "title": "N Samples Used",
            "description": "Actual samples used"
          },
          "seed_used": {
            "type": "integer",
            "title": "Seed Used",
            "description": "Random seed used"
          },
          "execution_time_ms": {
            "type": "integer",
            "title": "Execution Time Ms",
            "description": "Execution time in milliseconds"
          },
          "edge_existence_rates": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Edge Existence Rates",
            "description": "Actual sampling rates per edge (format: 'from->to': rate)"
          },
          "clamp_metrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ClampMetrics"
              },
              {
                "type": "null"
              }
            ],
            "description": "Out-of-bounds sampling metrics"
          },
          "config_fingerprint": {
            "type": "string",
            "title": "Config Fingerprint",
            "description": "Hash of determinism-critical config"
          }
        },
        "type": "object",
        "required": [
          "isl_version",
          "n_samples_used",
          "seed_used",
          "execution_time_ms",
          "config_fingerprint"
        ],
        "title": "ResponseMetadataV2",
        "description": "Execution metadata for v2 responses."
      },
      "RiskAdjustmentRequest": {
        "properties": {
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Optional request ID for tracing"
          },
          "options": {
            "items": {
              "$ref": "#/components/schemas/RiskOption"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "description": "Options with uncertainty to adjust for risk"
          },
          "risk_coefficient": {
            "type": "number",
            "maximum": 10.0,
            "minimum": 0.0,
            "title": "Risk Coefficient",
            "description": "Risk coefficient from CEE risk profile (>0 for risk aversion)"
          },
          "risk_type": {
            "type": "string",
            "pattern": "^(risk_averse|risk_neutral|risk_seeking)$",
            "title": "Risk Type",
            "description": "Risk attitude type"
          }
        },
        "type": "object",
        "required": [
          "options",
          "risk_coefficient",
          "risk_type"
        ],
        "title": "RiskAdjustmentRequest",
        "description": "Request model for risk adjustment endpoint.",
        "example": {
          "options": [
            {
              "mean": 0.8,
              "option_id": "opt_aggressive",
              "option_label": "Aggressive Growth Strategy",
              "std_dev": 0.2
            },
            {
              "mean": 0.6,
              "option_id": "opt_conservative",
              "option_label": "Conservative Growth Strategy",
              "std_dev": 0.05
            },
            {
              "option_id": "opt_balanced",
              "option_label": "Balanced Approach",
              "p10": 0.55,
              "p50": 0.7,
              "p90": 0.85
            }
          ],
          "request_id": "req_risk_abc123",
          "risk_coefficient": 2.0,
          "risk_type": "risk_averse"
        }
      },
      "RiskAdjustmentResponse": {
        "properties": {
          "adjusted_scores": {
            "items": {
              "$ref": "#/components/schemas/AdjustedScore"
            },
            "type": "array",
            "title": "Adjusted Scores",
            "description": "Options with risk-adjusted scores (sorted by CE, descending)"
          },
          "rankings_changed": {
            "type": "boolean",
            "title": "Rankings Changed",
            "description": "True if rankings changed after risk adjustment"
          },
          "ranking_changes": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/RankingChange"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ranking Changes",
            "description": "Detailed ranking changes (only if rankings_changed=True)"
          },
          "risk_interpretation": {
            "type": "string",
            "maxLength": 1000,
            "title": "Risk Interpretation",
            "description": "Plain English interpretation of risk adjustment impact"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "adjusted_scores",
          "rankings_changed",
          "risk_interpretation"
        ],
        "title": "RiskAdjustmentResponse",
        "description": "Response model for risk adjustment endpoint.",
        "example": {
          "adjusted_scores": [
            {
              "adjustment": -0.01,
              "certainty_equivalent": 0.59,
              "option_id": "opt_conservative",
              "option_label": "Conservative Growth Strategy",
              "original_score": 0.6,
              "variance": 0.0025
            },
            {
              "adjustment": -0.2,
              "certainty_equivalent": 0.6,
              "option_id": "opt_aggressive",
              "option_label": "Aggressive Growth Strategy",
              "original_score": 0.8,
              "variance": 0.04
            },
            {
              "adjustment": -0.12,
              "certainty_equivalent": 0.58,
              "option_id": "opt_balanced",
              "option_label": "Balanced Approach",
              "original_score": 0.7,
              "variance": 0.0225
            }
          ],
          "metadata": {
            "algorithm": "mean_variance_risk_averse",
            "cache_hit": false,
            "computation_time_ms": 1.8,
            "isl_version": "2.0",
            "request_id": "req_risk_abc123"
          },
          "ranking_changes": [
            {
              "adjusted_rank": 1,
              "option_id": "opt_conservative",
              "option_label": "Conservative Growth Strategy",
              "original_rank": 3,
              "rank_change": 2
            },
            {
              "adjusted_rank": 2,
              "option_id": "opt_aggressive",
              "option_label": "Aggressive Growth Strategy",
              "original_rank": 1,
              "rank_change": -1
            }
          ],
          "rankings_changed": true,
          "risk_interpretation": "Risk aversion (coefficient=2.0) significantly penalizes high-variance options. Conservative strategy moves from rank 3 to rank 1 after adjustment, while aggressive strategy drops from rank 1 to rank 2 due to high variance (0.04)."
        }
      },
      "RiskMetrics": {
        "properties": {
          "variance": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variance",
            "description": "Variance of the outcome distribution"
          },
          "downside_risk": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Downside Risk",
            "description": "Expected loss below a threshold (CVaR/VaR)"
          },
          "probability_of_loss": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Probability Of Loss",
            "description": "Probability of negative outcome"
          }
        },
        "type": "object",
        "title": "RiskMetrics",
        "description": "Risk metrics for an option.",
        "example": {
          "downside_risk": 5000.0,
          "probability_of_loss": 0.15,
          "variance": 10000.0
        }
      },
      "RiskOption": {
        "properties": {
          "option_id": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Option Id",
            "description": "Option identifier"
          },
          "option_label": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Option Label",
            "description": "Human-readable option label"
          },
          "mean": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mean",
            "description": "Mean score (for mean-variance representation)"
          },
          "std_dev": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Std Dev",
            "description": "Standard deviation (for mean-variance representation)"
          },
          "p10": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "P10",
            "description": "10th percentile score (for percentile representation)"
          },
          "p50": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "P50",
            "description": "50th percentile score (for percentile representation)"
          },
          "p90": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "P90",
            "description": "90th percentile score (for percentile representation)"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label"
        ],
        "title": "RiskOption",
        "description": "Option with uncertainty for risk adjustment.",
        "examples": [
          {
            "mean": 0.75,
            "option_id": "opt_a",
            "option_label": "Option A: High Risk",
            "std_dev": 0.15
          },
          {
            "option_id": "opt_b",
            "option_label": "Option B: Low Risk",
            "p10": 0.5,
            "p50": 0.55,
            "p90": 0.6
          }
        ]
      },
      "RiskTolerance": {
        "type": "string",
        "enum": [
          "risk_averse",
          "risk_neutral",
          "risk_seeking"
        ],
        "title": "RiskTolerance",
        "description": "Risk tolerance levels for utility computation."
      },
      "RobustnessAnalysis": {
        "properties": {
          "score": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLevel"
              }
            ],
            "description": "Overall robustness score"
          },
          "critical_assumptions": {
            "items": {
              "$ref": "#/components/schemas/CriticalAssumption"
            },
            "type": "array",
            "title": "Critical Assumptions",
            "description": "Critical assumptions"
          }
        },
        "type": "object",
        "required": [
          "score",
          "critical_assumptions"
        ],
        "title": "RobustnessAnalysis",
        "description": "Robustness analysis results."
      },
      "RobustnessBound": {
        "properties": {
          "parameter_id": {
            "type": "string",
            "title": "Parameter Id",
            "description": "Parameter identifier"
          },
          "parameter_label": {
            "type": "string",
            "title": "Parameter Label",
            "description": "Human-readable parameter name"
          },
          "flip_threshold": {
            "type": "number",
            "title": "Flip Threshold",
            "description": "Absolute change required to flip recommendation"
          },
          "flip_threshold_pct": {
            "type": "number",
            "title": "Flip Threshold Pct",
            "description": "Percentage change required to flip recommendation"
          },
          "flip_to_option": {
            "type": "string",
            "title": "Flip To Option",
            "description": "Which option would become recommended after flip"
          }
        },
        "type": "object",
        "required": [
          "parameter_id",
          "parameter_label",
          "flip_threshold",
          "flip_threshold_pct",
          "flip_to_option"
        ],
        "title": "RobustnessBound",
        "description": "Threshold at which a parameter change would flip the recommendation.",
        "example": {
          "flip_threshold": 0.15,
          "flip_threshold_pct": 25.0,
          "flip_to_option": "option_b",
          "parameter_id": "marketing_roi",
          "parameter_label": "Marketing ROI"
        }
      },
      "RobustnessLabelEnum": {
        "type": "string",
        "enum": [
          "robust",
          "moderate",
          "fragile"
        ],
        "title": "RobustnessLabelEnum",
        "description": "Overall robustness classification."
      },
      "RobustnessLevel": {
        "type": "string",
        "enum": [
          "robust",
          "moderate",
          "fragile"
        ],
        "title": "RobustnessLevel",
        "description": "Robustness level for analysis results."
      },
      "RobustnessRequestV2": {
        "properties": {
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Optional request ID for tracing. Generated if not provided."
          },
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV2"
              }
            ],
            "description": "Causal graph with dual uncertainty edges"
          },
          "options": {
            "items": {
              "$ref": "#/components/schemas/InterventionOption"
            },
            "type": "array",
            "minItems": 1,
            "title": "Options",
            "description": "Decision options to compare"
          },
          "goal_node_id": {
            "type": "string",
            "title": "Goal Node Id",
            "description": "Target outcome node to optimize"
          },
          "n_samples": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "N Samples",
            "description": "Number of Monte Carlo samples",
            "default": 1000
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed",
            "description": "Random seed for reproducibility; if None, computed from graph"
          },
          "analysis_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Analysis Types",
            "description": "Types of analysis to perform",
            "default": [
              "comparison",
              "sensitivity",
              "robustness"
            ]
          },
          "confidence_level": {
            "type": "number",
            "maximum": 0.99,
            "minimum": 0.5,
            "title": "Confidence Level",
            "description": "Confidence level for intervals",
            "default": 0.95
          },
          "parameter_uncertainties": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ParameterUncertainty"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parameter Uncertainties",
            "description": "Uncertainty specifications for factor node values. If not provided, factor nodes use observed_state.value as fixed values."
          }
        },
        "type": "object",
        "required": [
          "graph",
          "options",
          "goal_node_id"
        ],
        "title": "RobustnessRequestV2",
        "description": "V2.2 robustness analysis request.\n\nAccepts a causal graph with dual uncertainty edges, a set of decision\noptions, and configuration for Monte Carlo sampling and analysis.",
        "example": {
          "goal_node_id": "revenue",
          "graph": {
            "edges": [
              {
                "exists_probability": 0.9,
                "from": "price",
                "strength": {
                  "mean": -0.5,
                  "std": 0.15
                },
                "to": "revenue"
              }
            ],
            "nodes": [
              {
                "id": "price",
                "kind": "decision",
                "label": "Price"
              },
              {
                "id": "revenue",
                "kind": "outcome",
                "label": "Revenue"
              }
            ]
          },
          "n_samples": 1000,
          "options": [
            {
              "id": "low",
              "interventions": {
                "price": 0.3
              },
              "label": "Low price"
            },
            {
              "id": "high",
              "interventions": {
                "price": 0.7
              },
              "label": "High price"
            }
          ],
          "request_id": "req-001"
        }
      },
      "RobustnessResponse-Input": {
        "properties": {
          "result": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessResult-Input"
              }
            ],
            "description": "Robustness analysis result"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          }
        },
        "type": "object",
        "required": [
          "result"
        ],
        "title": "RobustnessResponse",
        "description": "API response wrapper for robustness analysis."
      },
      "RobustnessResponseV2": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id",
            "description": "Request identifier for tracing"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/OptionResult"
            },
            "type": "array",
            "title": "Results",
            "description": "Results for each decision option"
          },
          "recommended_option_id": {
            "type": "string",
            "title": "Recommended Option Id",
            "description": "ID of recommended option"
          },
          "recommendation_confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Recommendation Confidence",
            "description": "Confidence in recommendation"
          },
          "sensitivity": {
            "items": {
              "$ref": "#/components/schemas/SensitivityResult"
            },
            "type": "array",
            "title": "Sensitivity",
            "description": "Sensitivity results per edge"
          },
          "factor_sensitivity": {
            "items": {
              "$ref": "#/components/schemas/FactorSensitivityResult"
            },
            "type": "array",
            "title": "Factor Sensitivity",
            "description": "Sensitivity results per factor node value"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__robustness_v2__RobustnessResult"
              }
            ],
            "description": "Overall robustness assessment"
          },
          "_metadata": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadataV2"
              }
            ],
            "description": "Execution metadata"
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "results",
          "recommended_option_id",
          "recommendation_confidence",
          "robustness",
          "_metadata"
        ],
        "title": "RobustnessResponseV2",
        "description": "V2.2 robustness analysis response.",
        "example": {
          "_metadata": {
            "config_fingerprint": "abc123",
            "edge_existence_rates": {},
            "execution_time_ms": 150,
            "isl_version": "1.0.0",
            "n_samples_used": 1000,
            "schema_version": "2.2",
            "seed_used": 12345
          },
          "recommendation_confidence": 0.65,
          "recommended_option_id": "opt1",
          "request_id": "req-001",
          "results": [
            {
              "option_id": "opt1",
              "outcome_distribution": {
                "ci_lower": 40000.0,
                "ci_upper": 60000.0,
                "mean": 50000.0,
                "median": 49500.0,
                "std": 5000.0
              },
              "win_probability": 0.65
            }
          ],
          "robustness": {
            "confidence": 0.92,
            "fragile_edges": [],
            "interpretation": "Robust recommendation",
            "is_robust": true,
            "recommendation_stability": 0.88,
            "robust_edges": []
          },
          "sensitivity": []
        }
      },
      "RobustnessResult-Input": {
        "properties": {
          "option_rankings": {
            "items": {
              "$ref": "#/components/schemas/src__models__decision_robustness__RankedOption"
            },
            "type": "array",
            "title": "Option Rankings",
            "description": "All options ranked by expected utility"
          },
          "recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Recommendation-Input"
              }
            ],
            "description": "Top recommendation with confidence"
          },
          "sensitivity": {
            "items": {
              "$ref": "#/components/schemas/SensitiveParameter"
            },
            "type": "array",
            "title": "Sensitivity",
            "description": "Most sensitive parameters (ranked)"
          },
          "robustness_label": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLabelEnum"
              }
            ],
            "description": "Overall robustness classification"
          },
          "robustness_summary": {
            "type": "string",
            "title": "Robustness Summary",
            "description": "Plain language robustness summary"
          },
          "robustness_bounds": {
            "items": {
              "$ref": "#/components/schemas/RobustnessBound"
            },
            "type": "array",
            "title": "Robustness Bounds",
            "description": "Parameter thresholds that would flip recommendation"
          },
          "value_of_information": {
            "items": {
              "$ref": "#/components/schemas/ValueOfInformation"
            },
            "type": "array",
            "title": "Value Of Information",
            "description": "VoI analysis for uncertain parameters"
          },
          "pareto": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ParetoResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "Pareto frontier analysis (multi-goal only)"
          },
          "narrative": {
            "type": "string",
            "title": "Narrative",
            "description": "Plain language summary combining all analyses"
          },
          "partial": {
            "type": "boolean",
            "title": "Partial",
            "description": "Whether this is a partial result due to timeout",
            "default": false
          },
          "completed_analyses": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Completed Analyses",
            "description": "Analyses that completed successfully"
          },
          "skipped_analyses": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Skipped Analyses",
            "description": "Analyses skipped due to timeout or disabled"
          },
          "elapsed_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Elapsed Ms",
            "description": "Total analysis time in milliseconds"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          }
        },
        "type": "object",
        "required": [
          "option_rankings",
          "recommendation",
          "sensitivity",
          "robustness_label",
          "robustness_summary",
          "robustness_bounds",
          "value_of_information",
          "narrative"
        ],
        "title": "RobustnessResult",
        "description": "Unified response schema for Decision Robustness Suite.\n\nContains all robustness metrics in a single payload:\n- Option rankings with utility distributions\n- Top recommendation with confidence\n- Sensitivity analysis (top sensitive parameters)\n- Robustness bounds (flip thresholds)\n- Value of information (EVPI/EVSI)\n- Pareto frontier (for multi-goal)\n- Narrative summary",
        "example": {
          "narrative": "Your decision is robust. Price changes up to 30% wouldn't change the recommendation.",
          "option_rankings": [
            {
              "expected_utility": 150000.0,
              "option_id": "option_a",
              "option_label": "Aggressive Marketing",
              "rank": 1,
              "utility_distribution": {
                "p25": 135000.0,
                "p5": 120000.0,
                "p50": 150000.0,
                "p75": 165000.0,
                "p95": 180000.0
              },
              "vs_baseline": 25000.0,
              "vs_baseline_pct": 20.0
            }
          ],
          "recommendation": {
            "confidence": "high",
            "option_id": "option_a",
            "option_label": "Aggressive Marketing",
            "recommendation_status": "actionable"
          },
          "robustness_bounds": [
            {
              "flip_threshold": 0.15,
              "flip_threshold_pct": 25.0,
              "flip_to_option": "option_b",
              "parameter_id": "marketing_roi",
              "parameter_label": "Marketing ROI"
            }
          ],
          "robustness_label": "robust",
          "robustness_summary": "Your decision is robust to typical parameter uncertainty",
          "sensitivity": [
            {
              "current_value": -1.2,
              "description": "Increasing Price Elasticity decreases expected revenue",
              "impact_direction": "negative",
              "parameter_id": "price_elasticity",
              "parameter_label": "Price Elasticity",
              "sensitivity_score": 0.85
            }
          ],
          "value_of_information": [
            {
              "current_uncertainty": 0.25,
              "data_collection_suggestion": "Survey 50 customers",
              "evpi": 15000.0,
              "evsi": 8500.0,
              "parameter_id": "churn_rate",
              "parameter_label": "Customer Churn Rate",
              "recommendation": "High value - consider gathering data"
            }
          ]
        }
      },
      "RobustnessScore": {
        "properties": {
          "overall": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLevel"
              }
            ],
            "description": "Overall robustness level"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Summary of robustness"
          },
          "breakpoints": {
            "items": {
              "$ref": "#/components/schemas/Breakpoint"
            },
            "type": "array",
            "title": "Breakpoints",
            "description": "Critical breakpoints"
          }
        },
        "type": "object",
        "required": [
          "overall",
          "summary",
          "breakpoints"
        ],
        "title": "RobustnessScore",
        "description": "Overall robustness score for sensitivity analysis."
      },
      "RobustnessSummary": {
        "properties": {
          "recommendation_stability": {
            "type": "string",
            "pattern": "^(robust|moderate|fragile)$",
            "title": "Recommendation Stability",
            "description": "Overall stability classification"
          },
          "conditions_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Conditions Count",
            "description": "Number of conditions that could flip the recommendation"
          },
          "closest_flip_point": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConditionExpression"
              },
              {
                "type": "null"
              }
            ],
            "description": "Nearest condition that would flip the recommendation"
          },
          "safety_margin": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Safety Margin",
            "description": "Distance to nearest flip point (in parameter units)"
          }
        },
        "type": "object",
        "required": [
          "recommendation_stability",
          "conditions_count"
        ],
        "title": "RobustnessSummary",
        "description": "Summary of recommendation robustness.",
        "example": {
          "closest_flip_point": {
            "operator": "<",
            "parameter": "market_size",
            "value": 0.75
          },
          "conditions_count": 3,
          "recommendation_stability": "moderate",
          "safety_margin": 0.15
        }
      },
      "Scenario": {
        "properties": {
          "description": {
            "type": "string",
            "maxLength": 10000,
            "title": "Description",
            "description": "Natural language description"
          },
          "outcomes": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Outcomes",
            "description": "Predicted outcomes"
          },
          "trade_offs": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "title": "Trade Offs",
            "description": "What's gained vs lost"
          }
        },
        "type": "object",
        "required": [
          "description",
          "outcomes",
          "trade_offs"
        ],
        "title": "Scenario",
        "description": "A decision scenario for comparison.",
        "example": {
          "description": "Conservative growth, preserve relationships",
          "outcomes": {
            "brand": 0,
            "churn": 0.015,
            "revenue": 45000
          },
          "trade_offs": [
            "Lower revenue",
            "Better retention"
          ]
        }
      },
      "ScenarioComparison": {
        "properties": {
          "best_outcome": {
            "type": "string",
            "title": "Best Outcome",
            "description": "Scenario ID with best outcome"
          },
          "most_robust": {
            "type": "string",
            "title": "Most Robust",
            "description": "Scenario ID with highest robustness"
          },
          "marginal_gains": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Marginal Gains",
            "description": "Marginal uplift of each scenario vs baseline"
          },
          "ranking": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Ranking",
            "description": "Scenarios ranked by outcome"
          }
        },
        "type": "object",
        "required": [
          "best_outcome",
          "most_robust",
          "marginal_gains",
          "ranking"
        ],
        "title": "ScenarioComparison",
        "description": "Comparison of multiple scenarios.",
        "example": {
          "best_outcome": "combined",
          "marginal_gains": {
            "combined": 12000,
            "increase": 5000
          },
          "most_robust": "baseline",
          "ranking": [
            "combined",
            "increase",
            "baseline"
          ]
        }
      },
      "ScenarioDescription": {
        "properties": {
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Intervention",
            "description": "Intervention values"
          },
          "outcome": {
            "type": "string",
            "title": "Outcome",
            "description": "Outcome variable"
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Observed context"
          }
        },
        "type": "object",
        "required": [
          "intervention",
          "outcome"
        ],
        "title": "ScenarioDescription",
        "description": "Description of the counterfactual scenario."
      },
      "ScenarioResult": {
        "properties": {
          "scenario_id": {
            "type": "string",
            "title": "Scenario Id",
            "description": "Scenario identifier"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Intervention",
            "description": "Intervention values"
          },
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Label",
            "description": "Human-readable label"
          },
          "prediction": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PredictionResults"
              }
            ],
            "description": "Prediction results"
          },
          "uncertainty": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UncertaintyBreakdown"
              }
            ],
            "description": "Uncertainty breakdown"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessAnalysis"
              }
            ],
            "description": "Robustness analysis"
          }
        },
        "type": "object",
        "required": [
          "scenario_id",
          "intervention",
          "prediction",
          "uncertainty",
          "robustness"
        ],
        "title": "ScenarioResult",
        "description": "Result for a single counterfactual scenario.",
        "example": {
          "intervention": {
            "Price": 50
          },
          "label": "10% price increase",
          "prediction": {
            "confidence_interval": {
              "lower": 33000,
              "upper": 37000
            },
            "point_estimate": 35000,
            "sensitivity_range": {
              "explanation": "Range accounts for uncertainty",
              "optimistic": 38000,
              "pessimistic": 32000
            }
          },
          "robustness": {
            "critical_assumptions": [],
            "score": "robust"
          },
          "scenario_id": "aggressive_pricing",
          "uncertainty": {
            "overall": "medium",
            "sources": []
          }
        }
      },
      "ScenarioSpec": {
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "description": "User-defined scenario identifier"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Intervention",
            "description": "Intervention values for this scenario"
          },
          "label": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Label",
            "description": "Optional human-readable label"
          }
        },
        "type": "object",
        "required": [
          "id",
          "intervention"
        ],
        "title": "ScenarioSpec",
        "description": "Specification for a single counterfactual scenario.",
        "example": {
          "id": "aggressive_pricing",
          "intervention": {
            "Marketing": 50000,
            "Price": 50
          },
          "label": "Aggressive market expansion strategy"
        }
      },
      "SensitiveParameter": {
        "properties": {
          "parameter_id": {
            "type": "string",
            "title": "Parameter Id",
            "description": "Parameter identifier"
          },
          "parameter_label": {
            "type": "string",
            "title": "Parameter Label",
            "description": "Human-readable parameter name"
          },
          "sensitivity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Sensitivity Score",
            "description": "Normalized sensitivity score (0-1)"
          },
          "current_value": {
            "type": "number",
            "title": "Current Value",
            "description": "Current parameter value"
          },
          "impact_direction": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImpactDirectionEnum"
              }
            ],
            "description": "Whether increasing parameter improves or hurts outcome"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description of impact"
          }
        },
        "type": "object",
        "required": [
          "parameter_id",
          "parameter_label",
          "sensitivity_score",
          "current_value",
          "impact_direction",
          "description"
        ],
        "title": "SensitiveParameter",
        "description": "A parameter identified as sensitive to the decision outcome.",
        "example": {
          "current_value": -1.2,
          "description": "Increasing Price Elasticity decreases expected revenue",
          "impact_direction": "negative",
          "parameter_id": "price_elasticity",
          "parameter_label": "Price Elasticity",
          "sensitivity_score": 0.85
        }
      },
      "SensitivityAnalysisRequest": {
        "properties": {
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          },
          "baseline_result": {
            "type": "number",
            "title": "Baseline Result",
            "description": "Baseline analysis result"
          },
          "assumptions": {
            "items": {
              "$ref": "#/components/schemas/Assumption"
            },
            "type": "array",
            "maxItems": 30,
            "minItems": 1,
            "title": "Assumptions",
            "description": "Assumptions to test"
          }
        },
        "type": "object",
        "required": [
          "model",
          "baseline_result",
          "assumptions"
        ],
        "title": "SensitivityAnalysisRequest",
        "description": "Request model for sensitivity analysis endpoint.",
        "example": {
          "assumptions": [
            {
              "current_value": 500,
              "name": "Price sensitivity",
              "type": "parametric",
              "variation_range": {
                "max": 700,
                "min": 300
              }
            }
          ],
          "baseline_result": 51000,
          "model": {
            "distributions": {
              "sensitivity": {
                "parameters": {
                  "mean": 500,
                  "std": 50
                },
                "type": "normal"
              }
            },
            "equations": {
              "Revenue": "10000 + sensitivity * Price"
            },
            "variables": [
              "Price",
              "Revenue"
            ]
          }
        }
      },
      "SensitivityAnalysisResponse": {
        "properties": {
          "conclusion": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConclusionStatement"
              }
            ],
            "description": "Conclusion being tested"
          },
          "assumptions": {
            "items": {
              "$ref": "#/components/schemas/AssumptionAnalysis"
            },
            "type": "array",
            "title": "Assumptions",
            "description": "Analyzed assumptions"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessScore"
              }
            ],
            "description": "Overall robustness"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "conclusion",
          "assumptions",
          "robustness",
          "explanation"
        ],
        "title": "SensitivityAnalysisResponse",
        "description": "Response model for sensitivity analysis endpoint.",
        "example": {
          "assumptions": [
            {
              "confidence": "medium",
              "current_value": 0.5,
              "evidence": "Historical data",
              "impact": {
                "if_wrong": 15000,
                "percentage": 58
              },
              "importance": "critical",
              "name": "Price sensitivity",
              "recommendation": "Validate with A/B test"
            }
          ],
          "conclusion": {
            "base_case": 51000,
            "statement": "Revenue increases by \u00a345k-\u00a355k per month"
          },
          "explanation": {
            "assumptions": [
              "Assumptions independent"
            ],
            "reasoning": "Depends on price sensitivity...",
            "summary": "Moderately robust with one critical assumption",
            "technical_basis": "One-at-a-time sensitivity analysis"
          },
          "robustness": {
            "breakpoints": [
              {
                "assumption": "Price sensitivity",
                "threshold": "If sensitivity > 0.75, impact becomes negative"
              }
            ],
            "overall": "moderate",
            "summary": "Holds unless price sensitivity substantially different"
          }
        }
      },
      "SensitivityDetailedRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "timeout": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 30000.0,
                "minimum": 1000.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout",
            "description": "Request timeout in milliseconds",
            "default": 12000
          }
        },
        "type": "object",
        "required": [
          "graph"
        ],
        "title": "SensitivityDetailedRequest",
        "description": "Request model for detailed sensitivity analysis endpoint.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "n_market_size",
                "to": "n_roi",
                "weight": 2.5
              }
            ],
            "nodes": [
              {
                "belief": 0.75,
                "id": "n_market_size",
                "kind": "outcome",
                "label": "Market Size"
              },
              {
                "id": "n_roi",
                "kind": "outcome",
                "label": "ROI"
              }
            ]
          },
          "timeout": 12000
        }
      },
      "SensitivityDetailedResponse": {
        "properties": {
          "assumptions": {
            "items": {
              "$ref": "#/components/schemas/AssumptionSensitivity"
            },
            "type": "array",
            "title": "Assumptions",
            "description": "List of assumptions with sensitivity analysis"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "assumptions"
        ],
        "title": "SensitivityDetailedResponse",
        "description": "Response model for detailed sensitivity analysis.",
        "example": {
          "assumptions": [
            {
              "impact": "10% change in market size estimate leads to 25% swing in projected ROI",
              "sensitivity": 0.92,
              "variable": "n_market_size"
            },
            {
              "impact": "Adoption rate uncertainty accounts for most outcome variance",
              "sensitivity": 0.78,
              "variable": "n_adoption_rate"
            }
          ]
        }
      },
      "SensitivityMetric": {
        "properties": {
          "assumption": {
            "type": "string",
            "title": "Assumption",
            "description": "Name of assumption tested"
          },
          "baseline_outcome": {
            "type": "number",
            "title": "Baseline Outcome",
            "description": "Predicted outcome under assumption"
          },
          "outcome_range": {
            "prefixItems": [
              {
                "type": "number"
              },
              {
                "type": "number"
              }
            ],
            "type": "array",
            "maxItems": 2,
            "minItems": 2,
            "title": "Outcome Range",
            "description": "Range of outcomes across all violations (min, max)"
          },
          "elasticity": {
            "type": "number",
            "minimum": 0.0,
            "title": "Elasticity",
            "description": "Percent change in outcome per percent change in assumption violation"
          },
          "critical": {
            "type": "boolean",
            "title": "Critical",
            "description": "Whether this assumption is critical (high sensitivity)"
          },
          "max_deviation_percent": {
            "type": "number",
            "minimum": 0.0,
            "title": "Max Deviation Percent",
            "description": "Maximum percent deviation from baseline"
          },
          "robustness_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "description": "How robust results are to this assumption (0=fragile, 1=robust)"
          },
          "interpretation": {
            "type": "string",
            "maxLength": 500,
            "title": "Interpretation",
            "description": "Plain English explanation of sensitivity"
          },
          "violation_details": {
            "items": {
              "additionalProperties": {
                "type": "number"
              },
              "type": "object"
            },
            "type": "array",
            "title": "Violation Details",
            "description": "Detailed results for each violation tested"
          }
        },
        "type": "object",
        "required": [
          "assumption",
          "baseline_outcome",
          "outcome_range",
          "elasticity",
          "critical",
          "max_deviation_percent",
          "robustness_score",
          "interpretation"
        ],
        "title": "SensitivityMetric",
        "description": "Quantitative sensitivity metric for one assumption.\n\nMeasures how much outcomes change when assumption is violated.",
        "example": {
          "assumption": "no_unobserved_confounding",
          "baseline_outcome": 50000.0,
          "critical": true,
          "elasticity": 2.3,
          "interpretation": "10% confounder bias \u2192 23% outcome change. CRITICAL assumption.",
          "max_deviation_percent": 16.0,
          "outcome_range": [
            42000.0,
            58000.0
          ],
          "robustness_score": 0.34,
          "violation_details": []
        }
      },
      "SensitivityRange": {
        "properties": {
          "optimistic": {
            "type": "number",
            "title": "Optimistic",
            "description": "Optimistic scenario value"
          },
          "pessimistic": {
            "type": "number",
            "title": "Pessimistic",
            "description": "Pessimistic scenario value"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "What creates this range"
          }
        },
        "type": "object",
        "required": [
          "optimistic",
          "pessimistic",
          "explanation"
        ],
        "title": "SensitivityRange",
        "description": "Sensitivity range showing best/worst plausible cases.",
        "example": {
          "explanation": "Range accounts for uncertainty in competitive response",
          "optimistic": 62000,
          "pessimistic": 38000
        }
      },
      "SensitivityReport": {
        "properties": {
          "sensitivities": {
            "additionalProperties": {
              "$ref": "#/components/schemas/SensitivityMetric"
            },
            "type": "object",
            "title": "Sensitivities",
            "description": "Sensitivity metric for each assumption tested"
          },
          "most_critical": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Most Critical",
            "description": "Names of critical assumptions (ordered by sensitivity)"
          },
          "least_critical": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Least Critical",
            "description": "Names of least critical assumptions"
          },
          "overall_robustness_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overall Robustness Score",
            "description": "Aggregate robustness across all assumptions (0=fragile, 1=robust)"
          },
          "confidence_level": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in sensitivity analysis results"
          },
          "summary": {
            "type": "string",
            "maxLength": 1000,
            "title": "Summary",
            "description": "Plain English summary of sensitivity findings"
          },
          "recommendations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 10,
            "title": "Recommendations",
            "description": "Recommendations for strengthening assumptions"
          },
          "metadata": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              }
            ],
            "description": "Response metadata"
          }
        },
        "type": "object",
        "required": [
          "sensitivities",
          "most_critical",
          "overall_robustness_score",
          "confidence_level",
          "summary",
          "metadata"
        ],
        "title": "SensitivityReport",
        "description": "Complete sensitivity analysis report.\n\nShows how sensitive results are to each assumption.",
        "example": {
          "confidence_level": "high",
          "least_critical": [
            "linear_effects"
          ],
          "metadata": {
            "timestamp": "2025-11-23T12:00:00Z",
            "version": "1.0.0"
          },
          "most_critical": [
            "no_unobserved_confounding"
          ],
          "overall_robustness_score": 0.67,
          "recommendations": [
            "Measure additional potential confounders",
            "Use instrumental variables if available"
          ],
          "sensitivities": {
            "no_unobserved_confounding": {
              "assumption": "no_unobserved_confounding",
              "baseline_outcome": 50000.0,
              "critical": true,
              "elasticity": 2.3,
              "interpretation": "10% bias \u2192 23% change",
              "max_deviation_percent": 16.0,
              "outcome_range": [
                42000.0,
                58000.0
              ],
              "robustness_score": 0.34,
              "violation_details": []
            }
          },
          "summary": "Results are moderately robust. Most critical: no unobserved confounding."
        }
      },
      "SensitivityRequest": {
        "properties": {
          "model": {
            "type": "object",
            "title": "Model",
            "description": "Structural causal model specification"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Intervention",
            "description": "Intervention values to analyze"
          },
          "assumptions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 10,
            "minItems": 1,
            "title": "Assumptions",
            "description": "List of assumption types to test"
          },
          "violation_levels": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 1,
            "title": "Violation Levels",
            "description": "Violation magnitudes to test (0-1)",
            "default": [
              0.1,
              0.2,
              0.3,
              0.5
            ]
          },
          "n_samples": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 10.0,
            "title": "N Samples",
            "description": "Number of samples for stochastic violations",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "model",
          "intervention",
          "assumptions"
        ],
        "title": "SensitivityRequest",
        "description": "Request for detailed sensitivity analysis.",
        "example": {
          "assumptions": [
            "no_unobserved_confounding",
            "linear_effects"
          ],
          "intervention": {
            "Price": 45.0
          },
          "model": {
            "equations": {
              "Revenue": "100 * Price + 5000 * Quality - 200"
            },
            "type": "linear"
          },
          "n_samples": 100,
          "violation_levels": [
            0.1,
            0.2,
            0.3
          ]
        }
      },
      "SensitivityResult": {
        "properties": {
          "edge_from": {
            "type": "string",
            "title": "Edge From",
            "description": "Source node of edge"
          },
          "edge_to": {
            "type": "string",
            "title": "Edge To",
            "description": "Target node of edge"
          },
          "sensitivity_type": {
            "type": "string",
            "title": "Sensitivity Type",
            "description": "Type: 'existence' or 'magnitude'"
          },
          "elasticity": {
            "type": "number",
            "title": "Elasticity",
            "description": "% change in outcome per % change in parameter"
          },
          "importance_rank": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Importance Rank",
            "description": "Rank by importance (1 = most important)"
          },
          "interpretation": {
            "type": "string",
            "title": "Interpretation",
            "description": "Human-readable explanation"
          }
        },
        "type": "object",
        "required": [
          "edge_from",
          "edge_to",
          "sensitivity_type",
          "elasticity",
          "importance_rank",
          "interpretation"
        ],
        "title": "SensitivityResult",
        "description": "Sensitivity to a single edge.",
        "example": {
          "edge_from": "marketing",
          "edge_to": "demand",
          "elasticity": 0.45,
          "importance_rank": 1,
          "interpretation": "Decision is moderately sensitive to marketing->demand existence",
          "sensitivity_type": "existence"
        }
      },
      "SequentialAnalysisRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SequentialGraph"
              }
            ],
            "description": "Sequential decision graph"
          },
          "stages": {
            "items": {
              "$ref": "#/components/schemas/DecisionStage"
            },
            "type": "array",
            "maxItems": 10,
            "minItems": 1,
            "title": "Stages",
            "description": "Definition of decision stages"
          },
          "discount_factor": {
            "type": "number",
            "maximum": 1.0,
            "exclusiveMinimum": 0.0,
            "title": "Discount Factor",
            "description": "Time preference discount factor (0-1)",
            "default": 0.95
          },
          "risk_tolerance": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(averse|neutral|seeking)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Risk Tolerance",
            "description": "Risk tolerance: 'averse', 'neutral', 'seeking'",
            "default": "neutral"
          },
          "monte_carlo_samples": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "Monte Carlo Samples",
            "description": "Number of Monte Carlo samples for uncertainty",
            "default": 1000
          }
        },
        "type": "object",
        "required": [
          "graph",
          "stages"
        ],
        "title": "SequentialAnalysisRequest",
        "description": "Request model for sequential decision analysis endpoint.",
        "example": {
          "discount_factor": 0.95,
          "graph": {
            "edges": [
              {
                "action": "invest",
                "from": "invest",
                "immediate_payoff": -50000,
                "to": "market"
              },
              {
                "from": "market",
                "outcome": "favorable",
                "probability": 0.7,
                "to": "pricing"
              },
              {
                "from": "market",
                "outcome": "unfavorable",
                "probability": 0.3,
                "to": "loss"
              },
              {
                "action": "premium",
                "from": "pricing",
                "to": "high_return"
              },
              {
                "action": "economy",
                "from": "pricing",
                "to": "low_return"
              }
            ],
            "nodes": [
              {
                "id": "invest",
                "label": "Invest Decision",
                "type": "decision"
              },
              {
                "id": "market",
                "label": "Market Outcome",
                "type": "chance"
              },
              {
                "id": "pricing",
                "label": "Pricing Decision",
                "type": "decision"
              },
              {
                "id": "high_return",
                "label": "High Return",
                "payoff": 100000,
                "type": "terminal"
              },
              {
                "id": "low_return",
                "label": "Low Return",
                "payoff": 20000,
                "type": "terminal"
              },
              {
                "id": "loss",
                "label": "Loss",
                "payoff": -30000,
                "type": "terminal"
              }
            ],
            "stage_assignments": {
              "high_return": 2,
              "invest": 0,
              "loss": 2,
              "low_return": 2,
              "market": 1,
              "pricing": 1
            }
          },
          "monte_carlo_samples": 1000,
          "risk_tolerance": "neutral",
          "stages": [
            {
              "decision_nodes": [
                "invest"
              ],
              "stage_index": 0,
              "stage_label": "Investment"
            },
            {
              "decision_nodes": [
                "pricing"
              ],
              "resolution_nodes": [
                "market"
              ],
              "stage_index": 1,
              "stage_label": "Pricing"
            },
            {
              "decision_nodes": [],
              "stage_index": 2,
              "stage_label": "Terminal"
            }
          ]
        }
      },
      "SequentialAnalysisResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version for this response",
            "default": "sequential.v1"
          },
          "optimal_policy": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Policy"
              }
            ],
            "description": "Optimal policy across all stages"
          },
          "stage_analyses": {
            "items": {
              "$ref": "#/components/schemas/StageAnalysis"
            },
            "type": "array",
            "title": "Stage Analyses",
            "description": "Detailed analysis for each stage"
          },
          "value_of_flexibility": {
            "type": "number",
            "title": "Value Of Flexibility",
            "description": "Value of waiting vs committing now"
          },
          "sensitivity_to_timing": {
            "type": "string",
            "pattern": "^(high|medium|low)$",
            "title": "Sensitivity To Timing",
            "description": "How sensitive results are to timing"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "optimal_policy",
          "stage_analyses",
          "value_of_flexibility",
          "sensitivity_to_timing"
        ],
        "title": "SequentialAnalysisResponse",
        "description": "Response model for sequential decision analysis.",
        "example": {
          "optimal_policy": {
            "expected_total_value": 45000.0,
            "stages": [
              {
                "contingent_on": [],
                "decision_rule": {
                  "conditional_actions": [],
                  "default_action": "invest"
                },
                "stage_index": 0,
                "stage_label": "Investment"
              },
              {
                "contingent_on": [
                  "market_outcome"
                ],
                "decision_rule": {
                  "conditional_actions": [
                    {
                      "action": "premium",
                      "condition": "If market_favorable",
                      "expected_value_if_taken": 100000
                    }
                  ],
                  "default_action": "standard"
                },
                "stage_index": 1,
                "stage_label": "Pricing"
              }
            ],
            "value_distribution": {
              "parameters": {
                "mean": 45000,
                "std": 15000
              },
              "type": "normal"
            }
          },
          "schema_version": "sequential.v1",
          "sensitivity_to_timing": "medium",
          "stage_analyses": [
            {
              "information_value": 15000.0,
              "optimal_waiting_value": 20000.0,
              "options_at_stage": [
                {
                  "continuation_value": 95000,
                  "immediate_value": -50000,
                  "label": "Make Investment",
                  "option_id": "invest",
                  "total_value": 45000
                }
              ],
              "stage_index": 0,
              "stage_label": "Investment Decision"
            }
          ],
          "value_of_flexibility": 25000.0
        }
      },
      "SequentialGraph": {
        "properties": {
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/SequentialGraphNode"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 2,
            "title": "Nodes",
            "description": "List of graph nodes"
          },
          "edges": {
            "items": {
              "$ref": "#/components/schemas/SequentialGraphEdge"
            },
            "type": "array",
            "maxItems": 300,
            "title": "Edges",
            "description": "List of directed edges"
          },
          "stage_assignments": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Stage Assignments",
            "description": "Mapping of node IDs to stage indices"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges",
          "stage_assignments"
        ],
        "title": "SequentialGraph",
        "description": "Sequential decision graph structure.",
        "example": {
          "edges": [
            {
              "action": "invest",
              "from": "start",
              "immediate_payoff": -10000,
              "to": "market"
            },
            {
              "from": "market",
              "outcome": "favorable",
              "probability": 0.6,
              "to": "expand"
            },
            {
              "from": "market",
              "outcome": "unfavorable",
              "probability": 0.4,
              "to": "failure"
            },
            {
              "action": "expand",
              "from": "expand",
              "to": "success"
            },
            {
              "action": "exit",
              "from": "expand",
              "to": "failure"
            }
          ],
          "nodes": [
            {
              "id": "start",
              "label": "Initial Investment",
              "type": "decision"
            },
            {
              "id": "market",
              "label": "Market Outcome",
              "type": "chance"
            },
            {
              "id": "expand",
              "label": "Expand Decision",
              "type": "decision"
            },
            {
              "id": "success",
              "label": "Success",
              "payoff": 100000,
              "type": "terminal"
            },
            {
              "id": "failure",
              "label": "Failure",
              "payoff": -20000,
              "type": "terminal"
            }
          ],
          "stage_assignments": {
            "expand": 1,
            "failure": 2,
            "market": 1,
            "start": 0,
            "success": 2
          }
        }
      },
      "SequentialGraphEdge": {
        "properties": {
          "from": {
            "type": "string",
            "maxLength": 100,
            "title": "From",
            "description": "Source node ID"
          },
          "to": {
            "type": "string",
            "maxLength": 100,
            "title": "To",
            "description": "Target node ID"
          },
          "action": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Action",
            "description": "Action label (for decision edges)"
          },
          "outcome": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Outcome",
            "description": "Outcome label (for chance edges)"
          },
          "probability": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Probability",
            "description": "Transition probability"
          },
          "immediate_payoff": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Immediate Payoff",
            "description": "Immediate payoff for this transition",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "from",
          "to"
        ],
        "title": "SequentialGraphEdge",
        "description": "Edge in a sequential decision graph.",
        "example": {
          "action": "invest",
          "from": "invest_decision",
          "immediate_payoff": -10000,
          "to": "market_outcome"
        }
      },
      "SequentialGraphNode": {
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "description": "Unique node identifier"
          },
          "type": {
            "type": "string",
            "pattern": "^(decision|chance|terminal)$",
            "title": "Type",
            "description": "Node type: 'decision', 'chance', or 'terminal'"
          },
          "label": {
            "type": "string",
            "maxLength": 200,
            "title": "Label",
            "description": "Human-readable label"
          },
          "payoff": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payoff",
            "description": "Payoff value (for terminal nodes)"
          },
          "probabilities": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Probabilities",
            "description": "Outcome probabilities (for chance nodes)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "type",
          "label"
        ],
        "title": "SequentialGraphNode",
        "description": "Node in a sequential decision graph.",
        "example": {
          "id": "invest_decision",
          "label": "Investment Decision",
          "type": "decision"
        }
      },
      "StabilityAnalysis": {
        "properties": {
          "num_perturbations": {
            "type": "integer",
            "title": "Num Perturbations",
            "description": "Number of perturbations performed"
          },
          "ranking_changes": {
            "type": "integer",
            "title": "Ranking Changes",
            "description": "Number of times ranking changed"
          },
          "ranking_change_rate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Ranking Change Rate",
            "description": "Rate of ranking changes (0-1)"
          },
          "most_frequent_alternative": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Most Frequent Alternative",
            "description": "Option that most often took top rank when changed"
          },
          "sample_perturbations": {
            "items": {
              "$ref": "#/components/schemas/PerturbationResult"
            },
            "type": "array",
            "maxItems": 10,
            "title": "Sample Perturbations",
            "description": "Sample of perturbation results"
          }
        },
        "type": "object",
        "required": [
          "num_perturbations",
          "ranking_changes",
          "ranking_change_rate"
        ],
        "title": "StabilityAnalysis",
        "description": "Detailed stability analysis from perturbations.",
        "example": {
          "most_frequent_alternative": "option_b",
          "num_perturbations": 100,
          "ranking_change_rate": 0.35,
          "ranking_changes": 35,
          "sample_perturbations": []
        }
      },
      "StageAnalysis": {
        "properties": {
          "stage_index": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Stage Index",
            "description": "Stage index"
          },
          "stage_label": {
            "type": "string",
            "title": "Stage Label",
            "description": "Human-readable stage label"
          },
          "options_at_stage": {
            "items": {
              "$ref": "#/components/schemas/StageOption"
            },
            "type": "array",
            "title": "Options At Stage",
            "description": "Options available at this stage with analysis"
          },
          "information_value": {
            "type": "number",
            "title": "Information Value",
            "description": "Value of information revealed at this stage"
          },
          "optimal_waiting_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Optimal Waiting Value",
            "description": "Value of delaying decision (if applicable)"
          }
        },
        "type": "object",
        "required": [
          "stage_index",
          "stage_label",
          "options_at_stage",
          "information_value"
        ],
        "title": "StageAnalysis",
        "description": "Analysis for a single stage.",
        "example": {
          "information_value": 15000.0,
          "optimal_waiting_value": 20000.0,
          "options_at_stage": [
            {
              "continuation_value": 95000,
              "immediate_value": -50000,
              "label": "Make Investment",
              "option_id": "invest",
              "total_value": 45000
            },
            {
              "continuation_value": 20000,
              "immediate_value": 0,
              "label": "Wait and See",
              "option_id": "wait",
              "total_value": 20000
            }
          ],
          "stage_index": 0,
          "stage_label": "Investment Decision"
        }
      },
      "StageOption": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Option identifier"
          },
          "label": {
            "type": "string",
            "title": "Label",
            "description": "Human-readable label"
          },
          "immediate_value": {
            "type": "number",
            "title": "Immediate Value",
            "description": "Immediate payoff of choosing this option"
          },
          "continuation_value": {
            "type": "number",
            "title": "Continuation Value",
            "description": "Expected value of future stages"
          },
          "total_value": {
            "type": "number",
            "title": "Total Value",
            "description": "Total value (immediate + discounted continuation)"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "label",
          "immediate_value",
          "continuation_value",
          "total_value"
        ],
        "title": "StageOption",
        "description": "Analysis of a single option at a stage.",
        "example": {
          "continuation_value": 95000,
          "immediate_value": -50000,
          "label": "Make Investment",
          "option_id": "invest",
          "total_value": 45000
        }
      },
      "StagePolicy": {
        "properties": {
          "stage_index": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Stage Index",
            "description": "Stage index"
          },
          "stage_label": {
            "type": "string",
            "title": "Stage Label",
            "description": "Human-readable stage label"
          },
          "decision_rule": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DecisionRule"
              }
            ],
            "description": "Decision rule for this stage"
          },
          "contingent_on": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Contingent On",
            "description": "What must be observed before this stage"
          }
        },
        "type": "object",
        "required": [
          "stage_index",
          "stage_label",
          "decision_rule"
        ],
        "title": "StagePolicy",
        "description": "Optimal decision policy for a single stage.",
        "example": {
          "contingent_on": [
            "market_outcome"
          ],
          "decision_rule": {
            "conditional_actions": [
              {
                "action": "premium_pricing",
                "condition": "If market_favorable",
                "expected_value_if_taken": 100000.0
              }
            ],
            "default_action": "standard_pricing"
          },
          "stage_index": 1,
          "stage_label": "Pricing Decision"
        }
      },
      "StageSensitivityRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SequentialGraph"
              }
            ],
            "description": "Sequential decision graph"
          },
          "stages": {
            "items": {
              "$ref": "#/components/schemas/DecisionStage"
            },
            "type": "array",
            "maxItems": 10,
            "minItems": 1,
            "title": "Stages",
            "description": "Definition of decision stages"
          },
          "parameters_to_vary": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Parameters To Vary",
            "description": "Parameters to vary (auto-detect if None)"
          },
          "variation_range": {
            "type": "number",
            "maximum": 1.0,
            "exclusiveMinimum": 0.0,
            "title": "Variation Range",
            "description": "Fractional variation to apply (e.g., 0.2 = \u00b120%)",
            "default": 0.2
          }
        },
        "type": "object",
        "required": [
          "graph",
          "stages"
        ],
        "title": "StageSensitivityRequest",
        "description": "Request model for stage-by-stage sensitivity analysis.",
        "example": {
          "graph": {
            "edges": [
              {
                "action": "proceed",
                "from": "decide",
                "to": "outcome"
              }
            ],
            "nodes": [
              {
                "id": "decide",
                "label": "Decision",
                "type": "decision"
              },
              {
                "id": "outcome",
                "label": "Outcome",
                "payoff": 50000,
                "type": "terminal"
              }
            ],
            "stage_assignments": {
              "decide": 0,
              "outcome": 1
            }
          },
          "parameters_to_vary": [
            "market_probability",
            "payoff"
          ],
          "stages": [
            {
              "decision_nodes": [
                "decide"
              ],
              "stage_index": 0,
              "stage_label": "Decision"
            },
            {
              "decision_nodes": [],
              "stage_index": 1,
              "stage_label": "Terminal"
            }
          ],
          "variation_range": 0.2
        }
      },
      "StageSensitivityResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version",
            "default": "stage_sensitivity.v1"
          },
          "stage_results": {
            "items": {
              "$ref": "#/components/schemas/StageSensitivityResult"
            },
            "type": "array",
            "title": "Stage Results",
            "description": "Sensitivity results for each stage"
          },
          "overall_robustness": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overall Robustness",
            "description": "Overall policy robustness score"
          },
          "most_sensitive_parameters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Most Sensitive Parameters",
            "description": "Parameters with highest sensitivity"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "stage_results",
          "overall_robustness",
          "most_sensitive_parameters",
          "explanation"
        ],
        "title": "StageSensitivityResponse",
        "description": "Response model for stage sensitivity analysis.",
        "example": {
          "explanation": {
            "assumptions": [
              "Parameters vary independently"
            ],
            "reasoning": "Market probability has high sensitivity - small changes could flip optimal decision",
            "summary": "Policy is moderately robust to parameter changes",
            "technical_basis": "One-at-a-time sensitivity analysis with policy tracking"
          },
          "most_sensitive_parameters": [
            "market_probability",
            "payoff_high"
          ],
          "overall_robustness": 0.68,
          "schema_version": "stage_sensitivity.v1",
          "stage_results": [
            {
              "parameter_sensitivities": {
                "investment_cost": 0.45,
                "market_probability": 0.85
              },
              "policy_changes_at": {
                "market_probability": 0.35
              },
              "robustness_score": 0.72,
              "stage_index": 0,
              "stage_label": "Investment Decision"
            }
          ]
        }
      },
      "StageSensitivityResult": {
        "properties": {
          "stage_index": {
            "type": "integer",
            "title": "Stage Index",
            "description": "Stage index"
          },
          "stage_label": {
            "type": "string",
            "title": "Stage Label",
            "description": "Stage label"
          },
          "parameter_sensitivities": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Parameter Sensitivities",
            "description": "Mapping of parameter names to sensitivity scores"
          },
          "policy_changes_at": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policy Changes At",
            "description": "Parameter values where optimal policy changes"
          },
          "robustness_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "description": "Stage robustness score (0-1)"
          }
        },
        "type": "object",
        "required": [
          "stage_index",
          "stage_label",
          "parameter_sensitivities",
          "robustness_score"
        ],
        "title": "StageSensitivityResult",
        "description": "Sensitivity analysis result for a single stage.",
        "example": {
          "parameter_sensitivities": {
            "investment_cost": 0.45,
            "market_probability": 0.85
          },
          "policy_changes_at": {
            "market_probability": 0.35
          },
          "robustness_score": 0.72,
          "stage_index": 0,
          "stage_label": "Investment Decision"
        }
      },
      "StatisticalValidation": {
        "properties": {
          "checks": {
            "items": {
              "$ref": "#/components/schemas/ValidationCheck"
            },
            "type": "array",
            "title": "Checks",
            "description": "Statistical checks performed"
          }
        },
        "type": "object",
        "required": [
          "checks"
        ],
        "title": "StatisticalValidation",
        "description": "Statistical validation results."
      },
      "StrengthDistribution": {
        "properties": {
          "mean": {
            "type": "number",
            "title": "Mean",
            "description": "Expected effect size (SIGNED: negative = negative effect)"
          },
          "std": {
            "type": "number",
            "exclusiveMinimum": 0.0,
            "title": "Std",
            "description": "Standard deviation of effect size"
          }
        },
        "type": "object",
        "required": [
          "mean",
          "std"
        ],
        "title": "StrengthDistribution",
        "description": "Parametric uncertainty over edge effect magnitude.\n\nRepresents a Normal distribution over the causal effect strength.\nPositive mean = positive causal effect (increase in cause -> increase in effect)\nNegative mean = negative causal effect (increase in cause -> decrease in effect)",
        "example": {
          "mean": 0.5,
          "std": 0.1
        }
      },
      "StructuralModel": {
        "properties": {
          "variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "title": "Variables",
            "description": "List of variable names"
          },
          "equations": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Equations",
            "description": "Structural equations mapping variable to expression"
          },
          "distributions": {
            "additionalProperties": {
              "$ref": "#/components/schemas/Distribution"
            },
            "type": "object",
            "title": "Distributions",
            "description": "Prior distributions for exogenous variables"
          }
        },
        "type": "object",
        "required": [
          "variables",
          "equations",
          "distributions"
        ],
        "title": "StructuralModel",
        "description": "Structural causal model specification.",
        "example": {
          "distributions": {
            "X": {
              "parameters": {
                "mean": 0,
                "std": 1
              },
              "type": "normal"
            }
          },
          "equations": {
            "Y": "10 + 2*X + 3*Z",
            "Z": "5 + 0.5*X"
          },
          "variables": [
            "X",
            "Y",
            "Z"
          ]
        }
      },
      "StructuralValidation": {
        "properties": {
          "checks": {
            "items": {
              "$ref": "#/components/schemas/ValidationCheck"
            },
            "type": "array",
            "title": "Checks",
            "description": "Structural checks performed"
          }
        },
        "type": "object",
        "required": [
          "checks"
        ],
        "title": "StructuralValidation",
        "description": "Structural validation results."
      },
      "SuggestionAction": {
        "properties": {
          "add_node": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Add Node",
            "description": "Node to add to the graph"
          },
          "add_edges": {
            "anyOf": [
              {
                "items": {
                  "prefixItems": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array",
                  "maxItems": 2,
                  "minItems": 2
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Add Edges",
            "description": "Edges to add (list of [from, to] pairs)"
          },
          "reverse_edge": {
            "anyOf": [
              {
                "prefixItems": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ],
                "type": "array",
                "maxItems": 2,
                "minItems": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Reverse Edge",
            "description": "Edge to reverse ([from, to] pair)"
          },
          "remove_edge": {
            "anyOf": [
              {
                "prefixItems": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ],
                "type": "array",
                "maxItems": 2,
                "minItems": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Remove Edge",
            "description": "Edge to remove ([from, to] pair)"
          },
          "assume_independence": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConditionalIndependence"
              },
              {
                "type": "null"
              }
            ],
            "description": "Conditional independence assumption to make"
          }
        },
        "type": "object",
        "title": "SuggestionAction",
        "description": "Specific action to implement a suggestion.\n\nContains the concrete graph modifications or assumptions needed.",
        "examples": [
          {
            "title": "Add Confounder",
            "value": {
              "add_edges": [
                [
                  "Competitors",
                  "Price"
                ],
                [
                  "Competitors",
                  "Revenue"
                ]
              ],
              "add_node": "Competitors"
            }
          },
          {
            "title": "Reverse Edge",
            "value": {
              "reverse_edge": [
                "A",
                "B"
              ]
            }
          }
        ]
      },
      "SuggestionType": {
        "type": "string",
        "enum": [
          "add_edge",
          "remove_edge",
          "add_node",
          "restructure"
        ],
        "title": "SuggestionType",
        "description": "Type of model suggestion."
      },
      "TeachingExample": {
        "properties": {
          "scenario": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Scenario"
              }
            ],
            "description": "Example scenario"
          },
          "key_insight": {
            "type": "string",
            "title": "Key Insight",
            "description": "What this teaches"
          },
          "why_this_example": {
            "type": "string",
            "title": "Why This Example",
            "description": "Why this is pedagogically valuable"
          },
          "information_value": {
            "type": "number",
            "title": "Information Value",
            "description": "Teaching value score"
          }
        },
        "type": "object",
        "required": [
          "scenario",
          "key_insight",
          "why_this_example",
          "information_value"
        ],
        "title": "TeachingExample",
        "description": "A pedagogically valuable example."
      },
      "TeamAlignmentRequest": {
        "properties": {
          "perspectives": {
            "items": {
              "$ref": "#/components/schemas/TeamPerspective"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 2,
            "title": "Perspectives",
            "description": "Team member perspectives"
          },
          "options": {
            "items": {
              "$ref": "#/components/schemas/src__models__requests__DecisionOption"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 2,
            "title": "Options",
            "description": "Decision options to evaluate"
          }
        },
        "type": "object",
        "required": [
          "perspectives",
          "options"
        ],
        "title": "TeamAlignmentRequest",
        "description": "Request model for team alignment endpoint.",
        "example": {
          "options": [
            {
              "attributes": {
                "quality": "medium",
                "speed": "fast"
              },
              "id": "option_a",
              "name": "Quick MVP"
            },
            {
              "attributes": {
                "quality": "high",
                "speed": "medium"
              },
              "id": "option_b",
              "name": "Polished feature"
            }
          ],
          "perspectives": [
            {
              "constraints": [
                "Limited budget"
              ],
              "preferred_options": [
                "option_a"
              ],
              "priorities": [
                "User acquisition",
                "Revenue growth"
              ],
              "role": "Product Manager"
            },
            {
              "constraints": [
                "Design system limitations"
              ],
              "preferred_options": [
                "option_b"
              ],
              "priorities": [
                "User experience",
                "Brand consistency"
              ],
              "role": "Designer"
            }
          ]
        }
      },
      "TeamAlignmentResponse": {
        "properties": {
          "common_ground": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CommonGround"
              }
            ],
            "description": "Shared goals and constraints"
          },
          "aligned_options": {
            "items": {
              "$ref": "#/components/schemas/AlignedOption"
            },
            "type": "array",
            "title": "Aligned Options",
            "description": "Options with alignment scores"
          },
          "conflicts": {
            "items": {
              "$ref": "#/components/schemas/Conflict"
            },
            "type": "array",
            "title": "Conflicts",
            "description": "Identified conflicts"
          },
          "recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__responses__Recommendation"
              }
            ],
            "description": "Top recommendation"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "common_ground",
          "aligned_options",
          "conflicts",
          "recommendation",
          "explanation"
        ],
        "title": "TeamAlignmentResponse",
        "description": "Response model for team alignment endpoint.",
        "example": {
          "aligned_options": [
            {
              "option": "option_b",
              "satisfaction_score": 85,
              "satisfies_roles": [
                "PM",
                "Designer",
                "Engineer"
              ],
              "tradeoffs": []
            }
          ],
          "common_ground": {
            "agreement_level": 72,
            "shared_constraints": [
              "Limited budget"
            ],
            "shared_goals": [
              "Deliver value to users",
              "Meet Q4 deadline"
            ]
          },
          "conflicts": [],
          "explanation": {
            "assumptions": [
              "Priorities accurate"
            ],
            "reasoning": "All roles value quality...",
            "summary": "Team can align on polished feature set",
            "technical_basis": "Overlap analysis with priority weighting"
          },
          "recommendation": {
            "confidence": "high",
            "next_steps": [
              "Define MVP scope"
            ],
            "rationale": "Balances all priorities",
            "top_option": "option_b"
          }
        }
      },
      "TeamPerspective": {
        "properties": {
          "role": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Role",
            "description": "Role name (e.g., PM, Designer, Engineer)"
          },
          "priorities": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "title": "Priorities",
            "description": "What this role cares about"
          },
          "constraints": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "title": "Constraints",
            "description": "What limits this role"
          },
          "preferred_options": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Options",
            "description": "Preferred option IDs"
          }
        },
        "type": "object",
        "required": [
          "role",
          "priorities",
          "constraints"
        ],
        "title": "TeamPerspective",
        "description": "Individual team member's perspective.",
        "example": {
          "constraints": [
            "Limited budget",
            "Q4 deadline"
          ],
          "preferred_options": [
            "option_a",
            "option_b"
          ],
          "priorities": [
            "User acquisition",
            "Revenue growth",
            "Fast time-to-market"
          ],
          "role": "Product Manager"
        }
      },
      "ThresholdIdentificationRequest": {
        "properties": {
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Optional request ID for tracing"
          },
          "parameter_sweeps": {
            "items": {
              "$ref": "#/components/schemas/ParameterSweep"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 1,
            "title": "Parameter Sweeps",
            "description": "Parameter sweeps with scores at different values"
          },
          "baseline_ranking": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Baseline Ranking",
            "description": "Optional baseline ranking (option_ids in rank order). If not provided, uses ranking at first parameter value."
          },
          "confidence_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Threshold",
            "description": "Minimum score difference to consider ranking change meaningful",
            "default": 0.1
          }
        },
        "type": "object",
        "required": [
          "parameter_sweeps"
        ],
        "title": "ThresholdIdentificationRequest",
        "description": "Request model for threshold identification endpoint.",
        "example": {
          "baseline_ranking": [
            "opt_a",
            "opt_c",
            "opt_b"
          ],
          "confidence_threshold": 0.1,
          "parameter_sweeps": [
            {
              "parameter_id": "price",
              "parameter_label": "Product Price",
              "scores_by_value": {
                "30.0": {
                  "opt_a": 0.9,
                  "opt_b": 0.6,
                  "opt_c": 0.75
                },
                "40.0": {
                  "opt_a": 0.85,
                  "opt_b": 0.7,
                  "opt_c": 0.75
                },
                "50.0": {
                  "opt_a": 0.75,
                  "opt_b": 0.8,
                  "opt_c": 0.7
                },
                "60.0": {
                  "opt_a": 0.65,
                  "opt_b": 0.85,
                  "opt_c": 0.65
                },
                "70.0": {
                  "opt_a": 0.5,
                  "opt_b": 0.9,
                  "opt_c": 0.6
                }
              },
              "values": [
                30.0,
                40.0,
                50.0,
                60.0,
                70.0
              ]
            }
          ],
          "request_id": "req_threshold_abc123"
        }
      },
      "ThresholdIdentificationResponse": {
        "properties": {
          "thresholds": {
            "items": {
              "$ref": "#/components/schemas/RankingThreshold"
            },
            "type": "array",
            "title": "Thresholds",
            "description": "Ranking thresholds across all parameters (sorted by parameter, then value)"
          },
          "sensitivity_ranking": {
            "items": {
              "$ref": "#/components/schemas/ParameterSensitivity"
            },
            "type": "array",
            "title": "Sensitivity Ranking",
            "description": "Parameters ranked by sensitivity (most sensitive first)"
          },
          "total_thresholds": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Thresholds",
            "description": "Total number of thresholds found across all parameters"
          },
          "monotonic_parameters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Monotonic Parameters",
            "description": "Parameter IDs with no ranking changes (monotonic)"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "thresholds",
          "sensitivity_ranking",
          "total_thresholds",
          "monotonic_parameters"
        ],
        "title": "ThresholdIdentificationResponse",
        "description": "Response model for threshold identification endpoint.",
        "example": {
          "metadata": {
            "algorithm": "sequential_ranking_comparison",
            "cache_hit": false,
            "computation_time_ms": 3.5,
            "isl_version": "2.0",
            "request_id": "req_threshold_abc123"
          },
          "monotonic_parameters": [
            "marketing_spend"
          ],
          "sensitivity_ranking": [
            {
              "changes_count": 2,
              "most_sensitive_range": [
                45.0,
                65.0
              ],
              "parameter_id": "price",
              "parameter_label": "Product Price",
              "sensitivity_score": 1.0
            },
            {
              "changes_count": 0,
              "parameter_id": "marketing_spend",
              "parameter_label": "Marketing Spend",
              "sensitivity_score": 0.0
            }
          ],
          "thresholds": [
            {
              "options_affected": [
                "opt_a",
                "opt_b"
              ],
              "parameter_id": "price",
              "parameter_label": "Product Price",
              "ranking_after": [
                "opt_b",
                "opt_a",
                "opt_c"
              ],
              "ranking_before": [
                "opt_a",
                "opt_c",
                "opt_b"
              ],
              "score_gap": 0.05,
              "threshold_value": 50.0
            },
            {
              "options_affected": [
                "opt_a",
                "opt_c"
              ],
              "parameter_id": "price",
              "parameter_label": "Product Price",
              "ranking_after": [
                "opt_b",
                "opt_c",
                "opt_a"
              ],
              "ranking_before": [
                "opt_b",
                "opt_a",
                "opt_c"
              ],
              "score_gap": 0.02,
              "threshold_value": 60.0
            }
          ],
          "total_thresholds": 2
        }
      },
      "TradeOff": {
        "properties": {
          "option_a_id": {
            "type": "string",
            "title": "Option A Id",
            "description": "First option ID"
          },
          "option_a_label": {
            "type": "string",
            "title": "Option A Label",
            "description": "First option label"
          },
          "option_b_id": {
            "type": "string",
            "title": "Option B Id",
            "description": "Second option ID"
          },
          "option_b_label": {
            "type": "string",
            "title": "Option B Label",
            "description": "Second option label"
          },
          "a_better_on": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "A Better On",
            "description": "Criterion IDs where option A scores higher"
          },
          "b_better_on": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "B Better On",
            "description": "Criterion IDs where option B scores higher"
          },
          "max_difference": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Max Difference",
            "description": "Largest score gap across criteria"
          }
        },
        "type": "object",
        "required": [
          "option_a_id",
          "option_a_label",
          "option_b_id",
          "option_b_label",
          "a_better_on",
          "b_better_on",
          "max_difference"
        ],
        "title": "TradeOff",
        "description": "Trade-off between two options.",
        "example": {
          "a_better_on": [
            "revenue",
            "timeline"
          ],
          "b_better_on": [
            "risk"
          ],
          "max_difference": 0.45,
          "option_a_id": "opt_a",
          "option_a_label": "Option A: Aggressive Growth",
          "option_b_id": "opt_b",
          "option_b_label": "Option B: Conservative Growth"
        }
      },
      "Tradeoff": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Role making the tradeoff"
          },
          "gives": {
            "type": "string",
            "title": "Gives",
            "description": "What this role compromises on"
          },
          "gets": {
            "type": "string",
            "title": "Gets",
            "description": "What this role gains"
          }
        },
        "type": "object",
        "required": [
          "role",
          "gives",
          "gets"
        ],
        "title": "Tradeoff",
        "description": "A tradeoff for a specific role."
      },
      "TransportAssumption": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Assumption type (e.g., 'same_mechanism', 'no_selection_bias', 'common_support')"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable explanation of the assumption"
          },
          "critical": {
            "type": "boolean",
            "title": "Critical",
            "description": "Whether this assumption is critical for transportability"
          },
          "testable": {
            "type": "boolean",
            "title": "Testable",
            "description": "Whether this assumption can be empirically tested"
          }
        },
        "type": "object",
        "required": [
          "type",
          "description",
          "critical",
          "testable"
        ],
        "title": "TransportAssumption",
        "description": "Individual assumption required for transportability.\n\nDocuments what must hold for causal effects to transport\nfrom source domain to target domain.",
        "example": {
          "critical": true,
          "description": "The causal mechanism Price\u2192Revenue is the same in both UK and Germany",
          "testable": false,
          "type": "same_mechanism"
        }
      },
      "TransportabilityRequest": {
        "properties": {
          "source_domain": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DomainSpec"
              }
            ],
            "description": "Source domain (where effect is identified)"
          },
          "target_domain": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DomainSpec"
              }
            ],
            "description": "Target domain (where effect is transported)"
          },
          "treatment": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Treatment",
            "description": "Treatment variable"
          },
          "outcome": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "description": "Outcome variable"
          },
          "selection_variables": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Selection Variables",
            "description": "Variables affected by domain selection (if known)"
          }
        },
        "type": "object",
        "required": [
          "source_domain",
          "target_domain",
          "treatment",
          "outcome"
        ],
        "title": "TransportabilityRequest",
        "description": "Request model for transportability analysis.",
        "example": {
          "outcome": "Revenue",
          "selection_variables": [
            "Brand"
          ],
          "source_domain": {
            "dag": {
              "edges": [
                [
                  "Price",
                  "Revenue"
                ],
                [
                  "Brand",
                  "Price"
                ],
                [
                  "Brand",
                  "Revenue"
                ]
              ],
              "nodes": [
                "Price",
                "Brand",
                "Revenue"
              ]
            },
            "name": "UK Market"
          },
          "target_domain": {
            "dag": {
              "edges": [
                [
                  "Price",
                  "Revenue"
                ],
                [
                  "Brand",
                  "Price"
                ],
                [
                  "Brand",
                  "Revenue"
                ]
              ],
              "nodes": [
                "Price",
                "Brand",
                "Revenue"
              ]
            },
            "name": "EU Market"
          },
          "treatment": "Price"
        }
      },
      "TransportabilityResponse": {
        "properties": {
          "transportable": {
            "type": "boolean",
            "title": "Transportable",
            "description": "Whether the causal effect can be transported"
          },
          "method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Method",
            "description": "Transportability method used (e.g., 'selection_diagram', 'weighting', 'direct')"
          },
          "formula": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Formula",
            "description": "Transport formula if transportable"
          },
          "required_assumptions": {
            "items": {
              "$ref": "#/components/schemas/TransportAssumption"
            },
            "type": "array",
            "title": "Required Assumptions",
            "description": "Assumptions required for valid transport"
          },
          "robustness": {
            "type": "string",
            "title": "Robustness",
            "description": "Robustness assessment: robust, moderate, fragile"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason if not transportable"
          },
          "suggestions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suggestions",
            "description": "Suggestions if not transportable"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in transportability assessment"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "transportable",
          "robustness",
          "confidence",
          "explanation"
        ],
        "title": "TransportabilityResponse",
        "description": "Response model for transportability analysis endpoint.\n\nIndicates whether causal effects identified in source domain\ncan be transported to target domain, along with required\nassumptions and robustness assessment.",
        "examples": [
          {
            "title": "Transportable Effect",
            "value": {
              "confidence": "medium",
              "explanation": {
                "assumptions": [
                  "Same causal mechanism",
                  "Measured selection variables"
                ],
                "reasoning": "Selection diagram shows effect is transportable via re-weighting by domain-specific covariates",
                "summary": "Effect can be transported by adjusting for domain selection",
                "technical_basis": "Y\u2080 transportability algorithm with selection nodes"
              },
              "formula": "P_target(revenue|do(price)) = \u03a3_S P_source(revenue|price,S) P_target(S)",
              "method": "selection_diagram",
              "required_assumptions": [
                {
                  "critical": true,
                  "description": "Price\u2192Revenue mechanism identical in UK and Germany",
                  "testable": false,
                  "type": "same_mechanism"
                },
                {
                  "critical": true,
                  "description": "Selection into domains doesn't affect mechanism",
                  "testable": true,
                  "type": "no_selection_bias"
                }
              ],
              "robustness": "moderate",
              "transportable": true
            }
          },
          {
            "title": "Non-Transportable Effect",
            "value": {
              "confidence": "high",
              "explanation": {
                "assumptions": [
                  "DAG structure correct",
                  "Selection variables complete"
                ],
                "reasoning": "Regulatory differences between UK and Germany alter Price\u2192Revenue mechanism",
                "summary": "Effect cannot be transported due to mechanism differences",
                "technical_basis": "Y\u2080 transportability algorithm - no valid transport formula found"
              },
              "reason": "different_mechanisms",
              "robustness": "fragile",
              "suggestions": [
                "Collect data on market structure differences",
                "Test if price elasticity differs between domains",
                "Consider stratified analysis by market segment"
              ],
              "transportable": false
            }
          }
        ]
      },
      "UncertaintyBreakdown": {
        "properties": {
          "overall": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UncertaintyLevel"
              }
            ],
            "description": "Overall uncertainty level"
          },
          "sources": {
            "items": {
              "$ref": "#/components/schemas/UncertaintySource"
            },
            "type": "array",
            "title": "Sources",
            "description": "Individual uncertainty sources"
          }
        },
        "type": "object",
        "required": [
          "overall",
          "sources"
        ],
        "title": "UncertaintyBreakdown",
        "description": "Breakdown of uncertainty sources."
      },
      "UncertaintyLevel": {
        "type": "string",
        "enum": [
          "low",
          "medium",
          "high"
        ],
        "title": "UncertaintyLevel",
        "description": "Overall uncertainty level."
      },
      "UncertaintySource": {
        "properties": {
          "factor": {
            "type": "string",
            "title": "Factor",
            "description": "Name of uncertainty factor"
          },
          "impact": {
            "type": "number",
            "title": "Impact",
            "description": "Contribution to variance"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in this estimate"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "Plain English explanation"
          },
          "basis": {
            "type": "string",
            "title": "Basis",
            "description": "Evidence source for this factor"
          }
        },
        "type": "object",
        "required": [
          "factor",
          "impact",
          "confidence",
          "explanation",
          "basis"
        ],
        "title": "UncertaintySource",
        "description": "Source of uncertainty in the analysis.",
        "example": {
          "basis": "Historical data from 3 previous price changes",
          "confidence": "medium",
          "explanation": "Brand changes take 2-4 weeks to affect revenue",
          "factor": "Brand perception lag",
          "impact": 3000
        }
      },
      "UserBeliefModel": {
        "properties": {
          "value_weights": {
            "additionalProperties": {
              "$ref": "#/components/schemas/Distribution"
            },
            "type": "object",
            "title": "Value Weights",
            "description": "Probability distributions over value weights"
          },
          "risk_tolerance": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Distribution"
              }
            ],
            "description": "Risk aversion parameter distribution"
          },
          "time_horizon": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Distribution"
              }
            ],
            "description": "Short-term vs long-term focus distribution"
          },
          "uncertainty_estimates": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Uncertainty Estimates",
            "description": "Confidence in each belief (0-1)"
          }
        },
        "type": "object",
        "required": [
          "value_weights",
          "risk_tolerance",
          "time_horizon",
          "uncertainty_estimates"
        ],
        "title": "UserBeliefModel",
        "description": "Bayesian model of user preferences and beliefs.",
        "example": {
          "risk_tolerance": {
            "parameters": {
              "alpha": 2,
              "beta": 2
            },
            "type": "beta"
          },
          "time_horizon": {
            "parameters": {
              "mean": 12,
              "std": 3
            },
            "type": "normal"
          },
          "uncertainty_estimates": {
            "churn_weight": 0.4,
            "revenue_weight": 0.3
          },
          "value_weights": {
            "churn": {
              "parameters": {
                "mean": 0.4,
                "std": 0.2
              },
              "type": "normal"
            },
            "revenue": {
              "parameters": {
                "mean": 0.6,
                "std": 0.2
              },
              "type": "normal"
            }
          }
        }
      },
      "UtilityDistribution": {
        "properties": {
          "p5": {
            "type": "number",
            "title": "P5",
            "description": "5th percentile"
          },
          "p25": {
            "type": "number",
            "title": "P25",
            "description": "25th percentile"
          },
          "p50": {
            "type": "number",
            "title": "P50",
            "description": "50th percentile (median)"
          },
          "p75": {
            "type": "number",
            "title": "P75",
            "description": "75th percentile"
          },
          "p95": {
            "type": "number",
            "title": "P95",
            "description": "95th percentile"
          }
        },
        "type": "object",
        "required": [
          "p5",
          "p25",
          "p50",
          "p75",
          "p95"
        ],
        "title": "UtilityDistribution",
        "description": "Distribution of utility values at percentiles.",
        "example": {
          "p25": 92000.0,
          "p5": 85000.0,
          "p50": 100000.0,
          "p75": 108000.0,
          "p95": 115000.0
        }
      },
      "UtilityFunctionSpec": {
        "properties": {
          "goals": {
            "items": {
              "$ref": "#/components/schemas/GoalSpecification"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 1,
            "title": "Goals",
            "description": "List of goals to aggregate"
          },
          "aggregation_method": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AggregationMethod"
              }
            ],
            "description": "Method for aggregating goal values",
            "default": "weighted_sum"
          },
          "risk_tolerance": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RiskTolerance"
              }
            ],
            "description": "Risk tolerance for utility computation",
            "default": "risk_neutral"
          },
          "risk_coefficient": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 10.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Risk Coefficient",
            "description": "Risk aversion coefficient (for risk_averse: higher = more averse)"
          }
        },
        "type": "object",
        "required": [
          "goals"
        ],
        "title": "UtilityFunctionSpec",
        "description": "Complete utility function specification.",
        "example": {
          "aggregation_method": "weighted_sum",
          "goals": [
            {
              "goal_id": "revenue",
              "label": "Revenue",
              "weight": 0.6
            },
            {
              "direction": "minimize",
              "goal_id": "cost",
              "label": "Cost",
              "weight": 0.4
            }
          ],
          "risk_tolerance": "risk_neutral"
        }
      },
      "UtilitySpecification": {
        "properties": {
          "goal_node_id": {
            "type": "string",
            "title": "Goal Node Id",
            "description": "Node ID representing the primary goal/outcome"
          },
          "additional_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Goals",
            "description": "Additional goal node IDs for multi-goal analysis"
          },
          "maximize": {
            "type": "boolean",
            "title": "Maximize",
            "description": "Whether to maximize (True) or minimize (False) the goal",
            "default": true
          },
          "weights": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weights",
            "description": "Weights for multiple goals (must sum to 1.0)"
          }
        },
        "type": "object",
        "required": [
          "goal_node_id"
        ],
        "title": "UtilitySpecification",
        "description": "Specification of utility function for ranking options.",
        "example": {
          "additional_goals": [
            "customer_satisfaction"
          ],
          "goal_node_id": "revenue",
          "maximize": true,
          "weights": {
            "customer_satisfaction": 0.3,
            "revenue": 0.7
          }
        }
      },
      "UtilityValidationRequest": {
        "properties": {
          "utility_spec": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UtilityFunctionSpec"
              }
            ],
            "description": "Utility function specification to validate"
          },
          "graph": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional graph to validate goal references against"
          },
          "strict_mode": {
            "type": "boolean",
            "title": "Strict Mode",
            "description": "If true, require all weights to be specified",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "utility_spec"
        ],
        "title": "UtilityValidationRequest",
        "description": "Request model for utility function validation endpoint.",
        "example": {
          "strict_mode": false,
          "utility_spec": {
            "aggregation_method": "weighted_sum",
            "goals": [
              {
                "goal_id": "revenue",
                "label": "Revenue",
                "weight": 0.6
              },
              {
                "direction": "minimize",
                "goal_id": "cost",
                "label": "Cost",
                "weight": 0.4
              }
            ],
            "risk_tolerance": "risk_neutral"
          }
        }
      },
      "UtilityValidationResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "Schema version",
            "default": "utility.v1"
          },
          "valid": {
            "type": "boolean",
            "title": "Valid",
            "description": "Whether the utility specification is valid"
          },
          "normalised_weights": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Normalised Weights",
            "description": "Normalized weights by goal ID (sum to 1.0)"
          },
          "normalised_goals": {
            "items": {
              "$ref": "#/components/schemas/NormalisedGoal"
            },
            "type": "array",
            "title": "Normalised Goals",
            "description": "Full normalised goal specifications"
          },
          "aggregation_method": {
            "type": "string",
            "title": "Aggregation Method",
            "description": "Aggregation method to be used"
          },
          "risk_tolerance": {
            "type": "string",
            "title": "Risk Tolerance",
            "description": "Risk tolerance setting"
          },
          "default_behaviour_applied": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Default Behaviour Applied",
            "description": "List of default behaviours that were applied"
          },
          "warnings": {
            "items": {
              "$ref": "#/components/schemas/UtilityValidationWarning"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Validation warnings"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "Validation errors (if valid=false)"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "valid",
          "normalised_weights",
          "normalised_goals",
          "aggregation_method",
          "risk_tolerance"
        ],
        "title": "UtilityValidationResponse",
        "description": "Response model for utility function validation endpoint.",
        "example": {
          "aggregation_method": "weighted_sum",
          "default_behaviour_applied": [],
          "normalised_goals": [
            {
              "direction": "maximize",
              "goal_id": "revenue",
              "label": "Revenue",
              "normalised_weight": 0.6
            }
          ],
          "normalised_weights": {
            "cost": 0.4,
            "revenue": 0.6
          },
          "risk_tolerance": "risk_neutral",
          "schema_version": "utility.v1",
          "valid": true,
          "warnings": []
        }
      },
      "UtilityValidationWarning": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code",
            "description": "Warning code"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable warning message"
          },
          "affected_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Affected Goals",
            "description": "List of goal IDs affected"
          }
        },
        "type": "object",
        "required": [
          "code",
          "message"
        ],
        "title": "UtilityValidationWarning",
        "description": "Warning from utility validation.",
        "example": {
          "affected_goals": [
            "revenue",
            "cost",
            "quality"
          ],
          "code": "WEIGHTS_NORMALIZED",
          "message": "Weights normalized from sum=1.5 to sum=1.0"
        }
      },
      "ValidatedCorrelationGroup": {
        "properties": {
          "group_id": {
            "type": "string",
            "title": "Group Id",
            "description": "Group identifier"
          },
          "factors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Factors",
            "description": "Factor IDs in the group"
          },
          "correlation": {
            "type": "number",
            "title": "Correlation",
            "description": "Correlation coefficient"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "description": "Whether this group specification is valid"
          },
          "issues": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Issues",
            "description": "Issues with this group"
          }
        },
        "type": "object",
        "required": [
          "group_id",
          "factors",
          "correlation",
          "is_valid"
        ],
        "title": "ValidatedCorrelationGroup",
        "description": "Validated correlation group with additional metadata.",
        "example": {
          "correlation": 0.7,
          "factors": [
            "demand",
            "competition"
          ],
          "group_id": "market_conditions",
          "is_valid": true,
          "issues": []
        }
      },
      "ValidationCheck": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Check name"
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__phase1_models__ValidationStatus"
              }
            ],
            "description": "Check status"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Check result description"
          },
          "recommendation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recommendation",
            "description": "Recommendation if check failed"
          }
        },
        "type": "object",
        "required": [
          "name",
          "status",
          "description"
        ],
        "title": "ValidationCheck",
        "description": "A single validation check result."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ValidationImprovement": {
        "properties": {
          "type": {
            "type": "string",
            "maxLength": 100,
            "title": "Type",
            "description": "Category (e.g., data_collection, model_structure, sensitivity_test)"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "title": "Description",
            "description": "What to do"
          },
          "priority": {
            "type": "string",
            "pattern": "^(high|medium|low)$",
            "title": "Priority",
            "description": "Implementation priority"
          }
        },
        "type": "object",
        "required": [
          "type",
          "description",
          "priority"
        ],
        "title": "ValidationImprovement",
        "description": "Single model improvement suggestion.",
        "example": {
          "description": "Gather historical adoption data from 3-5 comparable product launches to calibrate adoption rate assumptions",
          "priority": "high",
          "type": "data_collection"
        }
      },
      "ValidationIssue": {
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ValidationIssueType"
              }
            ],
            "description": "Type of validation issue"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of the issue"
          },
          "affected_nodes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Affected Nodes",
            "description": "Nodes affected by this issue"
          },
          "suggested_action": {
            "type": "string",
            "title": "Suggested Action",
            "description": "How to resolve the issue"
          }
        },
        "type": "object",
        "required": [
          "type",
          "description",
          "affected_nodes",
          "suggested_action"
        ],
        "title": "ValidationIssue",
        "description": "Issue identified during causal validation.",
        "example": {
          "affected_nodes": [
            "CustomerAcquisition",
            "Price",
            "Revenue"
          ],
          "description": "CustomerAcquisition may confound the Price-Revenue relationship",
          "suggested_action": "Clarify: Does CustomerAcquisition affect Price?",
          "type": "missing_connection"
        }
      },
      "ValidationIssueType": {
        "type": "string",
        "enum": [
          "missing_connection",
          "confounding",
          "ambiguous_relationship"
        ],
        "title": "ValidationIssueType",
        "description": "Type of validation issue."
      },
      "ValidationLevel": {
        "type": "string",
        "enum": [
          "basic",
          "standard",
          "comprehensive"
        ],
        "title": "ValidationLevel",
        "description": "Level of validation to perform."
      },
      "ValidationResults": {
        "properties": {
          "structural": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralValidation"
              }
            ],
            "description": "Structural validation"
          },
          "statistical": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StatisticalValidation"
              }
            ],
            "description": "Statistical validation"
          },
          "domain": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DomainValidation"
              }
            ],
            "description": "Domain validation"
          }
        },
        "type": "object",
        "required": [
          "structural",
          "statistical",
          "domain"
        ],
        "title": "ValidationResults",
        "description": "All validation results."
      },
      "ValidationStrategiesRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "timeout": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 30000.0,
                "minimum": 1000.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout",
            "description": "Request timeout in milliseconds",
            "default": 12000
          }
        },
        "type": "object",
        "required": [
          "graph"
        ],
        "title": "ValidationStrategiesRequest",
        "description": "Request model for validation strategies endpoint.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "n_decision",
                "to": "n_outcome",
                "weight": 1.5
              }
            ],
            "nodes": [
              {
                "id": "n_decision",
                "kind": "decision",
                "label": "Strategic Decision"
              },
              {
                "id": "n_outcome",
                "kind": "outcome",
                "label": "Business Outcome"
              }
            ]
          },
          "timeout": 12000
        }
      },
      "ValidationStrategiesResponse": {
        "properties": {
          "suggested_improvements": {
            "items": {
              "$ref": "#/components/schemas/ValidationImprovement"
            },
            "type": "array",
            "title": "Suggested Improvements",
            "description": "List of suggested model improvements"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "type": "object",
        "required": [
          "suggested_improvements"
        ],
        "title": "ValidationStrategiesResponse",
        "description": "Response model for validation strategies.",
        "example": {
          "suggested_improvements": [
            {
              "description": "Gather historical adoption data from 3-5 comparable product launches to calibrate adoption rate assumptions",
              "priority": "high",
              "type": "data_collection"
            },
            {
              "description": "Add explicit node for competitor response to capture strategic interaction effects",
              "priority": "medium",
              "type": "model_structure"
            },
            {
              "description": "Test model robustness by varying market size estimate \u00b120%",
              "priority": "low",
              "type": "sensitivity_test"
            }
          ]
        }
      },
      "ValidationStrategyRequest": {
        "properties": {
          "dag": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DAGStructure"
              }
            ],
            "description": "Directed acyclic graph structure"
          },
          "treatment": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Treatment",
            "description": "Treatment variable name"
          },
          "outcome": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "description": "Outcome variable name"
          }
        },
        "type": "object",
        "required": [
          "dag",
          "treatment",
          "outcome"
        ],
        "title": "ValidationStrategyRequest",
        "description": "Request model for enhanced Y\u2080 validation strategies.\n\nProvides complete adjustment strategies for non-identifiable DAGs.",
        "example": {
          "dag": {
            "edges": [
              [
                "Price",
                "Revenue"
              ],
              [
                "Competitors",
                "Revenue"
              ]
            ],
            "nodes": [
              "Price",
              "Competitors",
              "Revenue"
            ]
          },
          "outcome": "Revenue",
          "treatment": "Price"
        }
      },
      "ValidationStrategyResponse": {
        "properties": {
          "strategies": {
            "items": {
              "$ref": "#/components/schemas/AdjustmentStrategyDetail"
            },
            "type": "array",
            "title": "Strategies",
            "description": "Adjustment strategies ranked by expected success"
          },
          "path_analysis": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PathAnalysisDetail"
              }
            ],
            "description": "Comprehensive path analysis"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "strategies",
          "path_analysis",
          "explanation"
        ],
        "title": "ValidationStrategyResponse",
        "description": "Response model for enhanced validation strategies.\n\nProvides complete adjustment strategies and path analysis.",
        "example": {
          "explanation": {
            "assumptions": [
              "DAG structure is correct"
            ],
            "reasoning": "Competitors creates a backdoor path between Price and Revenue",
            "summary": "Effect is identifiable by controlling for Competitors",
            "technical_basis": "Backdoor path analysis and adjustment set identification"
          },
          "path_analysis": {
            "backdoor_paths": [
              [
                "Price",
                "Competitors",
                "Revenue"
              ]
            ],
            "blocked_paths": [],
            "critical_nodes": [
              "Competitors"
            ],
            "frontdoor_paths": [
              [
                "Price",
                "Revenue"
              ]
            ]
          },
          "strategies": [
            {
              "edges_to_add": [],
              "expected_identifiability": 0.9,
              "explanation": "Control for existing variable Competitors to block backdoor paths",
              "nodes_to_add": [],
              "strategy_type": "backdoor",
              "theoretical_basis": "Pearl's backdoor criterion"
            }
          ]
        }
      },
      "ValidationSuggestion": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Suggestion type: add_mediator, add_confounder, reverse_edge, add_conditional_independence, remove_edge"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Plain English description of the suggestion"
          },
          "technical_detail": {
            "type": "string",
            "title": "Technical Detail",
            "description": "Precise causal graph operation or assumption"
          },
          "priority": {
            "type": "string",
            "title": "Priority",
            "description": "Priority level: critical, recommended, optional"
          },
          "action": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SuggestionAction"
              }
            ],
            "description": "Specific action to take"
          }
        },
        "type": "object",
        "required": [
          "type",
          "description",
          "technical_detail",
          "priority",
          "action"
        ],
        "title": "ValidationSuggestion",
        "description": "Actionable suggestion for making a non-identifiable DAG identifiable.\n\nProvides specific, algorithmic guidance on how to modify the causal graph\nor make additional assumptions to achieve identification.",
        "examples": [
          {
            "title": "Add Confounder",
            "value": {
              "action": {
                "add_edges": [
                  [
                    "Competitors",
                    "Price"
                  ],
                  [
                    "Competitors",
                    "Revenue"
                  ]
                ],
                "add_node": "Competitors"
              },
              "description": "Measure competitor activity to control confounding",
              "priority": "critical",
              "technical_detail": "Add Competitors node to block backdoor path: Price \u2190 Competitors \u2192 Revenue",
              "type": "add_confounder"
            }
          },
          {
            "title": "Add Mediator",
            "value": {
              "action": {
                "add_edges": [
                  [
                    "Price",
                    "CustomerSentiment"
                  ],
                  [
                    "CustomerSentiment",
                    "Revenue"
                  ]
                ],
                "add_node": "CustomerSentiment"
              },
              "description": "Add CustomerSentiment to model the causal mechanism",
              "priority": "recommended",
              "technical_detail": "Replace Price\u2192Revenue with Price\u2192CustomerSentiment\u2192Revenue",
              "type": "add_mediator"
            }
          }
        ]
      },
      "ValidationWarning": {
        "properties": {
          "code": {
            "type": "string",
            "pattern": "^(WEIGHTS_NORMALIZED|OPTION_MISMATCH|SCORE_CLAMPED|MISSING_CRITERION)$",
            "title": "Code",
            "description": "Warning code"
          },
          "message": {
            "type": "string",
            "maxLength": 500,
            "title": "Message",
            "description": "Human-readable warning message"
          },
          "affected_items": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Affected Items",
            "description": "IDs of affected items (options, criteria, etc.)"
          }
        },
        "type": "object",
        "required": [
          "code",
          "message"
        ],
        "title": "ValidationWarning",
        "description": "Warning about validation actions taken.",
        "example": {
          "affected_items": [
            "revenue",
            "risk"
          ],
          "code": "WEIGHTS_NORMALIZED",
          "message": "Weights normalized from sum=0.95 to sum=1.0"
        }
      },
      "ValueOfInformation": {
        "properties": {
          "parameter_id": {
            "type": "string",
            "title": "Parameter Id",
            "description": "Parameter identifier"
          },
          "parameter_label": {
            "type": "string",
            "title": "Parameter Label",
            "description": "Human-readable parameter name"
          },
          "evpi": {
            "type": "number",
            "title": "Evpi",
            "description": "Expected Value of Perfect Information"
          },
          "evsi": {
            "type": "number",
            "title": "Evsi",
            "description": "Expected Value of Sample Information"
          },
          "current_uncertainty": {
            "type": "number",
            "title": "Current Uncertainty",
            "description": "Current variance/entropy of parameter"
          },
          "recommendation": {
            "type": "string",
            "title": "Recommendation",
            "description": "Recommendation based on VoI analysis"
          },
          "data_collection_suggestion": {
            "type": "string",
            "title": "Data Collection Suggestion",
            "description": "Actionable suggestion for gathering data"
          }
        },
        "type": "object",
        "required": [
          "parameter_id",
          "parameter_label",
          "evpi",
          "evsi",
          "current_uncertainty",
          "recommendation",
          "data_collection_suggestion"
        ],
        "title": "ValueOfInformation",
        "description": "Value of information analysis for a parameter.",
        "example": {
          "current_uncertainty": 0.25,
          "data_collection_suggestion": "Survey 50 customers about retention factors",
          "evpi": 15000.0,
          "evsi": 8500.0,
          "parameter_id": "churn_rate",
          "parameter_label": "Customer Churn Rate",
          "recommendation": "High value - consider gathering data"
        }
      },
      "src__api__batch__BatchCounterfactualRequest": {
        "properties": {
          "requests": {
            "items": {
              "$ref": "#/components/schemas/CounterfactualRequest"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 1,
            "title": "Requests",
            "description": "List of counterfactual requests to process"
          }
        },
        "type": "object",
        "required": [
          "requests"
        ],
        "title": "BatchCounterfactualRequest",
        "description": "Batch counterfactual analysis request."
      },
      "src__api__batch__BatchCounterfactualResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/BatchCounterfactualItem"
            },
            "type": "array",
            "title": "Results",
            "description": "Results for each request"
          },
          "summary": {
            "type": "object",
            "title": "Summary",
            "description": "Batch processing summary"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          }
        },
        "type": "object",
        "required": [
          "results",
          "summary"
        ],
        "title": "BatchCounterfactualResponse",
        "description": "Batch counterfactual analysis response."
      },
      "src__models__decision_robustness__DecisionOption": {
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "description": "Unique option identifier"
          },
          "label": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Label",
            "description": "Human-readable option name"
          },
          "interventions": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Interventions",
            "description": "Intervention values for this option (node_id \u2192 value)"
          },
          "is_baseline": {
            "type": "boolean",
            "title": "Is Baseline",
            "description": "Whether this is the baseline/status quo option",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "label",
          "interventions"
        ],
        "title": "DecisionOption",
        "description": "A decision option to evaluate.",
        "example": {
          "id": "option_a",
          "interventions": {
            "marketing_spend": 100000,
            "price": 49.99
          },
          "is_baseline": false,
          "label": "Aggressive Marketing"
        }
      },
      "src__models__decision_robustness__RankedOption": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Unique option identifier"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Human-readable option name"
          },
          "expected_utility": {
            "type": "number",
            "title": "Expected Utility",
            "description": "Expected utility value"
          },
          "utility_distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UtilityDistribution"
              }
            ],
            "description": "Distribution of utility values"
          },
          "rank": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Rank",
            "description": "Rank (1 = best)"
          },
          "vs_baseline": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vs Baseline",
            "description": "Absolute difference vs baseline option"
          },
          "vs_baseline_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vs Baseline Pct",
            "description": "Percentage difference vs baseline option"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "expected_utility",
          "utility_distribution",
          "rank"
        ],
        "title": "RankedOption",
        "description": "A decision option with its ranking and utility metrics.",
        "example": {
          "expected_utility": 150000.0,
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "rank": 1,
          "utility_distribution": {
            "p25": 135000.0,
            "p5": 120000.0,
            "p50": 150000.0,
            "p75": 165000.0,
            "p95": 180000.0
          },
          "vs_baseline": 25000.0,
          "vs_baseline_pct": 20.0
        }
      },
      "src__models__decision_robustness__Recommendation-Output": {
        "properties": {
          "option_id": {
            "type": "string",
            "title": "Option Id",
            "description": "Recommended option ID"
          },
          "option_label": {
            "type": "string",
            "title": "Option Label",
            "description": "Recommended option label"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevelEnum"
              }
            ],
            "description": "Confidence in recommendation"
          },
          "recommendation_status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__decision_robustness__RecommendationStatusEnum"
              }
            ],
            "description": "Whether recommendation is actionable or exploratory"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "option_label",
          "confidence",
          "recommendation_status"
        ],
        "title": "Recommendation",
        "description": "Top recommendation from the analysis.",
        "example": {
          "confidence": "high",
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "recommendation_status": "actionable"
        }
      },
      "src__models__decision_robustness__RecommendationStatusEnum": {
        "type": "string",
        "enum": [
          "actionable",
          "exploratory"
        ],
        "title": "RecommendationStatusEnum",
        "description": "Recommendation status based on identifiability and robustness."
      },
      "src__models__decision_robustness__RobustnessRequest": {
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph with nodes and edges"
          },
          "options": {
            "items": {
              "$ref": "#/components/schemas/src__models__decision_robustness__DecisionOption"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 2,
            "title": "Options",
            "description": "Decision options to evaluate"
          },
          "utility": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UtilitySpecification"
              }
            ],
            "description": "How to compute utility/ranking"
          },
          "analysis_options": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AnalysisOptions"
              },
              {
                "type": "null"
              }
            ],
            "description": "Configuration for the analysis"
          },
          "parameter_uncertainties": {
            "anyOf": [
              {
                "additionalProperties": {
                  "additionalProperties": {
                    "type": "number"
                  },
                  "type": "object"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parameter Uncertainties",
            "description": "Uncertainty specification for parameters: {param_id: {mean: x, std: y}}"
          }
        },
        "type": "object",
        "required": [
          "graph",
          "options",
          "utility"
        ],
        "title": "RobustnessRequest",
        "description": "Request for unified robustness analysis.\n\nAccepts a graph, decision options, utility specification, and analysis options.\nReturns a comprehensive robustness analysis in a single response.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "marketing_spend",
                "to": "demand",
                "weight": 2.0
              },
              {
                "from": "price",
                "to": "demand",
                "weight": -1.5
              },
              {
                "from": "demand",
                "to": "revenue",
                "weight": 2.5
              }
            ],
            "nodes": [
              {
                "id": "marketing_spend",
                "kind": "decision",
                "label": "Marketing Spend"
              },
              {
                "id": "price",
                "kind": "decision",
                "label": "Product Price"
              },
              {
                "id": "demand",
                "kind": "factor",
                "label": "Customer Demand"
              },
              {
                "id": "revenue",
                "kind": "goal",
                "label": "Revenue"
              }
            ]
          },
          "options": [
            {
              "id": "option_a",
              "interventions": {
                "marketing_spend": 100000,
                "price": 49.99
              },
              "is_baseline": false,
              "label": "Aggressive Marketing"
            },
            {
              "id": "option_b",
              "interventions": {
                "marketing_spend": 50000,
                "price": 79.99
              },
              "is_baseline": true,
              "label": "Premium Pricing"
            }
          ],
          "utility": {
            "goal_node_id": "revenue",
            "maximize": true
          }
        }
      },
      "src__models__decision_robustness__RobustnessResponse-Output": {
        "properties": {
          "result": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__decision_robustness__RobustnessResult-Output"
              }
            ],
            "description": "Robustness analysis result"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          }
        },
        "type": "object",
        "required": [
          "result"
        ],
        "title": "RobustnessResponse",
        "description": "API response wrapper for robustness analysis."
      },
      "src__models__decision_robustness__RobustnessResult-Output": {
        "properties": {
          "option_rankings": {
            "items": {
              "$ref": "#/components/schemas/RankedOption-Output"
            },
            "type": "array",
            "title": "Option Rankings",
            "description": "All options ranked by expected utility"
          },
          "recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__decision_robustness__Recommendation-Output"
              }
            ],
            "description": "Top recommendation with confidence"
          },
          "sensitivity": {
            "items": {
              "$ref": "#/components/schemas/SensitiveParameter"
            },
            "type": "array",
            "title": "Sensitivity",
            "description": "Most sensitive parameters (ranked)"
          },
          "robustness_label": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLabelEnum"
              }
            ],
            "description": "Overall robustness classification"
          },
          "robustness_summary": {
            "type": "string",
            "title": "Robustness Summary",
            "description": "Plain language robustness summary"
          },
          "robustness_bounds": {
            "items": {
              "$ref": "#/components/schemas/RobustnessBound"
            },
            "type": "array",
            "title": "Robustness Bounds",
            "description": "Parameter thresholds that would flip recommendation"
          },
          "value_of_information": {
            "items": {
              "$ref": "#/components/schemas/ValueOfInformation"
            },
            "type": "array",
            "title": "Value Of Information",
            "description": "VoI analysis for uncertain parameters"
          },
          "pareto": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ParetoResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "Pareto frontier analysis (multi-goal only)"
          },
          "narrative": {
            "type": "string",
            "title": "Narrative",
            "description": "Plain language summary combining all analyses"
          },
          "partial": {
            "type": "boolean",
            "title": "Partial",
            "description": "Whether this is a partial result due to timeout",
            "default": false
          },
          "completed_analyses": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Completed Analyses",
            "description": "Analyses that completed successfully"
          },
          "skipped_analyses": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Skipped Analyses",
            "description": "Analyses skipped due to timeout or disabled"
          },
          "elapsed_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Elapsed Ms",
            "description": "Total analysis time in milliseconds"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          }
        },
        "type": "object",
        "required": [
          "option_rankings",
          "recommendation",
          "sensitivity",
          "robustness_label",
          "robustness_summary",
          "robustness_bounds",
          "value_of_information",
          "narrative"
        ],
        "title": "RobustnessResult",
        "description": "Unified response schema for Decision Robustness Suite.\n\nContains all robustness metrics in a single payload:\n- Option rankings with utility distributions\n- Top recommendation with confidence\n- Sensitivity analysis (top sensitive parameters)\n- Robustness bounds (flip thresholds)\n- Value of information (EVPI/EVSI)\n- Pareto frontier (for multi-goal)\n- Narrative summary",
        "example": {
          "narrative": "Your decision is robust. Price changes up to 30% wouldn't change the recommendation.",
          "option_rankings": [
            {
              "expected_utility": 150000.0,
              "option_id": "option_a",
              "option_label": "Aggressive Marketing",
              "rank": 1,
              "utility_distribution": {
                "p25": 135000.0,
                "p5": 120000.0,
                "p50": 150000.0,
                "p75": 165000.0,
                "p95": 180000.0
              },
              "vs_baseline": 25000.0,
              "vs_baseline_pct": 20.0
            }
          ],
          "recommendation": {
            "confidence": "high",
            "option_id": "option_a",
            "option_label": "Aggressive Marketing",
            "recommendation_status": "actionable"
          },
          "robustness_bounds": [
            {
              "flip_threshold": 0.15,
              "flip_threshold_pct": 25.0,
              "flip_to_option": "option_b",
              "parameter_id": "marketing_roi",
              "parameter_label": "Marketing ROI"
            }
          ],
          "robustness_label": "robust",
          "robustness_summary": "Your decision is robust to typical parameter uncertainty",
          "sensitivity": [
            {
              "current_value": -1.2,
              "description": "Increasing Price Elasticity decreases expected revenue",
              "impact_direction": "negative",
              "parameter_id": "price_elasticity",
              "parameter_label": "Price Elasticity",
              "sensitivity_score": 0.85
            }
          ],
          "value_of_information": [
            {
              "current_uncertainty": 0.25,
              "data_collection_suggestion": "Survey 50 customers",
              "evpi": 15000.0,
              "evsi": 8500.0,
              "parameter_id": "churn_rate",
              "parameter_label": "Customer Churn Rate",
              "recommendation": "High value - consider gathering data"
            }
          ]
        }
      },
      "src__models__phase1_models__ValidationStatus": {
        "type": "string",
        "enum": [
          "pass",
          "warning",
          "fail"
        ],
        "title": "ValidationStatus",
        "description": "Status of a validation check."
      },
      "src__models__requests__BatchCounterfactualRequest": {
        "properties": {
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          },
          "scenarios": {
            "items": {
              "$ref": "#/components/schemas/ScenarioSpec"
            },
            "type": "array",
            "maxItems": 20,
            "minItems": 2,
            "title": "Scenarios",
            "description": "List of scenarios to evaluate"
          },
          "outcome": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "description": "Outcome variable to predict"
          },
          "analyze_interactions": {
            "type": "boolean",
            "title": "Analyze Interactions",
            "description": "Whether to detect variable interactions",
            "default": true
          },
          "robustness_radius": {
            "type": "number",
            "maximum": 0.5,
            "exclusiveMinimum": 0.0,
            "title": "Robustness Radius",
            "description": "Perturbation radius for robustness analysis",
            "default": 0.1
          },
          "samples": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "Samples",
            "description": "Monte Carlo samples per scenario",
            "default": 1000
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed",
            "description": "Random seed for deterministic results"
          }
        },
        "type": "object",
        "required": [
          "model",
          "scenarios",
          "outcome"
        ],
        "title": "BatchCounterfactualRequest",
        "description": "Request model for batch counterfactual analysis.",
        "example": {
          "analyze_interactions": true,
          "model": {
            "distributions": {
              "noise": {
                "parameters": {
                  "mean": 0,
                  "std": 1000
                },
                "type": "normal"
              }
            },
            "equations": {
              "Revenue": "10000 + 500*Price + 200*Quality"
            },
            "variables": [
              "Price",
              "Quality",
              "Revenue"
            ]
          },
          "outcome": "Revenue",
          "samples": 1000,
          "scenarios": [
            {
              "id": "baseline",
              "intervention": {
                "Price": 40
              },
              "label": "Current pricing"
            },
            {
              "id": "increase",
              "intervention": {
                "Price": 50
              },
              "label": "10% increase"
            },
            {
              "id": "combined",
              "intervention": {
                "Price": 50,
                "Quality": 8.5
              },
              "label": "Price + Quality"
            }
          ],
          "seed": 42
        }
      },
      "src__models__requests__DecisionOption": {
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "description": "Unique option identifier"
          },
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Human-readable option name"
          },
          "attributes": {
            "type": "object",
            "title": "Attributes",
            "description": "Characteristics of this option"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "attributes"
        ],
        "title": "DecisionOption",
        "description": "A decision option to evaluate.",
        "example": {
          "attributes": {
            "acquisition_potential": "high",
            "quality": "medium",
            "speed": "fast"
          },
          "id": "option_a",
          "name": "Quick MVP launch"
        }
      },
      "src__models__requests__RankedOption__1": {
        "properties": {
          "option_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Option Id",
            "description": "Unique option identifier"
          },
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Human-readable option name"
          },
          "expected_value": {
            "type": "number",
            "title": "Expected Value",
            "description": "Expected value/utility of this option"
          },
          "confidence_interval": {
            "anyOf": [
              {
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array",
                "maxItems": 2,
                "minItems": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Interval",
            "description": "Confidence interval (lower, upper)"
          },
          "rank": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rank",
            "description": "Current rank (1 = best)"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "name",
          "expected_value"
        ],
        "title": "RankedOption",
        "description": "An option with ranking information for coherence analysis.",
        "example": {
          "confidence_interval": [
            40000,
            60000
          ],
          "expected_value": 50000,
          "name": "Launch Premium",
          "option_id": "option_a",
          "rank": 1
        }
      },
      "src__models__requests__RankedOption__2": {
        "properties": {
          "option_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Option Id",
            "description": "Unique identifier for the option"
          },
          "label": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Label",
            "description": "Human-readable label for the option"
          },
          "expected_value": {
            "type": "number",
            "title": "Expected Value",
            "description": "Expected value/utility of this option"
          },
          "distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Distribution"
              }
            ],
            "description": "Probability distribution of outcomes"
          },
          "risk_metrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RiskMetrics"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional risk metrics for the option"
          }
        },
        "type": "object",
        "required": [
          "option_id",
          "label",
          "expected_value",
          "distribution"
        ],
        "title": "RankedOption",
        "description": "A ranked option for conditional recommendation analysis.",
        "example": {
          "distribution": {
            "parameters": {
              "mean": 50000,
              "std": 10000
            },
            "type": "normal"
          },
          "expected_value": 50000.0,
          "label": "Launch Product A",
          "option_id": "option_a",
          "risk_metrics": {
            "downside_risk": 30000,
            "probability_of_loss": 0.1,
            "variance": 100000000
          }
        }
      },
      "src__models__responses__BatchCounterfactualResponse": {
        "properties": {
          "scenarios": {
            "items": {
              "$ref": "#/components/schemas/ScenarioResult"
            },
            "type": "array",
            "title": "Scenarios",
            "description": "Results for each scenario"
          },
          "interactions": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/InteractionAnalysis"
              },
              {
                "type": "null"
              }
            ],
            "description": "Interaction analysis (if enabled)"
          },
          "comparison": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ScenarioComparison"
              }
            ],
            "description": "Comparison across scenarios"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Overall explanation"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          }
        },
        "type": "object",
        "required": [
          "scenarios",
          "comparison",
          "explanation"
        ],
        "title": "BatchCounterfactualResponse",
        "description": "Response model for batch counterfactual analysis.",
        "example": {
          "comparison": {
            "best_outcome": "increase",
            "marginal_gains": {
              "increase": 5000
            },
            "most_robust": "baseline",
            "ranking": [
              "increase",
              "baseline"
            ]
          },
          "explanation": {
            "assumptions": [
              "Structural equations correct",
              "No external shocks"
            ],
            "reasoning": "10% price increase produces consistent revenue uplift across scenarios",
            "summary": "Price increase yields \u00a35k marginal gain with moderate robustness",
            "technical_basis": "Batch counterfactual analysis with interaction detection"
          },
          "interactions": {
            "pairwise": [],
            "summary": "No significant interactions detected"
          },
          "scenarios": [
            {
              "intervention": {
                "Price": 40
              },
              "label": "Current pricing",
              "prediction": {
                "confidence_interval": {
                  "lower": 28000,
                  "upper": 32000
                },
                "point_estimate": 30000
              },
              "scenario_id": "baseline"
            },
            {
              "intervention": {
                "Price": 50
              },
              "label": "10% increase",
              "prediction": {
                "confidence_interval": {
                  "lower": 33000,
                  "upper": 37000
                },
                "point_estimate": 35000
              },
              "scenario_id": "increase"
            }
          ]
        }
      },
      "src__models__responses__Recommendation": {
        "properties": {
          "top_option": {
            "type": "string",
            "title": "Top Option",
            "description": "Recommended option ID"
          },
          "rationale": {
            "type": "string",
            "title": "Rationale",
            "description": "Why this option is recommended"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in recommendation"
          },
          "next_steps": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Next Steps",
            "description": "Suggested next steps"
          }
        },
        "type": "object",
        "required": [
          "top_option",
          "rationale",
          "confidence",
          "next_steps"
        ],
        "title": "Recommendation",
        "description": "Recommendation for team alignment."
      },
      "src__models__responses__RecommendationStatusEnum": {
        "type": "string",
        "enum": [
          "actionable",
          "exploratory"
        ],
        "title": "RecommendationStatusEnum",
        "description": "Status of recommendations based on identifiability (hard rule)."
      },
      "src__models__robustness__RobustnessRequest": {
        "properties": {
          "causal_model": {
            "type": "object",
            "title": "Causal Model",
            "description": "Causal DAG structure (nodes and edges)"
          },
          "intervention_proposal": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Intervention Proposal",
            "description": "Proposed intervention (e.g., {'price': 55})"
          },
          "target_outcome": {
            "additionalProperties": {
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "object",
            "title": "Target Outcome",
            "description": "Target outcome ranges (e.g., {'revenue': (95000, 105000)})"
          },
          "perturbation_radius": {
            "type": "number",
            "maximum": 1.0,
            "exclusiveMinimum": 0.0,
            "title": "Perturbation Radius",
            "description": "How far to search around proposal (0.1 = \u00b110%)",
            "default": 0.1
          },
          "min_samples": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 10.0,
            "title": "Min Samples",
            "description": "Minimum samples for verification per region",
            "default": 100
          },
          "confidence_level": {
            "type": "number",
            "maximum": 0.99,
            "minimum": 0.5,
            "title": "Confidence Level",
            "description": "Required confidence level",
            "default": 0.95
          },
          "feasible_ranges": {
            "anyOf": [
              {
                "additionalProperties": {
                  "prefixItems": [
                    {
                      "type": "number"
                    },
                    {
                      "type": "number"
                    }
                  ],
                  "type": "array",
                  "maxItems": 2,
                  "minItems": 2
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feasible Ranges",
            "description": "Feasible ranges for intervention variables"
          },
          "structural_model": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Structural Model",
            "description": "Structural equations and distributions for simulation"
          }
        },
        "type": "object",
        "required": [
          "causal_model",
          "intervention_proposal",
          "target_outcome"
        ],
        "title": "RobustnessRequest",
        "description": "Request for FACET robustness analysis.",
        "example": {
          "causal_model": {
            "edges": [
              [
                "price",
                "demand"
              ],
              [
                "demand",
                "revenue"
              ]
            ],
            "nodes": [
              "price",
              "demand",
              "revenue"
            ]
          },
          "confidence_level": 0.95,
          "intervention_proposal": {
            "price": 55.0
          },
          "min_samples": 100,
          "perturbation_radius": 0.1,
          "target_outcome": {
            "revenue": [
              95000.0,
              105000.0
            ]
          }
        }
      },
      "src__models__robustness__RobustnessResponse": {
        "properties": {
          "analysis": {
            "allOf": [
              {
                "$ref": "#/components/schemas/FACETRobustnessAnalysis"
              }
            ],
            "description": "Robustness analysis result"
          },
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          }
        },
        "type": "object",
        "required": [
          "analysis"
        ],
        "title": "RobustnessResponse",
        "description": "Response with FACET robustness analysis.",
        "example": {
          "analysis": {
            "interpretation": "ROBUST RECOMMENDATION",
            "is_fragile": false,
            "recommendation": "Proceed with confidence",
            "region_count": 2,
            "robustness_score": 0.75,
            "status": "robust"
          }
        }
      },
      "src__models__robustness_v2__RobustnessResult": {
        "properties": {
          "is_robust": {
            "type": "boolean",
            "title": "Is Robust",
            "description": "Whether recommendation is robust"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Confidence in robustness assessment"
          },
          "fragile_edges": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Fragile Edges",
            "description": "Edges that could flip the decision (format: 'from->to')"
          },
          "robust_edges": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Robust Edges",
            "description": "Edges that don't significantly affect decision"
          },
          "recommendation_stability": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Recommendation Stability",
            "description": "P(same recommendation across samples)"
          },
          "interpretation": {
            "type": "string",
            "title": "Interpretation",
            "description": "Human-readable robustness summary"
          }
        },
        "type": "object",
        "required": [
          "is_robust",
          "confidence",
          "recommendation_stability",
          "interpretation"
        ],
        "title": "RobustnessResult",
        "description": "Overall robustness assessment.",
        "example": {
          "confidence": 0.92,
          "fragile_edges": [
            "marketing->demand"
          ],
          "interpretation": "Recommendation is robust with 92% confidence",
          "is_robust": true,
          "recommendation_stability": 0.88,
          "robust_edges": [
            "price->revenue"
          ]
        }
      },
      "src__models__shared__ValidationStatus": {
        "type": "string",
        "enum": [
          "identifiable",
          "uncertain",
          "cannot_identify",
          "degraded"
        ],
        "title": "ValidationStatus",
        "description": "Status of causal validation."
      }
    }
  }
}
