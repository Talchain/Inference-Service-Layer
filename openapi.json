{
  "components": {
    "schemas": {
      "AdjustedScore": {
        "description": "Risk-adjusted score for a single option.",
        "example": {
          "adjustment": -0.2,
          "certainty_equivalent": 0.6,
          "option_id": "opt_aggressive",
          "option_label": "Aggressive Growth Strategy",
          "original_score": 0.8,
          "variance": 0.04
        },
        "properties": {
          "adjustment": {
            "description": "Adjustment amount (CE - original, can be negative)",
            "title": "Adjustment",
            "type": "number"
          },
          "certainty_equivalent": {
            "description": "Risk-adjusted certainty equivalent score",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Certainty Equivalent",
            "type": "number"
          },
          "option_id": {
            "description": "Option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Human-readable option label",
            "title": "Option Label",
            "type": "string"
          },
          "original_score": {
            "description": "Original score (mean or p50)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Original Score",
            "type": "number"
          },
          "variance": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Variance of original distribution (if mean/std_dev provided)",
            "title": "Variance"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "original_score",
          "certainty_equivalent",
          "adjustment"
        ],
        "title": "AdjustedScore",
        "type": "object"
      },
      "AdjustmentStrategyDetail": {
        "description": "Complete adjustment strategy for identifiability.\n\nSpecifies exactly what nodes/edges to add to make a non-identifiable\nDAG identifiable.",
        "example": {
          "edges_to_add": [
            [
              "Competitors",
              "Price"
            ],
            [
              "Competitors",
              "Revenue"
            ]
          ],
          "expected_identifiability": 0.9,
          "explanation": "Add and measure Competitors variable, then control for it to block backdoor paths",
          "nodes_to_add": [
            "Competitors"
          ],
          "strategy_type": "backdoor",
          "theoretical_basis": "Pearl's backdoor criterion"
        },
        "properties": {
          "edges_to_add": {
            "description": "Edges to add to the DAG",
            "items": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "type": "array"
            },
            "title": "Edges To Add",
            "type": "array"
          },
          "expected_identifiability": {
            "description": "Confidence that this strategy achieves identifiability (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Expected Identifiability",
            "type": "number"
          },
          "explanation": {
            "description": "Plain English explanation of the strategy",
            "title": "Explanation",
            "type": "string"
          },
          "nodes_to_add": {
            "description": "Nodes that need to be added/measured",
            "items": {
              "type": "string"
            },
            "title": "Nodes To Add",
            "type": "array"
          },
          "strategy_type": {
            "description": "Strategy type: backdoor, frontdoor, or instrumental",
            "title": "Strategy Type",
            "type": "string"
          },
          "theoretical_basis": {
            "description": "Theoretical justification (e.g., Pearl's backdoor criterion)",
            "title": "Theoretical Basis",
            "type": "string"
          }
        },
        "required": [
          "strategy_type",
          "nodes_to_add",
          "edges_to_add",
          "explanation",
          "theoretical_basis",
          "expected_identifiability"
        ],
        "title": "AdjustmentStrategyDetail",
        "type": "object"
      },
      "AdvancedValidationRequest": {
        "description": "Request for advanced model validation.",
        "properties": {
          "context": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional context (e.g., domain)",
            "title": "Context"
          },
          "dag": {
            "description": "DAG structure",
            "title": "Dag"
          },
          "structural_model": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "description": "Optional structural model",
            "title": "Structural Model"
          },
          "validation_level": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ValidationLevel"
              }
            ],
            "default": "standard",
            "description": "Level of validation to perform"
          }
        },
        "required": [
          "dag"
        ],
        "title": "AdvancedValidationRequest",
        "type": "object"
      },
      "AdvancedValidationResponse": {
        "description": "Response from advanced validation.",
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "best_practices": {
            "description": "Best practice adherence",
            "items": {
              "$ref": "#/components/schemas/BestPractice"
            },
            "title": "Best Practices",
            "type": "array"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "overall_quality": {
            "allOf": [
              {
                "$ref": "#/components/schemas/QualityLevel"
              }
            ],
            "description": "Overall quality assessment"
          },
          "quality_score": {
            "description": "Numerical quality score (0-100)",
            "title": "Quality Score",
            "type": "number"
          },
          "suggestions": {
            "description": "Improvement suggestions",
            "items": {
              "$ref": "#/components/schemas/ModelSuggestion"
            },
            "title": "Suggestions",
            "type": "array"
          },
          "validation_results": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ValidationResults"
              }
            ],
            "description": "Detailed validation results"
          }
        },
        "required": [
          "overall_quality",
          "quality_score",
          "validation_results",
          "suggestions",
          "best_practices",
          "explanation"
        ],
        "title": "AdvancedValidationResponse",
        "type": "object"
      },
      "AggregatedRanking": {
        "description": "Aggregated ranking for a single option.",
        "example": {
          "aggregated_score": 72.5,
          "option_id": "opt_a",
          "option_label": "Option A: Aggressive Growth",
          "rank": 1,
          "scores_by_criterion": {
            "revenue": 0.85,
            "risk": 0.4,
            "timeline": 0.7
          }
        },
        "properties": {
          "aggregated_score": {
            "description": "Final aggregated score (0-100 scale)",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Aggregated Score",
            "type": "number"
          },
          "option_id": {
            "description": "Option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Human-readable option label",
            "title": "Option Label",
            "type": "string"
          },
          "rank": {
            "description": "Rank (1-based, 1 = best)",
            "minimum": 1.0,
            "title": "Rank",
            "type": "integer"
          },
          "scores_by_criterion": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Normalized scores (0-1) used in aggregation by criterion_id",
            "title": "Scores By Criterion",
            "type": "object"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "rank",
          "aggregated_score",
          "scores_by_criterion"
        ],
        "title": "AggregatedRanking",
        "type": "object"
      },
      "AggregationMethod": {
        "description": "Aggregation methods for multi-goal utility functions.",
        "enum": [
          "weighted_sum",
          "weighted_product",
          "lexicographic",
          "min_max"
        ],
        "title": "AggregationMethod",
        "type": "string"
      },
      "AlignedOption": {
        "description": "An option with alignment analysis.",
        "properties": {
          "option": {
            "description": "Option ID",
            "title": "Option",
            "type": "string"
          },
          "satisfaction_score": {
            "description": "Overall satisfaction (0-100)",
            "title": "Satisfaction Score",
            "type": "number"
          },
          "satisfies_roles": {
            "description": "Roles satisfied by this option",
            "items": {
              "type": "string"
            },
            "title": "Satisfies Roles",
            "type": "array"
          },
          "tradeoffs": {
            "description": "Tradeoffs for each role",
            "items": {
              "$ref": "#/components/schemas/Tradeoff"
            },
            "title": "Tradeoffs",
            "type": "array"
          }
        },
        "required": [
          "option",
          "satisfies_roles",
          "satisfaction_score",
          "tradeoffs"
        ],
        "title": "AlignedOption",
        "type": "object"
      },
      "AlternativeMethod": {
        "description": "Alternative identification method assessment.\n\nDocuments whether alternative methods (backdoor, front-door, IV, do-calculus)\nare applicable and why.",
        "example": {
          "applicable": false,
          "method": "front_door",
          "reason": "No mediator set completely captures causal pathway"
        },
        "properties": {
          "applicable": {
            "description": "Whether this method is applicable to the problem",
            "title": "Applicable",
            "type": "boolean"
          },
          "method": {
            "description": "Method name (e.g., 'backdoor', 'front_door', 'instrumental_variables')",
            "title": "Method",
            "type": "string"
          },
          "reason": {
            "description": "Why the method is or is not applicable",
            "title": "Reason",
            "type": "string"
          }
        },
        "required": [
          "method",
          "applicable",
          "reason"
        ],
        "title": "AlternativeMethod",
        "type": "object"
      },
      "AnalysisOptions": {
        "description": "Configuration options for the robustness analysis.",
        "example": {
          "include_pareto": true,
          "include_voi": true,
          "monte_carlo_samples": 1000,
          "perturbation_range": 0.5,
          "sample_sizes_for_evsi": [
            10,
            50,
            100
          ],
          "sensitivity_top_n": 5,
          "timeout_ms": 5000
        },
        "properties": {
          "include_pareto": {
            "default": true,
            "description": "Include Pareto frontier analysis for multi-goal",
            "title": "Include Pareto",
            "type": "boolean"
          },
          "include_voi": {
            "default": true,
            "description": "Include Value of Information analysis",
            "title": "Include Voi",
            "type": "boolean"
          },
          "monte_carlo_samples": {
            "default": 1000,
            "description": "Number of Monte Carlo samples for uncertainty",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "Monte Carlo Samples",
            "type": "integer"
          },
          "perturbation_range": {
            "default": 0.5,
            "description": "Maximum perturbation for robustness bounds (0.5 = \u00b150%)",
            "exclusiveMinimum": 0.0,
            "maximum": 1.0,
            "title": "Perturbation Range",
            "type": "number"
          },
          "sample_sizes_for_evsi": {
            "default": [
              10,
              50,
              100
            ],
            "description": "Sample sizes to consider for EVSI calculation",
            "items": {
              "type": "integer"
            },
            "title": "Sample Sizes For Evsi",
            "type": "array"
          },
          "sensitivity_top_n": {
            "default": 5,
            "description": "Number of top sensitive parameters to return",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Sensitivity Top N",
            "type": "integer"
          },
          "timeout_ms": {
            "anyOf": [
              {
                "maximum": 60000.0,
                "minimum": 1000.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 5000,
            "description": "Maximum computation time in milliseconds",
            "title": "Timeout Ms"
          }
        },
        "title": "AnalysisOptions",
        "type": "object"
      },
      "Assumption": {
        "description": "An assumption to test in sensitivity analysis.",
        "example": {
          "current_value": 0.5,
          "name": "Customer price sensitivity",
          "type": "parametric",
          "variation_range": {
            "max": 0.8,
            "min": 0.3
          }
        },
        "properties": {
          "current_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "number"
              },
              {
                "type": "object"
              }
            ],
            "description": "Current assumed value",
            "title": "Current Value"
          },
          "name": {
            "description": "Assumption name",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "type": "string"
          },
          "type": {
            "description": "Assumption type: parametric, structural, or distributional",
            "maxLength": 50,
            "minLength": 1,
            "title": "Type",
            "type": "string"
          },
          "variation_range": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Range to test (min/max values)",
            "title": "Variation Range"
          }
        },
        "required": [
          "name",
          "current_value",
          "type"
        ],
        "title": "Assumption",
        "type": "object"
      },
      "AssumptionAnalysis": {
        "description": "Analysis of a single assumption.",
        "properties": {
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in assumption"
          },
          "current_value": {
            "description": "Current assumed value",
            "title": "Current Value"
          },
          "evidence": {
            "description": "Evidence for this assumption",
            "title": "Evidence",
            "type": "string"
          },
          "impact": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImpactAssessment"
              }
            ],
            "description": "Impact assessment"
          },
          "importance": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImportanceLevel"
              }
            ],
            "description": "Importance level"
          },
          "name": {
            "description": "Assumption name",
            "title": "Name",
            "type": "string"
          },
          "recommendation": {
            "description": "Recommended action",
            "title": "Recommendation",
            "type": "string"
          }
        },
        "required": [
          "name",
          "current_value",
          "importance",
          "impact",
          "confidence",
          "evidence",
          "recommendation"
        ],
        "title": "AssumptionAnalysis",
        "type": "object"
      },
      "AssumptionDetail": {
        "description": "Individual assumption required for causal identification.\n\nProvides structured information about each assumption, including\nits type, description, and criticality.",
        "example": {
          "critical": true,
          "description": "No unmeasured confounders after adjusting for adjustment set",
          "type": "no_unmeasured_confounding"
        },
        "properties": {
          "critical": {
            "description": "Whether this assumption is critical for identification",
            "title": "Critical",
            "type": "boolean"
          },
          "description": {
            "description": "Human-readable explanation of the assumption",
            "title": "Description",
            "type": "string"
          },
          "type": {
            "description": "Assumption type (e.g., 'no_unmeasured_confounding', 'positivity')",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "description",
          "critical"
        ],
        "title": "AssumptionDetail",
        "type": "object"
      },
      "AssumptionSensitivity": {
        "description": "Sensitivity information for a single assumption/variable.",
        "example": {
          "impact": "10% change in market size estimate leads to 25% swing in projected ROI",
          "sensitivity": 0.92,
          "variable": "n_market_size"
        },
        "properties": {
          "impact": {
            "description": "Description of impact",
            "maxLength": 500,
            "title": "Impact",
            "type": "string"
          },
          "sensitivity": {
            "description": "Sensitivity score (0-1), higher = more sensitive",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Sensitivity",
            "type": "number"
          },
          "variable": {
            "description": "Node ID or variable name",
            "maxLength": 100,
            "title": "Variable",
            "type": "string"
          }
        },
        "required": [
          "variable",
          "sensitivity",
          "impact"
        ],
        "title": "AssumptionSensitivity",
        "type": "object"
      },
      "BatchCounterfactualItem": {
        "description": "Single item in batch counterfactual response.",
        "properties": {
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Error message (if failed)",
            "title": "Error"
          },
          "index": {
            "description": "Index in the original request list",
            "title": "Index",
            "type": "integer"
          },
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounterfactualResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Counterfactual result (if successful)"
          },
          "success": {
            "description": "Whether this request succeeded",
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": [
          "index",
          "success"
        ],
        "title": "BatchCounterfactualItem",
        "type": "object"
      },
      "BatchValidationItem": {
        "description": "Single item in batch validation response.",
        "properties": {
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Error message (if failed)",
            "title": "Error"
          },
          "index": {
            "description": "Index in the original request list",
            "title": "Index",
            "type": "integer"
          },
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CausalValidationResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Validation result (if successful)"
          },
          "success": {
            "description": "Whether this request succeeded",
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": [
          "index",
          "success"
        ],
        "title": "BatchValidationItem",
        "type": "object"
      },
      "BatchValidationRequest": {
        "description": "Batch causal validation request.",
        "properties": {
          "requests": {
            "description": "List of causal validation requests to process",
            "items": {
              "$ref": "#/components/schemas/CausalValidationRequest"
            },
            "maxItems": 50,
            "minItems": 1,
            "title": "Requests",
            "type": "array"
          }
        },
        "required": [
          "requests"
        ],
        "title": "BatchValidationRequest",
        "type": "object"
      },
      "BatchValidationResponse": {
        "description": "Batch causal validation response.",
        "properties": {
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          },
          "results": {
            "description": "Results for each request",
            "items": {
              "$ref": "#/components/schemas/BatchValidationItem"
            },
            "title": "Results",
            "type": "array"
          },
          "summary": {
            "description": "Batch processing summary",
            "title": "Summary",
            "type": "object"
          }
        },
        "required": [
          "results",
          "summary"
        ],
        "title": "BatchValidationResponse",
        "type": "object"
      },
      "BayesianTeachingRequest": {
        "description": "Request for teaching examples.",
        "properties": {
          "context": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DecisionContext"
              }
            ],
            "description": "Decision context"
          },
          "current_beliefs": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserBeliefModel"
              }
            ],
            "description": "Current user beliefs"
          },
          "max_examples": {
            "default": 3,
            "description": "Maximum examples to return",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Max Examples",
            "type": "integer"
          },
          "target_concept": {
            "description": "Concept to teach (e.g., 'confounding', 'trade_offs')",
            "maxLength": 100,
            "minLength": 1,
            "title": "Target Concept",
            "type": "string"
          },
          "user_id": {
            "description": "User identifier",
            "maxLength": 100,
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9_\\-]+$",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "user_id",
          "current_beliefs",
          "target_concept",
          "context"
        ],
        "title": "BayesianTeachingRequest",
        "type": "object"
      },
      "BayesianTeachingResponse": {
        "description": "Response with teaching examples.",
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "examples": {
            "description": "Selected teaching examples",
            "items": {
              "$ref": "#/components/schemas/TeachingExample"
            },
            "title": "Examples",
            "type": "array"
          },
          "expected_learning_time": {
            "description": "Estimated time to learn concept",
            "title": "Expected Learning Time",
            "type": "string"
          },
          "explanation": {
            "description": "Overall teaching strategy explanation",
            "title": "Explanation",
            "type": "string"
          },
          "learning_objectives": {
            "description": "What user will learn",
            "items": {
              "type": "string"
            },
            "title": "Learning Objectives",
            "type": "array"
          }
        },
        "required": [
          "examples",
          "explanation",
          "learning_objectives",
          "expected_learning_time"
        ],
        "title": "BayesianTeachingResponse",
        "type": "object"
      },
      "BeliefDistribution": {
        "description": "Parameter belief distribution for sequential optimization.",
        "example": {
          "distribution_type": "normal",
          "parameter_name": "effect_price",
          "parameters": {
            "mean": 500,
            "std": 50
          }
        },
        "properties": {
          "distribution_type": {
            "description": "Distribution type: normal, uniform, beta",
            "title": "Distribution Type",
            "type": "string"
          },
          "parameter_name": {
            "description": "Parameter name",
            "title": "Parameter Name",
            "type": "string"
          },
          "parameters": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Distribution parameters (mean/std for normal, low/high for uniform, etc.)",
            "title": "Parameters",
            "type": "object"
          }
        },
        "required": [
          "parameter_name",
          "distribution_type",
          "parameters"
        ],
        "title": "BeliefDistribution",
        "type": "object"
      },
      "BestPractice": {
        "description": "Best practice check.",
        "properties": {
          "description": {
            "description": "Status description",
            "title": "Description",
            "type": "string"
          },
          "practice": {
            "description": "Best practice name",
            "title": "Practice",
            "type": "string"
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/BestPracticeStatus"
              }
            ],
            "description": "Adherence status"
          }
        },
        "required": [
          "practice",
          "status",
          "description"
        ],
        "title": "BestPractice",
        "type": "object"
      },
      "BestPracticeStatus": {
        "description": "Best practice adherence status.",
        "enum": [
          "followed",
          "partial",
          "not_followed"
        ],
        "title": "BestPracticeStatus",
        "type": "string"
      },
      "Breakpoint": {
        "description": "A breakpoint where conclusion changes.",
        "properties": {
          "assumption": {
            "description": "Assumption name",
            "title": "Assumption",
            "type": "string"
          },
          "threshold": {
            "description": "Threshold where conclusion flips",
            "title": "Threshold",
            "type": "string"
          }
        },
        "required": [
          "assumption",
          "threshold"
        ],
        "title": "Breakpoint",
        "type": "object"
      },
      "CalibrationMetrics": {
        "description": "Metrics assessing calibration quality.\n\nProvides statistics about the calibration set and\nhow well it covers the prediction space.",
        "example": {
          "calibration_size": 50,
          "interval_adaptivity": 0.48,
          "residual_statistics": {
            "iqr": 1500,
            "mean": 2500,
            "median": 2300,
            "std": 1200
          }
        },
        "properties": {
          "calibration_size": {
            "description": "Number of calibration samples",
            "title": "Calibration Size",
            "type": "integer"
          },
          "interval_adaptivity": {
            "description": "How much intervals adapt to local uncertainty (higher = more adaptive)",
            "title": "Interval Adaptivity",
            "type": "number"
          },
          "residual_statistics": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Statistics of calibration residuals (mean, std, median, iqr)",
            "title": "Residual Statistics",
            "type": "object"
          }
        },
        "required": [
          "calibration_size",
          "residual_statistics",
          "interval_adaptivity"
        ],
        "title": "CalibrationMetrics",
        "type": "object"
      },
      "CausalValidationRequest": {
        "description": "Request model for causal validation endpoint.",
        "example": {
          "dag": {
            "edges": [
              [
                "Price",
                "Revenue"
              ],
              [
                "Brand",
                "Price"
              ],
              [
                "Brand",
                "Revenue"
              ],
              [
                "CustomerAcquisition",
                "Revenue"
              ]
            ],
            "nodes": [
              "Price",
              "Brand",
              "Revenue",
              "CustomerAcquisition"
            ]
          },
          "outcome": "Revenue",
          "treatment": "Price"
        },
        "properties": {
          "dag": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DAGStructure"
              }
            ],
            "description": "Directed acyclic graph structure"
          },
          "observed": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "maxItems": 50,
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional list of observed variables",
            "title": "Observed"
          },
          "outcome": {
            "description": "Outcome variable name",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "type": "string"
          },
          "treatment": {
            "description": "Treatment variable name",
            "maxLength": 100,
            "minLength": 1,
            "title": "Treatment",
            "type": "string"
          }
        },
        "required": [
          "dag",
          "treatment",
          "outcome"
        ],
        "title": "CausalValidationRequest",
        "type": "object"
      },
      "CausalValidationResponse": {
        "description": "Enhanced response model for causal validation endpoint.\n\nProvides comprehensive Y\u2080-powered identifiability analysis including:\n- Identification method used (backdoor, front-door, IV, do-calculus)\n- Adjustment sets and identification formula\n- Structured assumptions with criticality\n- Alternative methods considered\n- Structured failure diagnosis when non-identifiable\n- Graceful degradation with fallback assessment",
        "examples": [
          {
            "title": "Identifiable (Backdoor)",
            "value": {
              "adjustment_sets": [
                [
                  "Brand"
                ],
                [
                  "Brand",
                  "CustomerAcquisition"
                ]
              ],
              "alternative_methods": [
                {
                  "applicable": true,
                  "method": "backdoor",
                  "reason": "Valid adjustment set exists"
                },
                {
                  "applicable": false,
                  "method": "front_door",
                  "reason": "No mediator set completely captures pathway"
                }
              ],
              "backdoor_paths": [
                "Price \u2190 Brand \u2192 Revenue"
              ],
              "confidence": "high",
              "explanation": {
                "assumptions": [
                  "No unmeasured confounding",
                  "Correct causal structure"
                ],
                "reasoning": "Brand influences both Price and Revenue, creating confounding. Controlling for Brand blocks the backdoor path.",
                "summary": "Effect is identifiable by controlling for Brand",
                "technical_basis": "Backdoor criterion satisfied with adjustment set {Brand}"
              },
              "identification_formula": "P(revenue|do(price)) = \u03a3_Brand P(revenue|price, Brand) P(Brand)",
              "method": "backdoor",
              "minimal_set": [
                "Brand"
              ],
              "status": "identifiable",
              "structured_assumptions": [
                {
                  "critical": true,
                  "description": "No unmeasured confounders after adjusting for Brand",
                  "type": "no_unmeasured_confounding"
                },
                {
                  "critical": true,
                  "description": "All price values possible at all Brand levels",
                  "type": "positivity"
                }
              ]
            }
          },
          {
            "title": "Non-Identifiable",
            "value": {
              "attempted_methods": [
                "backdoor",
                "front_door",
                "do_calculus"
              ],
              "confidence": "high",
              "explanation": {
                "assumptions": [
                  "DAG structure correct"
                ],
                "reasoning": "Backdoor paths exist but no valid adjustment set found with measured variables.",
                "summary": "Effect cannot be identified due to unmeasured confounding",
                "technical_basis": "No identification formula available"
              },
              "reason": "unmeasured_confounding",
              "status": "cannot_identify",
              "suggestions": [
                "Add measured confounders to the model",
                "Consider using instrumental variables if available",
                "Explore front-door criterion with full mediation"
              ]
            }
          }
        ],
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "adjustment_sets": {
            "anyOf": [
              {
                "items": {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Valid adjustment sets for causal identification",
            "title": "Adjustment Sets"
          },
          "alternative_methods": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/AlternativeMethod"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Alternative identification methods considered",
            "title": "Alternative Methods"
          },
          "attempted_methods": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Methods attempted during identification",
            "title": "Attempted Methods"
          },
          "backdoor_paths": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Backdoor paths that create confounding",
            "title": "Backdoor Paths"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in the analysis"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "fallback_assessment": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Best-effort assessment when Y\u2080 fails",
            "title": "Fallback Assessment"
          },
          "identification_formula": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable identification formula",
            "title": "Identification Formula"
          },
          "issues": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ValidationIssue"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Issues preventing identification (legacy compatibility)",
            "title": "Issues"
          },
          "legacy_suggestions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Legacy string suggestions (deprecated, use 'suggestions' instead)",
            "title": "Legacy Suggestions"
          },
          "method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Identification method used: backdoor, front_door, instrumental_variables, do_calculus",
            "title": "Method"
          },
          "minimal_set": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimal sufficient adjustment set",
            "title": "Minimal Set"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Why identification failed (e.g., 'no_causal_path', 'unmeasured_confounding', 'selection_bias')",
            "title": "Reason"
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__shared__ValidationStatus"
              }
            ],
            "description": "Validation status"
          },
          "structured_assumptions": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/AssumptionDetail"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required assumptions for valid identification (structured)",
            "title": "Structured Assumptions"
          },
          "suggestions": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ValidationSuggestion"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Structured, actionable suggestions to achieve identifiability",
            "title": "Suggestions"
          }
        },
        "required": [
          "status",
          "confidence",
          "explanation"
        ],
        "title": "CausalValidationResponse",
        "type": "object"
      },
      "ClampMetrics": {
        "description": "Tracks out-of-bounds sampling for diagnostics.",
        "properties": {
          "clamp_rate": {
            "description": "Fraction of samples clamped",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Clamp Rate",
            "type": "number"
          },
          "clamped_samples": {
            "description": "Samples that were clamped to bounds",
            "title": "Clamped Samples",
            "type": "integer"
          },
          "nodes_with_high_clamp_rate": {
            "description": "Nodes with >10% clamp rate",
            "items": {
              "type": "string"
            },
            "title": "Nodes With High Clamp Rate",
            "type": "array"
          },
          "total_node_samples": {
            "description": "Total node value samples",
            "title": "Total Node Samples",
            "type": "integer"
          }
        },
        "required": [
          "total_node_samples",
          "clamped_samples",
          "clamp_rate"
        ],
        "title": "ClampMetrics",
        "type": "object"
      },
      "CoherenceAnalysis": {
        "description": "Coherence analysis results.",
        "example": {
          "margin_to_second": 2000,
          "margin_to_second_pct": 4.0,
          "ranking_stability": "sensitive",
          "stability_score": 0.65,
          "top_option_positive": true,
          "warnings": [
            "Close race detected between top options"
          ]
        },
        "properties": {
          "margin_to_second": {
            "description": "Margin between top option and second-best",
            "title": "Margin To Second",
            "type": "number"
          },
          "margin_to_second_pct": {
            "description": "Margin as percentage of top option's value",
            "title": "Margin To Second Pct",
            "type": "number"
          },
          "ranking_stability": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RankingStability"
              }
            ],
            "description": "Stability classification of rankings"
          },
          "stability_score": {
            "description": "Numerical stability score (0-1, higher is more stable)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Stability Score",
            "type": "number"
          },
          "top_option_positive": {
            "description": "Whether the top option has positive expected value",
            "title": "Top Option Positive",
            "type": "boolean"
          },
          "warnings": {
            "description": "Coherence warnings and edge case flags",
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "top_option_positive",
          "margin_to_second",
          "margin_to_second_pct",
          "ranking_stability",
          "stability_score"
        ],
        "title": "CoherenceAnalysis",
        "type": "object"
      },
      "CoherenceAnalysisRequest": {
        "description": "Request model for coherence analysis endpoint.",
        "example": {
          "close_race_threshold": 0.05,
          "graph": {
            "edges": [
              {
                "from": "option_a",
                "to": "goal",
                "weight": 2.0
              },
              {
                "from": "option_b",
                "to": "goal",
                "weight": 1.8
              }
            ],
            "nodes": [
              {
                "id": "goal",
                "kind": "goal",
                "label": "Maximize Revenue"
              },
              {
                "id": "option_a",
                "kind": "option",
                "label": "Option A"
              },
              {
                "id": "option_b",
                "kind": "option",
                "label": "Option B"
              }
            ]
          },
          "num_perturbations": 100,
          "options": [
            {
              "expected_value": 50000,
              "name": "Option A",
              "option_id": "option_a",
              "rank": 1
            },
            {
              "expected_value": 48000,
              "name": "Option B",
              "option_id": "option_b",
              "rank": 2
            }
          ],
          "perturbation_magnitude": 0.1
        },
        "properties": {
          "close_race_threshold": {
            "default": 0.05,
            "description": "Threshold for detecting close races (relative difference)",
            "maximum": 0.5,
            "minimum": 0.0,
            "title": "Close Race Threshold",
            "type": "number"
          },
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph with nodes and edges"
          },
          "num_perturbations": {
            "default": 100,
            "description": "Number of perturbations for stability analysis",
            "maximum": 1000.0,
            "minimum": 10.0,
            "title": "Num Perturbations",
            "type": "integer"
          },
          "options": {
            "description": "Ranked options to analyze for coherence",
            "items": {
              "$ref": "#/components/schemas/src__models__requests__RankedOption__1"
            },
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "type": "array"
          },
          "perturbation_magnitude": {
            "default": 0.1,
            "description": "Magnitude of perturbations for stability testing (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Perturbation Magnitude",
            "type": "number"
          }
        },
        "required": [
          "graph",
          "options"
        ],
        "title": "CoherenceAnalysisRequest",
        "type": "object"
      },
      "CoherenceAnalysisResponse": {
        "description": "Response model for coherence analysis endpoint.",
        "example": {
          "coherence_analysis": {
            "margin_to_second": 2000,
            "margin_to_second_pct": 4.0,
            "ranking_stability": "sensitive",
            "stability_score": 0.65,
            "top_option_positive": true,
            "warnings": [
              "Close race detected between top options"
            ]
          },
          "recommendations": [
            "Consider gathering more data to reduce uncertainty",
            "Top options are close - decision may depend on risk tolerance"
          ],
          "schema_version": "coherence.v1",
          "stability_analysis": {
            "most_frequent_alternative": "option_b",
            "num_perturbations": 100,
            "ranking_change_rate": 0.35,
            "ranking_changes": 35,
            "sample_perturbations": []
          }
        },
        "properties": {
          "coherence_analysis": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CoherenceAnalysis"
              }
            ],
            "description": "Core coherence metrics"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "recommendations": {
            "description": "Actionable recommendations based on analysis",
            "items": {
              "type": "string"
            },
            "title": "Recommendations",
            "type": "array"
          },
          "schema_version": {
            "default": "coherence.v1",
            "description": "Schema version",
            "title": "Schema Version",
            "type": "string"
          },
          "stability_analysis": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StabilityAnalysis"
              }
            ],
            "description": "Detailed stability analysis"
          }
        },
        "required": [
          "coherence_analysis",
          "stability_analysis"
        ],
        "title": "CoherenceAnalysisResponse",
        "type": "object"
      },
      "CommonGround": {
        "description": "Common ground among team perspectives.",
        "properties": {
          "agreement_level": {
            "description": "Agreement percentage (0-100)",
            "title": "Agreement Level",
            "type": "number"
          },
          "shared_constraints": {
            "description": "Constraints shared by all roles",
            "items": {
              "type": "string"
            },
            "title": "Shared Constraints",
            "type": "array"
          },
          "shared_goals": {
            "description": "Goals shared by all roles",
            "items": {
              "type": "string"
            },
            "title": "Shared Goals",
            "type": "array"
          }
        },
        "required": [
          "shared_goals",
          "shared_constraints",
          "agreement_level"
        ],
        "title": "CommonGround",
        "type": "object"
      },
      "ComparisonMetrics": {
        "description": "Comparison of conformal vs standard Monte Carlo intervals.\n\nShows how conformal intervals differ from traditional\nuncertainty quantification approaches.",
        "example": {
          "conformal_interval": {
            "Revenue": [
              48000,
              56000
            ]
          },
          "interpretation": "Conformal interval is 33% wider, providing more honest uncertainty quantification with finite-sample guarantees",
          "monte_carlo_interval": {
            "Revenue": {
              "confidence_level": 0.95,
              "lower": 49000,
              "upper": 55000
            }
          },
          "width_ratio": {
            "Revenue": 1.33
          }
        },
        "properties": {
          "conformal_interval": {
            "additionalProperties": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array"
            },
            "description": "Conformal prediction intervals",
            "title": "Conformal Interval",
            "type": "object"
          },
          "interpretation": {
            "description": "Plain English interpretation of the comparison",
            "title": "Interpretation",
            "type": "string"
          },
          "monte_carlo_interval": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ConfidenceInterval"
            },
            "description": "Standard Monte Carlo confidence intervals",
            "title": "Monte Carlo Interval",
            "type": "object"
          },
          "width_ratio": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Ratio of conformal width to Monte Carlo width",
            "title": "Width Ratio",
            "type": "object"
          }
        },
        "required": [
          "monte_carlo_interval",
          "conformal_interval",
          "width_ratio",
          "interpretation"
        ],
        "title": "ComparisonMetrics",
        "type": "object"
      },
      "ConclusionStatement": {
        "description": "Conclusion statement for sensitivity analysis.",
        "properties": {
          "base_case": {
            "description": "Base case result value",
            "title": "Base Case",
            "type": "number"
          },
          "statement": {
            "description": "The conclusion being tested",
            "title": "Statement",
            "type": "string"
          }
        },
        "required": [
          "statement",
          "base_case"
        ],
        "title": "ConclusionStatement",
        "type": "object"
      },
      "ConditionExpression": {
        "description": "Machine-readable condition expression.",
        "example": {
          "operator": "<",
          "parameter": "marketing_roi",
          "value": 0.3
        },
        "properties": {
          "operator": {
            "description": "Comparison operator",
            "pattern": "^(<|<=|>|>=|==|in_range)$",
            "title": "Operator",
            "type": "string"
          },
          "parameter": {
            "description": "Parameter name being conditioned on",
            "title": "Parameter",
            "type": "string"
          },
          "value": {
            "description": "Threshold value or range tuple for 'in_range'",
            "title": "Value"
          }
        },
        "required": [
          "parameter",
          "operator",
          "value"
        ],
        "title": "ConditionExpression",
        "type": "object"
      },
      "ConditionalAction": {
        "description": "A conditional action in a decision rule.",
        "example": {
          "action": "expand",
          "condition": "If demand_signal > 0.7",
          "expected_value_if_taken": 85000.0
        },
        "properties": {
          "action": {
            "description": "Action to take if condition is met",
            "title": "Action",
            "type": "string"
          },
          "condition": {
            "description": "Human-readable condition string",
            "title": "Condition",
            "type": "string"
          },
          "expected_value_if_taken": {
            "description": "Expected value if this action is taken",
            "title": "Expected Value If Taken",
            "type": "number"
          }
        },
        "required": [
          "condition",
          "action",
          "expected_value_if_taken"
        ],
        "title": "ConditionalAction",
        "type": "object"
      },
      "ConditionalIndependence": {
        "description": "Conditional independence assumption.\n\nRepresents an assumption that X \u22a5 Y | Z (X is independent of Y given Z).",
        "example": {
          "conditioning_set": [
            "Brand"
          ],
          "variable_a": "Revenue",
          "variable_b": "Competitors"
        },
        "properties": {
          "conditioning_set": {
            "description": "Variables to condition on",
            "items": {
              "type": "string"
            },
            "title": "Conditioning Set",
            "type": "array"
          },
          "variable_a": {
            "description": "First variable",
            "title": "Variable A",
            "type": "string"
          },
          "variable_b": {
            "description": "Second variable",
            "title": "Variable B",
            "type": "string"
          }
        },
        "required": [
          "variable_a",
          "variable_b"
        ],
        "title": "ConditionalIndependence",
        "type": "object"
      },
      "ConditionalRecommendRequest": {
        "description": "Request model for conditional recommendation endpoint.",
        "example": {
          "condition_types": [
            "threshold",
            "risk_profile"
          ],
          "max_conditions": 5,
          "parameters_to_condition_on": [
            "market_size",
            "competitor_response"
          ],
          "ranked_options": [
            {
              "distribution": {
                "parameters": {
                  "mean": 75000,
                  "std": 20000
                },
                "type": "normal"
              },
              "expected_value": 75000.0,
              "label": "Aggressive Expansion",
              "option_id": "option_a"
            },
            {
              "distribution": {
                "parameters": {
                  "mean": 50000,
                  "std": 5000
                },
                "type": "normal"
              },
              "expected_value": 50000.0,
              "label": "Conservative Growth",
              "option_id": "option_b"
            }
          ],
          "run_id": "analysis_001"
        },
        "properties": {
          "condition_types": {
            "default": [
              "threshold",
              "dominance",
              "risk_profile"
            ],
            "description": "Types of conditions to generate",
            "items": {
              "type": "string"
            },
            "maxItems": 5,
            "title": "Condition Types",
            "type": "array"
          },
          "max_conditions": {
            "default": 5,
            "description": "Maximum number of conditions to return",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Max Conditions",
            "type": "integer"
          },
          "parameters_to_condition_on": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "maxItems": 20,
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Parameters to generate conditions for (auto-detect if None)",
            "title": "Parameters To Condition On"
          },
          "ranked_options": {
            "description": "List of options ranked by expected value",
            "items": {
              "$ref": "#/components/schemas/src__models__requests__RankedOption__2"
            },
            "maxItems": 20,
            "minItems": 2,
            "title": "Ranked Options",
            "type": "array"
          },
          "run_id": {
            "description": "Unique identifier for this analysis run",
            "maxLength": 100,
            "minLength": 1,
            "title": "Run Id",
            "type": "string"
          }
        },
        "required": [
          "run_id",
          "ranked_options"
        ],
        "title": "ConditionalRecommendRequest",
        "type": "object"
      },
      "ConditionalRecommendResponse": {
        "description": "Response model for conditional recommendation endpoint.",
        "example": {
          "conditional_recommendations": [
            {
              "condition_description": "If marketing ROI drops below 30%",
              "condition_expression": {
                "operator": "<",
                "parameter": "marketing_roi",
                "value": 0.3
              },
              "condition_id": "cond_001",
              "condition_type": "threshold",
              "impact_magnitude": "high",
              "probability_of_condition": 0.25,
              "triggered_recommendation": {
                "confidence": "medium",
                "expected_value": 50000.0,
                "label": "Conservative Growth",
                "option_id": "option_b"
              }
            }
          ],
          "primary_recommendation": {
            "confidence": "high",
            "expected_value": 75000.0,
            "label": "Aggressive Expansion",
            "option_id": "option_a"
          },
          "robustness_summary": {
            "closest_flip_point": {
              "operator": "<",
              "parameter": "market_size",
              "value": 0.75
            },
            "conditions_count": 3,
            "recommendation_stability": "moderate",
            "safety_margin": 0.15
          },
          "schema_version": "conditional_recommend.v1"
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "conditional_recommendations": {
            "description": "List of conditional recommendations",
            "items": {
              "$ref": "#/components/schemas/ConditionalRecommendation"
            },
            "title": "Conditional Recommendations",
            "type": "array"
          },
          "primary_recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PrimaryRecommendation"
              }
            ],
            "description": "Primary (unconditional) recommendation"
          },
          "robustness_summary": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessSummary"
              }
            ],
            "description": "Summary of recommendation robustness"
          },
          "schema_version": {
            "default": "conditional_recommend.v1",
            "description": "Schema version for this response",
            "title": "Schema Version",
            "type": "string"
          }
        },
        "required": [
          "primary_recommendation",
          "conditional_recommendations",
          "robustness_summary"
        ],
        "title": "ConditionalRecommendResponse",
        "type": "object"
      },
      "ConditionalRecommendation": {
        "description": "A conditional recommendation that depends on parameter values.",
        "example": {
          "condition_description": "If marketing ROI drops below 0.3",
          "condition_expression": {
            "operator": "<",
            "parameter": "marketing_roi",
            "value": 0.3
          },
          "condition_id": "cond_001",
          "condition_type": "threshold",
          "impact_magnitude": "high",
          "probability_of_condition": 0.25,
          "triggered_recommendation": {
            "confidence": "medium",
            "expected_value": 50000.0,
            "label": "Conservative Growth",
            "option_id": "option_b"
          }
        },
        "properties": {
          "condition_description": {
            "description": "Human-readable description of the condition",
            "title": "Condition Description",
            "type": "string"
          },
          "condition_expression": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConditionExpression"
              }
            ],
            "description": "Machine-readable condition expression"
          },
          "condition_id": {
            "description": "Unique condition identifier",
            "title": "Condition Id",
            "type": "string"
          },
          "condition_type": {
            "description": "Type of condition",
            "pattern": "^(threshold|dominance|risk_profile|scenario)$",
            "title": "Condition Type",
            "type": "string"
          },
          "impact_magnitude": {
            "description": "Impact magnitude if condition is true",
            "pattern": "^(high|medium|low)$",
            "title": "Impact Magnitude",
            "type": "string"
          },
          "probability_of_condition": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Estimated probability that condition is true",
            "title": "Probability Of Condition"
          },
          "triggered_recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PrimaryRecommendation"
              }
            ],
            "description": "Recommendation when condition is true"
          }
        },
        "required": [
          "condition_id",
          "condition_type",
          "condition_description",
          "condition_expression",
          "triggered_recommendation",
          "impact_magnitude"
        ],
        "title": "ConditionalRecommendation",
        "type": "object"
      },
      "ConfidenceInterval": {
        "description": "Prediction interval for numerical estimates.\n\nNote on terminology: While named \"confidence interval\" for API consistency,\nthese bounds are computed as percentiles from Monte Carlo simulation samples.\nSpecifically, for a 95% interval:\n- lower = 2.5th percentile of simulated outcomes\n- upper = 97.5th percentile of simulated outcomes\n\nThis represents the range containing 95% of predicted outcomes given\nuncertainty in model parameters and inputs. Statistically, this is closer\nto a Bayesian credible interval or prediction interval than a frequentist\nconfidence interval.\n\nInterpretation: \"Given our model and uncertainty estimates, 95% of\nsimulated outcomes fall within this range.\"",
        "example": {
          "confidence_level": 0.95,
          "lower": 45000,
          "upper": 55000
        },
        "properties": {
          "confidence_level": {
            "default": 0.95,
            "description": "Coverage level (proportion of distribution captured)",
            "title": "Confidence Level",
            "type": "number"
          },
          "lower": {
            "description": "Lower bound (e.g., 2.5th percentile for 95% level)",
            "title": "Lower",
            "type": "number"
          },
          "upper": {
            "description": "Upper bound (e.g., 97.5th percentile for 95% level)",
            "title": "Upper",
            "type": "number"
          }
        },
        "required": [
          "lower",
          "upper"
        ],
        "title": "ConfidenceInterval",
        "type": "object"
      },
      "ConfidenceLevel": {
        "description": "Confidence level for analysis results.",
        "enum": [
          "high",
          "medium",
          "low"
        ],
        "title": "ConfidenceLevel",
        "type": "string"
      },
      "ConfidenceLevelEnum": {
        "description": "Confidence level for recommendations.",
        "enum": [
          "high",
          "medium",
          "low"
        ],
        "title": "ConfidenceLevelEnum",
        "type": "string"
      },
      "Conflict": {
        "description": "A conflict between team perspectives.",
        "properties": {
          "about": {
            "description": "What the conflict is about",
            "title": "About",
            "type": "string"
          },
          "between": {
            "description": "Roles in conflict",
            "items": {
              "type": "string"
            },
            "title": "Between",
            "type": "array"
          },
          "severity": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConflictSeverity"
              }
            ],
            "description": "Conflict severity"
          },
          "suggestion": {
            "description": "Potential resolution",
            "title": "Suggestion",
            "type": "string"
          }
        },
        "required": [
          "between",
          "about",
          "severity",
          "suggestion"
        ],
        "title": "Conflict",
        "type": "object"
      },
      "ConflictSeverity": {
        "description": "Severity of team alignment conflict.",
        "enum": [
          "minor",
          "moderate",
          "major"
        ],
        "title": "ConflictSeverity",
        "type": "string"
      },
      "ConformalCounterfactualRequest": {
        "description": "Request model for conformal prediction endpoint.\n\nProvides finite-sample valid prediction intervals with\nguaranteed coverage using conformal prediction methods.",
        "example": {
          "calibration_data": [
            {
              "inputs": {
                "Price": 40
              },
              "outcome": {
                "Revenue": 30000
              }
            },
            {
              "inputs": {
                "Price": 45
              },
              "outcome": {
                "Revenue": 32500
              }
            },
            {
              "inputs": {
                "Price": 50
              },
              "outcome": {
                "Revenue": 35000
              }
            }
          ],
          "confidence_level": 0.95,
          "intervention": {
            "Price": 50
          },
          "method": "split",
          "model": {
            "distributions": {
              "noise": {
                "parameters": {
                  "mean": 0,
                  "std": 1000
                },
                "type": "normal"
              }
            },
            "equations": {
              "Revenue": "10000 + 500*Price"
            },
            "variables": [
              "Price",
              "Revenue"
            ]
          },
          "samples": 1000,
          "seed": 42
        },
        "properties": {
          "calibration_data": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ObservationPoint"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Historical observations for calibration (optional if model has built-in calibration)",
            "title": "Calibration Data"
          },
          "confidence_level": {
            "default": 0.95,
            "description": "Target coverage level (1-alpha), e.g., 0.95 for 95% coverage",
            "maximum": 0.999,
            "minimum": 0.5,
            "title": "Confidence Level",
            "type": "number"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Intervention to apply",
            "title": "Intervention",
            "type": "object"
          },
          "method": {
            "default": "split",
            "description": "Conformal method: 'split', 'cv+', or 'jackknife+'",
            "title": "Method",
            "type": "string"
          },
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          },
          "samples": {
            "default": 1000,
            "description": "Number of samples for Monte Carlo comparison",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "Samples",
            "type": "integer"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Random seed for reproducibility",
            "title": "Seed"
          }
        },
        "required": [
          "model",
          "intervention"
        ],
        "title": "ConformalCounterfactualRequest",
        "type": "object"
      },
      "ConformalCounterfactualResponse": {
        "description": "Response model for conformal counterfactual prediction.\n\nProvides prediction intervals with finite-sample valid\ncoverage guarantees, calibration quality metrics, and\ncomparison to standard methods.",
        "example": {
          "calibration_quality": {
            "calibration_size": 50,
            "interval_adaptivity": 0.48,
            "residual_statistics": {
              "iqr": 1500,
              "mean": 2500,
              "median": 2300,
              "std": 1200
            }
          },
          "comparison_to_standard": {
            "conformal_interval": {
              "Revenue": [
                48000,
                56000
              ]
            },
            "interpretation": "Conformal interval is 33% wider",
            "monte_carlo_interval": {
              "Revenue": {
                "confidence_level": 0.95,
                "lower": 49000,
                "upper": 55000
              }
            },
            "width_ratio": {
              "Revenue": 1.33
            }
          },
          "coverage_guarantee": {
            "assumptions": [
              "Exchangeability of calibration and test points"
            ],
            "finite_sample_valid": true,
            "guaranteed_coverage": 0.9474,
            "nominal_coverage": 0.95
          },
          "explanation": {
            "assumptions": [
              "Exchangeability between calibration and test data"
            ],
            "reasoning": "Using split conformal with 50 calibration points",
            "summary": "Conformal prediction provides 94.7% guaranteed coverage",
            "technical_basis": "Finite-sample conformal prediction (Vovk et al. 2005)"
          },
          "prediction_interval": {
            "interval_width": {
              "Revenue": 8000
            },
            "lower_bound": {
              "Revenue": 48000
            },
            "point_estimate": {
              "Revenue": 52000
            },
            "upper_bound": {
              "Revenue": 56000
            }
          }
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "calibration_quality": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CalibrationMetrics"
              }
            ],
            "description": "Quality metrics for calibration set"
          },
          "comparison_to_standard": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ComparisonMetrics"
              }
            ],
            "description": "Comparison to standard Monte Carlo intervals"
          },
          "coverage_guarantee": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CoverageGuarantee"
              }
            ],
            "description": "Coverage guarantee details"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "prediction_interval": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConformalInterval"
              }
            ],
            "description": "Conformal prediction interval"
          }
        },
        "required": [
          "prediction_interval",
          "coverage_guarantee",
          "calibration_quality",
          "comparison_to_standard",
          "explanation"
        ],
        "title": "ConformalCounterfactualResponse",
        "type": "object"
      },
      "ConformalInterval": {
        "description": "Conformal prediction interval with guaranteed coverage.\n\nProvides lower and upper bounds with finite-sample validity.",
        "example": {
          "interval_width": {
            "Revenue": 8000
          },
          "lower_bound": {
            "Revenue": 48000
          },
          "point_estimate": {
            "Revenue": 52000
          },
          "upper_bound": {
            "Revenue": 56000
          }
        },
        "properties": {
          "interval_width": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Width of prediction interval (upper - lower)",
            "title": "Interval Width",
            "type": "object"
          },
          "lower_bound": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Lower bound of prediction interval for each outcome variable",
            "title": "Lower Bound",
            "type": "object"
          },
          "point_estimate": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Point estimate for each outcome variable",
            "title": "Point Estimate",
            "type": "object"
          },
          "upper_bound": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Upper bound of prediction interval for each outcome variable",
            "title": "Upper Bound",
            "type": "object"
          }
        },
        "required": [
          "lower_bound",
          "upper_bound",
          "point_estimate",
          "interval_width"
        ],
        "title": "ConformalInterval",
        "type": "object"
      },
      "ConformalRequest": {
        "description": "Request model for conformal prediction endpoint.",
        "example": {
          "graph": {
            "edges": [],
            "nodes": [
              {
                "id": "n_revenue",
                "kind": "outcome",
                "label": "Revenue"
              }
            ]
          },
          "timeout": 12000,
          "variable": "n_revenue"
        },
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "timeout": {
            "anyOf": [
              {
                "maximum": 30000.0,
                "minimum": 1000.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 12000,
            "description": "Request timeout in milliseconds",
            "title": "Timeout"
          },
          "variable": {
            "description": "Variable or outcome to predict",
            "maxLength": 100,
            "title": "Variable",
            "type": "string"
          }
        },
        "required": [
          "graph",
          "variable"
        ],
        "title": "ConformalRequest",
        "type": "object"
      },
      "ConformalResponse": {
        "description": "Response model for conformal prediction.",
        "example": {
          "confidence_level": 0.9,
          "prediction_interval": [
            45000,
            78000
          ],
          "uncertainty_source": "Market demand volatility and competitor response timing"
        },
        "properties": {
          "confidence_level": {
            "description": "Confidence level (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence Level",
            "type": "number"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "prediction_interval": {
            "description": "Numeric bounds [lower, upper]",
            "items": {
              "type": "number"
            },
            "maxItems": 2,
            "minItems": 2,
            "title": "Prediction Interval",
            "type": "array"
          },
          "uncertainty_source": {
            "description": "Main source of uncertainty",
            "maxLength": 500,
            "title": "Uncertainty Source",
            "type": "string"
          }
        },
        "required": [
          "prediction_interval",
          "confidence_level",
          "uncertainty_source"
        ],
        "title": "ConformalResponse",
        "type": "object"
      },
      "ConstraintNode": {
        "description": "A constraint node in the decision graph.",
        "example": {
          "constraint_type": "budget",
          "id": "budget_constraint",
          "label": "Budget must not exceed $100,000",
          "priority": "hard",
          "relation": "le",
          "target_variable": "total_cost",
          "threshold": 100000.0
        },
        "properties": {
          "constraint_type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConstraintType"
              }
            ],
            "description": "Type of constraint"
          },
          "id": {
            "description": "Unique constraint identifier",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "type": "string"
          },
          "label": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable constraint label",
            "title": "Label"
          },
          "priority": {
            "anyOf": [
              {
                "pattern": "^(hard|soft|medium)$",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "medium",
            "description": "Constraint priority: hard, soft, medium",
            "title": "Priority"
          },
          "relation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConstraintRelation"
              }
            ],
            "description": "Relation operator"
          },
          "target_variable": {
            "description": "Variable this constraint applies to",
            "maxLength": 100,
            "minLength": 1,
            "title": "Target Variable",
            "type": "string"
          },
          "threshold": {
            "description": "Threshold value",
            "title": "Threshold",
            "type": "number"
          }
        },
        "required": [
          "id",
          "constraint_type",
          "target_variable",
          "relation",
          "threshold"
        ],
        "title": "ConstraintNode",
        "type": "object"
      },
      "ConstraintRelation": {
        "description": "Constraint relation operators.",
        "enum": [
          "le",
          "ge",
          "eq",
          "lt",
          "gt"
        ],
        "title": "ConstraintRelation",
        "type": "string"
      },
      "ConstraintType": {
        "description": "Types of constraints supported.",
        "enum": [
          "threshold",
          "budget",
          "capacity",
          "dependency",
          "exclusion",
          "requirement"
        ],
        "title": "ConstraintType",
        "type": "string"
      },
      "ConstraintValidationResult": {
        "description": "Result of validating a single constraint specification.",
        "example": {
          "constraint_id": "budget_limit",
          "is_valid": true,
          "issues": []
        },
        "properties": {
          "constraint_id": {
            "description": "ID of the constraint",
            "title": "Constraint Id",
            "type": "string"
          },
          "is_valid": {
            "description": "Whether the constraint is properly specified",
            "title": "Is Valid",
            "type": "boolean"
          },
          "issues": {
            "description": "List of issues with the constraint specification",
            "items": {
              "type": "string"
            },
            "title": "Issues",
            "type": "array"
          }
        },
        "required": [
          "constraint_id",
          "is_valid"
        ],
        "title": "ConstraintValidationResult",
        "type": "object"
      },
      "ConstraintViolation": {
        "description": "Details of a constraint violation.",
        "example": {
          "actual_value": 120000,
          "constraint_id": "budget_limit",
          "constraint_label": "Budget must not exceed $100,000",
          "is_hard_violation": true,
          "threshold": 100000,
          "violation_magnitude": 20000
        },
        "properties": {
          "actual_value": {
            "description": "Actual value that violated the constraint",
            "title": "Actual Value",
            "type": "number"
          },
          "constraint_id": {
            "description": "ID of the violated constraint",
            "title": "Constraint Id",
            "type": "string"
          },
          "constraint_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable constraint label",
            "title": "Constraint Label"
          },
          "is_hard_violation": {
            "description": "Whether this is a hard constraint violation",
            "title": "Is Hard Violation",
            "type": "boolean"
          },
          "threshold": {
            "description": "Threshold value that was violated",
            "title": "Threshold",
            "type": "number"
          },
          "violation_magnitude": {
            "description": "How much the constraint was violated by",
            "title": "Violation Magnitude",
            "type": "number"
          }
        },
        "required": [
          "constraint_id",
          "actual_value",
          "threshold",
          "violation_magnitude",
          "is_hard_violation"
        ],
        "title": "ConstraintViolation",
        "type": "object"
      },
      "ContrastiveAlternative": {
        "description": "Single contrastive alternative suggestion.",
        "example": {
          "change": "Increase initial marketing budget by 40%",
          "feasibility": 0.85,
          "outcome_diff": "Would increase market penetration from 12% to 18% in Q1"
        },
        "properties": {
          "change": {
            "description": "What to change",
            "maxLength": 1000,
            "title": "Change",
            "type": "string"
          },
          "feasibility": {
            "description": "Implementation feasibility (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Feasibility",
            "type": "number"
          },
          "outcome_diff": {
            "description": "How outcome would differ",
            "maxLength": 1000,
            "title": "Outcome Diff",
            "type": "string"
          }
        },
        "required": [
          "change",
          "outcome_diff",
          "feasibility"
        ],
        "title": "ContrastiveAlternative",
        "type": "object"
      },
      "ContrastiveExplanationRequest": {
        "description": "Request model for contrastive explanation endpoint.",
        "example": {
          "constraints": {
            "feasible": [
              "Price",
              "Marketing"
            ],
            "fixed": [
              "Quality"
            ],
            "max_changes": 2,
            "minimize": "cost"
          },
          "current_state": {
            "Marketing": 30000,
            "Price": 40,
            "Quality": 7.5
          },
          "model": {
            "distributions": {
              "baseline_noise": {
                "parameters": {
                  "mean": 0,
                  "std": 1000
                },
                "type": "normal"
              }
            },
            "equations": {
              "Brand": "50 + 0.3 * Quality - 0.1 * Price",
              "Revenue": "10000 + 800 * Price + 200 * Quality + 0.5 * Marketing + 300 * Brand"
            },
            "variables": [
              "Price",
              "Quality",
              "Marketing",
              "Brand",
              "Revenue"
            ]
          },
          "observed_outcome": {
            "Revenue": 40000
          },
          "seed": 42,
          "target_outcome": {
            "Revenue": [
              50000,
              55000
            ]
          }
        },
        "properties": {
          "constraints": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InterventionConstraints"
              }
            ],
            "description": "Constraints on which variables can change and how"
          },
          "current_state": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Current values for all variables",
            "title": "Current State",
            "type": "object"
          },
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          },
          "observed_outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Current observed outcome values",
            "title": "Observed Outcome",
            "type": "object"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Random seed for deterministic results",
            "title": "Seed"
          },
          "target_outcome": {
            "additionalProperties": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array"
            },
            "description": "Target outcome ranges (variable \u2192 (min, max))",
            "title": "Target Outcome",
            "type": "object"
          }
        },
        "required": [
          "model",
          "current_state",
          "observed_outcome",
          "target_outcome",
          "constraints"
        ],
        "title": "ContrastiveExplanationRequest",
        "type": "object"
      },
      "ContrastiveExplanationResponse": {
        "description": "Response model for contrastive explanation endpoint.",
        "example": {
          "comparison": {
            "best_by_cost": 1,
            "best_by_feasibility": 1,
            "best_by_robustness": 1,
            "synergies": "Single intervention sufficient for target",
            "tradeoffs": "No significant tradeoffs"
          },
          "explanation": {
            "assumptions": [
              "Price elasticity remains constant",
              "No competitive response"
            ],
            "reasoning": "Price has strong causal effect on Revenue. A 12.5% increase yields expected \u00a311k revenue gain.",
            "summary": "Increase Price from \u00a340 to \u00a345 to achieve target revenue",
            "technical_basis": "Binary search with FACET robustness verification"
          },
          "minimal_interventions": [
            {
              "changes": {
                "Price": {
                  "delta": 5,
                  "from_value": 40,
                  "relative_change": 12.5,
                  "to_value": 45,
                  "unit": "\u00a3",
                  "variable": "Price"
                }
              },
              "confidence_interval": {
                "Revenue": {
                  "confidence_level": 0.95,
                  "lower": 48000,
                  "upper": 54000
                }
              },
              "cost_estimate": "low",
              "expected_outcome": {
                "Revenue": 51000
              },
              "feasibility": 0.95,
              "rank": 1,
              "robustness": "robust",
              "robustness_score": 0.85
            }
          ]
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "comparison": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InterventionComparison"
              }
            ],
            "description": "Comparison of interventions"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation of recommendations"
          },
          "minimal_interventions": {
            "description": "Minimal interventions ranked by optimization criterion",
            "items": {
              "$ref": "#/components/schemas/MinimalIntervention"
            },
            "title": "Minimal Interventions",
            "type": "array"
          }
        },
        "required": [
          "minimal_interventions",
          "comparison",
          "explanation"
        ],
        "title": "ContrastiveExplanationResponse",
        "type": "object"
      },
      "ContrastiveRequest": {
        "description": "Request model for contrastive explanation endpoint.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "n_launch_product",
                "to": "n_market_success",
                "weight": 2.0
              }
            ],
            "nodes": [
              {
                "id": "n_launch_product",
                "kind": "decision",
                "label": "Launch Product"
              },
              {
                "id": "n_market_success",
                "kind": "outcome",
                "label": "Market Success"
              }
            ]
          },
          "target_outcome": "n_market_success",
          "timeout": 12000
        },
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "target_outcome": {
            "description": "Desired outcome or node ID to analyze",
            "maxLength": 100,
            "title": "Target Outcome",
            "type": "string"
          },
          "timeout": {
            "anyOf": [
              {
                "maximum": 30000.0,
                "minimum": 1000.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 12000,
            "description": "Request timeout in milliseconds",
            "title": "Timeout"
          }
        },
        "required": [
          "graph",
          "target_outcome"
        ],
        "title": "ContrastiveRequest",
        "type": "object"
      },
      "ContrastiveResponse": {
        "description": "Response model for contrastive explanation.",
        "example": {
          "alternatives": [
            {
              "change": "Increase initial marketing budget by 40%",
              "feasibility": 0.85,
              "outcome_diff": "Would increase market penetration from 12% to 18% in Q1"
            },
            {
              "change": "Partner with established distributor",
              "feasibility": 0.6,
              "outcome_diff": "Would reduce time-to-market by 3 months but increase costs 15%"
            }
          ]
        },
        "properties": {
          "alternatives": {
            "description": "List of actionable alternatives",
            "items": {
              "$ref": "#/components/schemas/ContrastiveAlternative"
            },
            "title": "Alternatives",
            "type": "array"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "required": [
          "alternatives"
        ],
        "title": "ContrastiveResponse",
        "type": "object"
      },
      "CorrelationGroup": {
        "description": "Specification for a group of correlated factors.",
        "example": {
          "correlation": 0.7,
          "correlation_type": "pearson",
          "factors": [
            "demand",
            "competition"
          ],
          "group_id": "market_conditions",
          "label": "Demand and competition tend to move together"
        },
        "properties": {
          "correlation": {
            "description": "Correlation coefficient (-1 to 1). Positive = move together, negative = inverse",
            "maximum": 1.0,
            "minimum": -1.0,
            "title": "Correlation",
            "type": "number"
          },
          "correlation_type": {
            "anyOf": [
              {
                "pattern": "^(pearson|spearman|kendall)$",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "pearson",
            "description": "Type of correlation: 'pearson', 'spearman', or 'kendall'",
            "title": "Correlation Type"
          },
          "factors": {
            "description": "List of factor IDs that are correlated",
            "items": {
              "type": "string"
            },
            "maxItems": 20,
            "minItems": 2,
            "title": "Factors",
            "type": "array"
          },
          "group_id": {
            "description": "Unique identifier for the correlation group",
            "maxLength": 100,
            "minLength": 1,
            "title": "Group Id",
            "type": "string"
          },
          "label": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable description of the correlation",
            "title": "Label"
          }
        },
        "required": [
          "group_id",
          "factors",
          "correlation"
        ],
        "title": "CorrelationGroup",
        "type": "object"
      },
      "CorrelationMatrix": {
        "description": "Full correlation matrix specification for multiple factors.",
        "example": {
          "factors": [
            "demand",
            "competition",
            "price_sensitivity"
          ],
          "matrix": [
            [
              1.0,
              0.7,
              -0.3
            ],
            [
              0.7,
              1.0,
              0.2
            ],
            [
              -0.3,
              0.2,
              1.0
            ]
          ]
        },
        "properties": {
          "factors": {
            "description": "List of factor IDs in matrix order",
            "items": {
              "type": "string"
            },
            "maxItems": 50,
            "minItems": 2,
            "title": "Factors",
            "type": "array"
          },
          "matrix": {
            "description": "Correlation matrix (symmetric, diagonal = 1)",
            "items": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "title": "Matrix",
            "type": "array"
          }
        },
        "required": [
          "factors",
          "matrix"
        ],
        "title": "CorrelationMatrix",
        "type": "object"
      },
      "CorrelationMatrixAnalysis": {
        "description": "Analysis of the correlation matrix.",
        "example": {
          "condition_number": 3.2,
          "is_positive_semi_definite": true,
          "min_eigenvalue": 0.15
        },
        "properties": {
          "condition_number": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Condition number (high values indicate near-singularity)",
            "title": "Condition Number"
          },
          "is_positive_semi_definite": {
            "description": "Whether matrix is positive semi-definite (valid for sampling)",
            "title": "Is Positive Semi Definite",
            "type": "boolean"
          },
          "min_eigenvalue": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum eigenvalue (negative indicates not PSD)",
            "title": "Min Eigenvalue"
          },
          "suggested_regularization": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Suggested regularization if matrix is not PSD",
            "title": "Suggested Regularization"
          }
        },
        "required": [
          "is_positive_semi_definite"
        ],
        "title": "CorrelationMatrixAnalysis",
        "type": "object"
      },
      "CorrelationValidationRequest": {
        "description": "Request model for correlation group validation endpoint.",
        "example": {
          "check_positive_definite": true,
          "correlation_groups": [
            {
              "correlation": 0.7,
              "factors": [
                "demand",
                "competition"
              ],
              "group_id": "market_conditions"
            },
            {
              "correlation": 0.5,
              "factors": [
                "labor_cost",
                "material_cost"
              ],
              "group_id": "cost_factors"
            }
          ]
        },
        "properties": {
          "check_positive_definite": {
            "default": true,
            "description": "Check if implied correlation matrix is positive semi-definite",
            "title": "Check Positive Definite",
            "type": "boolean"
          },
          "correlation_groups": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/CorrelationGroup"
                },
                "maxItems": 50,
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "List of correlation groups to validate",
            "title": "Correlation Groups"
          },
          "correlation_matrix": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CorrelationMatrix"
              },
              {
                "type": "null"
              }
            ],
            "description": "Full correlation matrix (alternative to groups)"
          },
          "graph": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              },
              {
                "type": "null"
              }
            ],
            "description": "Graph to validate factor references against"
          }
        },
        "title": "CorrelationValidationRequest",
        "type": "object"
      },
      "CorrelationValidationResponse": {
        "description": "Response model for correlation validation endpoint.",
        "example": {
          "matrix_analysis": {
            "condition_number": 2.5,
            "is_positive_semi_definite": true,
            "min_eigenvalue": 0.3
          },
          "schema_version": "correlation.v1",
          "valid": true,
          "validated_groups": [
            {
              "correlation": 0.7,
              "factors": [
                "demand",
                "competition"
              ],
              "group_id": "market_conditions",
              "is_valid": true,
              "issues": []
            }
          ],
          "warnings": []
        },
        "properties": {
          "errors": {
            "description": "Validation errors (if valid=false)",
            "items": {
              "type": "string"
            },
            "title": "Errors",
            "type": "array"
          },
          "implied_matrix": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ImpliedCorrelationMatrix"
              },
              {
                "type": "null"
              }
            ],
            "description": "The implied correlation matrix from groups"
          },
          "matrix_analysis": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CorrelationMatrixAnalysis"
              },
              {
                "type": "null"
              }
            ],
            "description": "Analysis of the correlation matrix properties"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "schema_version": {
            "default": "correlation.v1",
            "description": "Schema version",
            "title": "Schema Version",
            "type": "string"
          },
          "valid": {
            "description": "Whether the correlation specification is valid for sampling",
            "title": "Valid",
            "type": "boolean"
          },
          "validated_groups": {
            "description": "Validation results for each correlation group",
            "items": {
              "$ref": "#/components/schemas/ValidatedCorrelationGroup"
            },
            "title": "Validated Groups",
            "type": "array"
          },
          "warnings": {
            "description": "Validation warnings",
            "items": {
              "$ref": "#/components/schemas/CorrelationValidationWarning"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "valid"
        ],
        "title": "CorrelationValidationResponse",
        "type": "object"
      },
      "CorrelationValidationWarning": {
        "description": "Warning from correlation validation.",
        "example": {
          "affected_factors": [
            "demand",
            "sales"
          ],
          "code": "HIGH_CORRELATION",
          "message": "Correlation of 0.95 between demand and sales may indicate redundancy"
        },
        "properties": {
          "affected_factors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Factor IDs affected by this warning",
            "title": "Affected Factors"
          },
          "affected_groups": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Group IDs affected by this warning",
            "title": "Affected Groups"
          },
          "code": {
            "description": "Warning code",
            "title": "Code",
            "type": "string"
          },
          "message": {
            "description": "Human-readable warning message",
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "code",
          "message"
        ],
        "title": "CorrelationValidationWarning",
        "type": "object"
      },
      "CounterfactualRequest": {
        "description": "Request model for counterfactual analysis endpoint.",
        "example": {
          "context": {
            "baseline_brand": 52
          },
          "intervention": {
            "Price": 15
          },
          "model": {
            "distributions": {
              "baseline_brand": {
                "parameters": {
                  "mean": 50,
                  "std": 5
                },
                "type": "normal"
              }
            },
            "equations": {
              "Brand": "baseline_brand + 0.3 * Price",
              "Revenue": "10000 + 500 * Price - 200 * Brand"
            },
            "variables": [
              "Price",
              "Brand",
              "Revenue"
            ]
          },
          "outcome": "Revenue"
        },
        "properties": {
          "context": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional observed context values",
            "title": "Context"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Intervention values mapping variable names to values",
            "title": "Intervention",
            "type": "object"
          },
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          },
          "outcome": {
            "description": "Outcome variable to predict",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "type": "string"
          },
          "preferences": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reserved for ActiVA preferences (Phase 1)",
            "title": "Preferences"
          },
          "user_context": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reserved for Bayesian Teaching context (Phase 1)",
            "title": "User Context"
          }
        },
        "required": [
          "model",
          "intervention",
          "outcome"
        ],
        "title": "CounterfactualRequest",
        "type": "object"
      },
      "CounterfactualResponse": {
        "description": "Response model for counterfactual analysis endpoint.",
        "example": {
          "explanation": {
            "assumptions": [
              "Structural equations correct"
            ],
            "reasoning": "Price increase drives growth...",
            "summary": "Revenue likely increases by \u00a345k-\u00a355k",
            "technical_basis": "FACET region-based analysis"
          },
          "prediction": {
            "confidence_interval": {
              "lower": 45000,
              "upper": 55000
            },
            "point_estimate": 51000,
            "sensitivity_range": {
              "explanation": "Range accounts for competitive effects",
              "optimistic": 62000,
              "pessimistic": 38000
            }
          },
          "robustness": {
            "critical_assumptions": [
              {
                "assumption": "Price sensitivity constant",
                "confidence": "medium",
                "impact": 15000,
                "recommendation": "A/B test before rollout"
              }
            ],
            "score": "moderate"
          },
          "scenario": {
            "intervention": {
              "Price": 15
            },
            "outcome": "Revenue"
          },
          "uncertainty": {
            "overall": "medium",
            "sources": [
              {
                "basis": "Historical data",
                "confidence": "medium",
                "explanation": "Brand changes take time",
                "factor": "Brand perception lag",
                "impact": 3000
              }
            ]
          }
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "prediction": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PredictionResults"
              }
            ],
            "description": "Prediction results"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessAnalysis"
              }
            ],
            "description": "Robustness analysis"
          },
          "scenario": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ScenarioDescription"
              }
            ],
            "description": "Scenario description"
          },
          "uncertainty": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UncertaintyBreakdown"
              }
            ],
            "description": "Uncertainty breakdown"
          }
        },
        "required": [
          "scenario",
          "prediction",
          "uncertainty",
          "robustness",
          "explanation"
        ],
        "title": "CounterfactualResponse",
        "type": "object"
      },
      "CoverageGuarantee": {
        "description": "Coverage guarantee for conformal prediction.\n\nDocuments the theoretical guarantee that the true value\nwill fall within the interval with specified probability.",
        "example": {
          "assumptions": [
            "Exchangeability of calibration and test points"
          ],
          "finite_sample_valid": true,
          "guaranteed_coverage": 0.9474,
          "nominal_coverage": 0.95
        },
        "properties": {
          "assumptions": {
            "description": "Assumptions required for coverage guarantee",
            "items": {
              "type": "string"
            },
            "title": "Assumptions",
            "type": "array"
          },
          "finite_sample_valid": {
            "description": "Whether guarantee holds for finite samples (always True for conformal)",
            "title": "Finite Sample Valid",
            "type": "boolean"
          },
          "guaranteed_coverage": {
            "description": "Provable coverage level accounting for finite samples",
            "title": "Guaranteed Coverage",
            "type": "number"
          },
          "nominal_coverage": {
            "description": "Requested coverage level (e.g., 0.95)",
            "title": "Nominal Coverage",
            "type": "number"
          }
        },
        "required": [
          "nominal_coverage",
          "guaranteed_coverage",
          "finite_sample_valid",
          "assumptions"
        ],
        "title": "CoverageGuarantee",
        "type": "object"
      },
      "CriterionResult": {
        "description": "Results for a single criterion with scores for all options.",
        "example": {
          "criterion_id": "revenue",
          "criterion_name": "Expected Revenue",
          "options": [
            {
              "option_id": "opt_a",
              "option_label": "Option A",
              "p10": 0.65,
              "p50": 0.85,
              "p90": 0.95
            },
            {
              "option_id": "opt_b",
              "option_label": "Option B",
              "p10": 0.45,
              "p50": 0.6,
              "p90": 0.75
            }
          ]
        },
        "properties": {
          "criterion_id": {
            "description": "Criterion identifier",
            "maxLength": 100,
            "minLength": 1,
            "title": "Criterion Id",
            "type": "string"
          },
          "criterion_name": {
            "description": "Human-readable criterion name",
            "maxLength": 200,
            "minLength": 1,
            "title": "Criterion Name",
            "type": "string"
          },
          "options": {
            "description": "Scores for each option on this criterion",
            "items": {
              "$ref": "#/components/schemas/OptionScore"
            },
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "type": "array"
          }
        },
        "required": [
          "criterion_id",
          "criterion_name",
          "options"
        ],
        "title": "CriterionResult",
        "type": "object"
      },
      "CriticalAssumption": {
        "description": "A critical assumption affecting robustness.",
        "example": {
          "assumption": "Customer price sensitivity remains constant",
          "confidence": "medium",
          "impact": 15000,
          "recommendation": "Consider A/B testing before full rollout"
        },
        "properties": {
          "assumption": {
            "description": "The assumption being tested",
            "title": "Assumption",
            "type": "string"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in this assumption"
          },
          "impact": {
            "description": "How much result changes if assumption is wrong",
            "title": "Impact",
            "type": "number"
          },
          "recommendation": {
            "description": "Recommended action",
            "title": "Recommendation",
            "type": "string"
          }
        },
        "required": [
          "assumption",
          "impact",
          "confidence",
          "recommendation"
        ],
        "title": "CriticalAssumption",
        "type": "object"
      },
      "CritiqueV2": {
        "description": "Structured critique for UI display.",
        "properties": {
          "affected_node_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Node IDs affected by this critique",
            "title": "Affected Node Ids"
          },
          "affected_option_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Option IDs affected by this critique",
            "title": "Affected Option Ids"
          },
          "code": {
            "description": "Machine-readable code, e.g., 'NO_PATH_TO_GOAL'",
            "title": "Code",
            "type": "string"
          },
          "id": {
            "description": "Unique identifier for this critique",
            "title": "Id",
            "type": "string"
          },
          "message": {
            "description": "Human-readable message (sanitised)",
            "title": "Message",
            "type": "string"
          },
          "severity": {
            "description": "Severity level",
            "enum": [
              "info",
              "warning",
              "error",
              "blocker"
            ],
            "title": "Severity",
            "type": "string"
          },
          "source": {
            "description": "Source of the critique (explicit, not derived)",
            "enum": [
              "validation",
              "analysis",
              "engine"
            ],
            "title": "Source",
            "type": "string"
          },
          "suggestion": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Actionable suggestion to resolve the issue",
            "title": "Suggestion"
          }
        },
        "required": [
          "id",
          "code",
          "severity",
          "message",
          "source"
        ],
        "title": "CritiqueV2",
        "type": "object"
      },
      "DAGStructure": {
        "description": "Directed Acyclic Graph structure.",
        "example": {
          "edges": [
            [
              "Price",
              "Revenue"
            ],
            [
              "Brand",
              "Price"
            ],
            [
              "Brand",
              "Revenue"
            ]
          ],
          "nodes": [
            "Price",
            "Brand",
            "Revenue"
          ]
        },
        "properties": {
          "edges": {
            "description": "List of directed edges as (from, to) tuples",
            "items": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "type": "array"
            },
            "maxItems": 200,
            "title": "Edges",
            "type": "array"
          },
          "nodes": {
            "description": "List of node names in the graph",
            "items": {
              "type": "string"
            },
            "maxItems": 50,
            "minItems": 1,
            "title": "Nodes",
            "type": "array"
          }
        },
        "required": [
          "nodes",
          "edges"
        ],
        "title": "DAGStructure",
        "type": "object"
      },
      "DataSummary": {
        "description": "Summary of available data in a domain.",
        "example": {
          "available_variables": [
            "Price",
            "Revenue",
            "CustomerAge"
          ],
          "n_samples": 1000,
          "notes": [
            "Covariates only",
            "No outcome data"
          ]
        },
        "properties": {
          "available_variables": {
            "description": "Variables measured in this domain",
            "items": {
              "type": "string"
            },
            "maxItems": 50,
            "title": "Available Variables",
            "type": "array"
          },
          "n_samples": {
            "description": "Number of samples available",
            "minimum": 0.0,
            "title": "N Samples",
            "type": "integer"
          },
          "notes": {
            "description": "Additional notes about data availability",
            "items": {
              "type": "string"
            },
            "maxItems": 10,
            "title": "Notes",
            "type": "array"
          }
        },
        "required": [
          "n_samples",
          "available_variables"
        ],
        "title": "DataSummary",
        "type": "object"
      },
      "DecisionContext": {
        "description": "Context for a decision domain.",
        "example": {
          "constraints": {
            "current_price": 49,
            "industry": "SaaS"
          },
          "domain": "pricing",
          "variables": [
            "price",
            "revenue",
            "churn",
            "brand_perception"
          ]
        },
        "properties": {
          "constraints": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Domain-specific constraints",
            "title": "Constraints"
          },
          "domain": {
            "description": "Decision domain (e.g., 'pricing', 'feature_prioritization')",
            "maxLength": 100,
            "minLength": 1,
            "title": "Domain",
            "type": "string"
          },
          "variables": {
            "description": "Relevant decision variables",
            "items": {
              "type": "string"
            },
            "maxItems": 50,
            "title": "Variables",
            "type": "array"
          }
        },
        "required": [
          "domain",
          "variables"
        ],
        "title": "DecisionContext",
        "type": "object"
      },
      "DecisionRule": {
        "description": "Conditional decision rule based on observed state.",
        "example": {
          "conditional_actions": [
            {
              "action": "expand",
              "condition": "If market_favorable",
              "expected_value_if_taken": 85000.0
            },
            {
              "action": "exit",
              "condition": "If market_unfavorable",
              "expected_value_if_taken": 10000.0
            }
          ],
          "default_action": "wait"
        },
        "properties": {
          "conditional_actions": {
            "description": "List of conditional actions",
            "items": {
              "$ref": "#/components/schemas/ConditionalAction"
            },
            "title": "Conditional Actions",
            "type": "array"
          },
          "default_action": {
            "description": "Default action if no conditions are met",
            "title": "Default Action",
            "type": "string"
          }
        },
        "required": [
          "default_action"
        ],
        "title": "DecisionRule",
        "type": "object"
      },
      "DecisionStage": {
        "description": "A stage in a sequential decision problem.",
        "example": {
          "decision_nodes": [
            "invest_decision"
          ],
          "resolution_nodes": [],
          "stage_index": 0,
          "stage_label": "Initial Investment Decision",
          "time_horizon": "immediate"
        },
        "properties": {
          "decision_nodes": {
            "description": "Node IDs that are decisions at this stage",
            "items": {
              "type": "string"
            },
            "maxItems": 20,
            "title": "Decision Nodes",
            "type": "array"
          },
          "resolution_nodes": {
            "description": "Uncertainty nodes resolved by this stage",
            "items": {
              "type": "string"
            },
            "maxItems": 20,
            "title": "Resolution Nodes",
            "type": "array"
          },
          "stage_index": {
            "description": "Zero-based stage index",
            "minimum": 0.0,
            "title": "Stage Index",
            "type": "integer"
          },
          "stage_label": {
            "description": "Human-readable label for the stage",
            "maxLength": 200,
            "title": "Stage Label",
            "type": "string"
          },
          "time_horizon": {
            "anyOf": [
              {
                "pattern": "^(immediate|short_term|long_term)$",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Time horizon: 'immediate', 'short_term', 'long_term'",
            "title": "Time Horizon"
          }
        },
        "required": [
          "stage_index",
          "stage_label",
          "decision_nodes"
        ],
        "title": "DecisionStage",
        "type": "object"
      },
      "DecisionVariable": {
        "description": "Decision variable with bounds for optimization.",
        "example": {
          "initial_value": 50.0,
          "lower_bound": 10.0,
          "step_size": 5.0,
          "upper_bound": 100.0,
          "variable_id": "price"
        },
        "properties": {
          "initial_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional initial value (defaults to midpoint)",
            "title": "Initial Value"
          },
          "lower_bound": {
            "description": "Lower bound for this variable",
            "title": "Lower Bound",
            "type": "number"
          },
          "step_size": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional custom step size for grid search",
            "title": "Step Size"
          },
          "upper_bound": {
            "description": "Upper bound for this variable",
            "title": "Upper Bound",
            "type": "number"
          },
          "variable_id": {
            "description": "Unique identifier for the decision variable",
            "maxLength": 100,
            "minLength": 1,
            "title": "Variable Id",
            "type": "string"
          }
        },
        "required": [
          "variable_id",
          "lower_bound",
          "upper_bound"
        ],
        "title": "DecisionVariable",
        "type": "object"
      },
      "DiagnosticsV2": {
        "description": "Diagnostic information (only included when requested).",
        "properties": {
          "goal_node_found": {
            "description": "Whether goal node exists in graph",
            "title": "Goal Node Found",
            "type": "boolean"
          },
          "goal_node_id_hash": {
            "description": "Hashed goal node ID",
            "title": "Goal Node Id Hash",
            "type": "string"
          },
          "identifiability_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reason for identifiability status",
            "title": "Identifiability Reason"
          },
          "identifiability_status": {
            "description": "Causal identifiability status",
            "enum": [
              "identifiable",
              "not_identifiable",
              "unknown"
            ],
            "title": "Identifiability Status",
            "type": "string"
          },
          "n_samples_completed": {
            "description": "Samples completed",
            "title": "N Samples Completed",
            "type": "integer"
          },
          "n_samples_requested": {
            "description": "Samples requested",
            "title": "N Samples Requested",
            "type": "integer"
          },
          "option_diagnostics": {
            "description": "Per-option diagnostics",
            "items": {
              "$ref": "#/components/schemas/OptionDiagnosticV2"
            },
            "title": "Option Diagnostics",
            "type": "array"
          },
          "path_exists_probability_threshold": {
            "description": "Threshold used for exists_probability",
            "title": "Path Exists Probability Threshold",
            "type": "number"
          },
          "path_strength_threshold": {
            "description": "Threshold used for strength.mean",
            "title": "Path Strength Threshold",
            "type": "number"
          }
        },
        "required": [
          "goal_node_id_hash",
          "goal_node_found",
          "n_samples_requested",
          "n_samples_completed",
          "identifiability_status",
          "path_exists_probability_threshold",
          "path_strength_threshold"
        ],
        "title": "DiagnosticsV2",
        "type": "object"
      },
      "DiscoveredDAG": {
        "description": "A discovered DAG structure with confidence score.",
        "example": {
          "confidence": 0.75,
          "edges": [
            [
              "Price",
              "Revenue"
            ],
            [
              "Quality",
              "Revenue"
            ],
            [
              "Quality",
              "Price"
            ]
          ],
          "method": "correlation",
          "nodes": [
            "Price",
            "Quality",
            "Revenue"
          ]
        },
        "properties": {
          "confidence": {
            "description": "Confidence in this structure (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "type": "number"
          },
          "edges": {
            "description": "Directed edges",
            "items": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "type": "array"
            },
            "title": "Edges",
            "type": "array"
          },
          "method": {
            "description": "Discovery method used (correlation, knowledge, hybrid)",
            "title": "Method",
            "type": "string"
          },
          "nodes": {
            "description": "Variable names",
            "items": {
              "type": "string"
            },
            "title": "Nodes",
            "type": "array"
          }
        },
        "required": [
          "nodes",
          "edges",
          "confidence",
          "method"
        ],
        "title": "DiscoveredDAG",
        "type": "object"
      },
      "DiscoveryFromDataRequest": {
        "description": "Request model for causal discovery from observational data.\n\nAutomatically suggests DAG structures from data.",
        "example": {
          "data": [
            [
              40,
              7.5,
              30000
            ],
            [
              45,
              8.0,
              32500
            ],
            [
              50,
              8.5,
              35000
            ]
          ],
          "prior_knowledge": {
            "forbidden_edges": [
              [
                "Revenue",
                "Price"
              ]
            ],
            "required_edges": [
              [
                "Price",
                "Revenue"
              ]
            ]
          },
          "seed": 42,
          "threshold": 0.3,
          "variable_names": [
            "Price",
            "Quality",
            "Revenue"
          ]
        },
        "properties": {
          "data": {
            "description": "Data matrix (rows = samples, columns = variables)",
            "items": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "maxItems": 10000,
            "minItems": 10,
            "title": "Data",
            "type": "array"
          },
          "prior_knowledge": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Prior knowledge about structure (required_edges, forbidden_edges)",
            "title": "Prior Knowledge"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Random seed for reproducibility",
            "title": "Seed"
          },
          "threshold": {
            "default": 0.3,
            "description": "Correlation threshold for edge detection",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Threshold",
            "type": "number"
          },
          "variable_names": {
            "description": "Names of variables (must match data columns)",
            "items": {
              "type": "string"
            },
            "maxItems": 50,
            "minItems": 2,
            "title": "Variable Names",
            "type": "array"
          }
        },
        "required": [
          "data",
          "variable_names"
        ],
        "title": "DiscoveryFromDataRequest",
        "type": "object"
      },
      "DiscoveryFromKnowledgeRequest": {
        "description": "Request model for knowledge-guided causal discovery.\n\nUses domain knowledge to suggest DAG structures.",
        "example": {
          "domain_description": "An e-commerce pricing model where price affects revenue, quality affects both price and revenue",
          "prior_knowledge": {
            "required_edges": [
              [
                "Price",
                "Revenue"
              ]
            ]
          },
          "top_k": 3,
          "variable_names": [
            "Price",
            "Quality",
            "Revenue"
          ]
        },
        "properties": {
          "domain_description": {
            "description": "Natural language description of the domain",
            "maxLength": 2000,
            "minLength": 10,
            "title": "Domain Description",
            "type": "string"
          },
          "prior_knowledge": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Prior knowledge about structure",
            "title": "Prior Knowledge"
          },
          "top_k": {
            "default": 3,
            "description": "Number of candidate DAGs to return",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Top K",
            "type": "integer"
          },
          "variable_names": {
            "description": "Names of variables in the domain",
            "items": {
              "type": "string"
            },
            "maxItems": 50,
            "minItems": 2,
            "title": "Variable Names",
            "type": "array"
          }
        },
        "required": [
          "domain_description",
          "variable_names"
        ],
        "title": "DiscoveryFromKnowledgeRequest",
        "type": "object"
      },
      "DiscoveryResponse": {
        "description": "Response model for causal discovery.\n\nReturns discovered DAG structures with confidence scores.",
        "example": {
          "discovered_dags": [
            {
              "confidence": 0.85,
              "edges": [
                [
                  "Price",
                  "Revenue"
                ],
                [
                  "Quality",
                  "Revenue"
                ]
              ],
              "method": "correlation",
              "nodes": [
                "Price",
                "Quality",
                "Revenue"
              ]
            }
          ],
          "explanation": {
            "assumptions": [
              "Linear relationships",
              "No hidden confounders"
            ],
            "reasoning": "Strong correlations between Price\u2192Revenue (0.82) and Quality\u2192Revenue (0.75)",
            "summary": "Discovered DAG structure from data with 85% confidence",
            "technical_basis": "Correlation-based structure learning with threshold 0.3"
          }
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "discovered_dags": {
            "description": "Discovered DAG structures ranked by confidence",
            "items": {
              "$ref": "#/components/schemas/DiscoveredDAG"
            },
            "title": "Discovered Dags",
            "type": "array"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          }
        },
        "required": [
          "discovered_dags",
          "explanation"
        ],
        "title": "DiscoveryResponse",
        "type": "object"
      },
      "Distribution": {
        "description": "Probability distribution specification.",
        "example": {
          "parameters": {
            "mean": 0,
            "std": 1
          },
          "type": "normal"
        },
        "properties": {
          "parameters": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Distribution parameters",
            "title": "Parameters",
            "type": "object"
          },
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DistributionType"
              }
            ],
            "description": "Type of distribution"
          }
        },
        "required": [
          "type",
          "parameters"
        ],
        "title": "Distribution",
        "type": "object"
      },
      "DistributionType": {
        "description": "Types of probability distributions.",
        "enum": [
          "normal",
          "uniform",
          "beta",
          "exponential"
        ],
        "title": "DistributionType",
        "type": "string"
      },
      "DomainSpec": {
        "description": "Specification for a single domain (e.g., market, region).",
        "example": {
          "dag": {
            "edges": [
              [
                "Price",
                "Revenue"
              ],
              [
                "Brand",
                "Price"
              ],
              [
                "Brand",
                "Revenue"
              ]
            ],
            "nodes": [
              "Price",
              "Brand",
              "Revenue"
            ]
          },
          "data_summary": {
            "available_variables": [
              "Price",
              "Brand",
              "Revenue"
            ],
            "n_samples": 5000,
            "notes": [
              "Complete data available"
            ]
          },
          "name": "UK Market"
        },
        "properties": {
          "dag": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DAGStructure"
              }
            ],
            "description": "Causal graph structure for this domain"
          },
          "data_summary": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DataSummary"
              },
              {
                "type": "null"
              }
            ],
            "description": "Summary of available data (optional)"
          },
          "name": {
            "description": "Domain name",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "name",
          "dag"
        ],
        "title": "DomainSpec",
        "type": "object"
      },
      "DomainValidation": {
        "description": "Domain-specific validation results.",
        "properties": {
          "checks": {
            "description": "Domain checks performed",
            "items": {
              "$ref": "#/components/schemas/ValidationCheck"
            },
            "title": "Checks",
            "type": "array"
          }
        },
        "required": [
          "checks"
        ],
        "title": "DomainValidation",
        "type": "object"
      },
      "DominanceOption": {
        "description": "Single option with scores across multiple criteria.",
        "example": {
          "option_id": "opt_launch_q1",
          "option_label": "Launch in Q1 2025",
          "scores": {
            "revenue": 0.85,
            "risk": 0.6,
            "timeline": 0.9
          }
        },
        "properties": {
          "option_id": {
            "description": "Unique option identifier",
            "maxLength": 200,
            "minLength": 1,
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Human-readable option label",
            "maxLength": 500,
            "minLength": 1,
            "title": "Option Label",
            "type": "string"
          },
          "scores": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Normalized scores (0-1) by criterion_id",
            "title": "Scores",
            "type": "object"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "scores"
        ],
        "title": "DominanceOption",
        "type": "object"
      },
      "DominanceRelation": {
        "description": "Information about a dominated option.",
        "example": {
          "degree": 2,
          "dominated_by": [
            "opt_c",
            "opt_a"
          ],
          "dominated_option_id": "opt_b",
          "dominated_option_label": "Option B: Conservative Growth"
        },
        "properties": {
          "degree": {
            "description": "Number of options that dominate this option",
            "minimum": 0.0,
            "title": "Degree",
            "type": "integer"
          },
          "dominated_by": {
            "description": "List of option IDs that dominate this option",
            "items": {
              "type": "string"
            },
            "title": "Dominated By",
            "type": "array"
          },
          "dominated_option_id": {
            "description": "ID of the option that is dominated",
            "title": "Dominated Option Id",
            "type": "string"
          },
          "dominated_option_label": {
            "description": "Label of the option that is dominated",
            "title": "Dominated Option Label",
            "type": "string"
          }
        },
        "required": [
          "dominated_option_id",
          "dominated_option_label",
          "dominated_by",
          "degree"
        ],
        "title": "DominanceRelation",
        "type": "object"
      },
      "DominanceRequest": {
        "description": "Request model for dominance detection endpoint.",
        "example": {
          "criteria": [
            "revenue",
            "risk",
            "timeline"
          ],
          "options": [
            {
              "option_id": "opt_a",
              "option_label": "Option A: Aggressive Growth",
              "scores": {
                "revenue": 0.9,
                "risk": 0.4,
                "timeline": 0.7
              }
            },
            {
              "option_id": "opt_b",
              "option_label": "Option B: Conservative Growth",
              "scores": {
                "revenue": 0.6,
                "risk": 0.8,
                "timeline": 0.9
              }
            },
            {
              "option_id": "opt_c",
              "option_label": "Option C: Balanced Approach",
              "scores": {
                "revenue": 0.75,
                "risk": 0.75,
                "timeline": 0.8
              }
            }
          ],
          "request_id": "req_abc123"
        },
        "properties": {
          "criteria": {
            "description": "Criterion IDs to consider (must match keys in option scores)",
            "items": {
              "type": "string"
            },
            "maxItems": 10,
            "minItems": 1,
            "title": "Criteria",
            "type": "array"
          },
          "options": {
            "description": "Options to analyze for dominance relationships",
            "items": {
              "$ref": "#/components/schemas/DominanceOption"
            },
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "type": "array"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional request ID for tracing (auto-generated if not provided)",
            "title": "Request Id"
          }
        },
        "required": [
          "options",
          "criteria"
        ],
        "title": "DominanceRequest",
        "type": "object"
      },
      "DominanceResponse": {
        "description": "Response model for dominance detection endpoint.",
        "example": {
          "dominated": [
            {
              "degree": 1,
              "dominated_by": [
                "opt_c"
              ],
              "dominated_option_id": "opt_b",
              "dominated_option_label": "Option B: Conservative Growth"
            }
          ],
          "frontier_size": 2,
          "metadata": {
            "algorithm": "pairwise_dominance",
            "cache_hit": false,
            "computation_time_ms": 2.5,
            "isl_version": "2.0",
            "request_id": "req_abc123"
          },
          "non_dominated_ids": [
            "opt_a",
            "opt_c"
          ],
          "total_options": 3
        },
        "properties": {
          "dominated": {
            "description": "Options that are dominated by others (sorted by degree, descending)",
            "items": {
              "$ref": "#/components/schemas/DominanceRelation"
            },
            "title": "Dominated",
            "type": "array"
          },
          "frontier_size": {
            "description": "Number of options on Pareto frontier",
            "minimum": 1.0,
            "title": "Frontier Size",
            "type": "integer"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "non_dominated_ids": {
            "description": "Option IDs that are not dominated (Pareto frontier)",
            "items": {
              "type": "string"
            },
            "title": "Non Dominated Ids",
            "type": "array"
          },
          "total_options": {
            "description": "Total number of options analyzed",
            "minimum": 2.0,
            "title": "Total Options",
            "type": "integer"
          }
        },
        "required": [
          "dominated",
          "non_dominated_ids",
          "total_options",
          "frontier_size"
        ],
        "title": "DominanceResponse",
        "type": "object"
      },
      "EdgeV2": {
        "description": "Edge with dual uncertainty.\n\nCombines structural uncertainty (does the edge exist?) with\nparametric uncertainty (how strong is the effect?).",
        "example": {
          "exists_probability": 0.9,
          "from": "marketing",
          "label": "Marketing increases demand",
          "strength": {
            "mean": 0.6,
            "std": 0.15
          },
          "to": "demand"
        },
        "properties": {
          "exists_probability": {
            "description": "P(edge exists) - structural uncertainty",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Exists Probability",
            "type": "number"
          },
          "from": {
            "description": "Source node ID",
            "pattern": "^[a-z0-9_:-]+$",
            "title": "From",
            "type": "string"
          },
          "label": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable edge description",
            "title": "Label"
          },
          "strength": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StrengthDistribution"
              }
            ],
            "description": "Effect magnitude distribution - parametric uncertainty"
          },
          "to": {
            "description": "Target node ID",
            "pattern": "^[a-z0-9_:-]+$",
            "title": "To",
            "type": "string"
          }
        },
        "required": [
          "from",
          "to",
          "exists_probability",
          "strength"
        ],
        "title": "EdgeV2",
        "type": "object"
      },
      "ErrorResponse": {
        "description": "Olumi Error Response (v1.0) - ISL Implementation.\n\nFollows the canonical error schema for all Olumi services.\nSee platform error schema standard for full specification.",
        "examples": [
          {
            "title": "DAG Structure Error",
            "value": {
              "code": "ISL_DAG_CYCLIC",
              "degraded": false,
              "edge_count": 6,
              "message": "DAG contains cycles and cannot be processed",
              "node_count": 5,
              "reason": "cycle_detected",
              "recovery": {
                "example": "If A\u2192B\u2192C\u2192A exists, remove one edge",
                "hints": [
                  "Check for circular dependencies in your model",
                  "Use a DAG visualization tool to identify cycles"
                ],
                "suggestion": "Remove edges that create cycles"
              },
              "request_id": "req_abc123def456",
              "retryable": false,
              "source": "isl",
              "validation_failures": [
                "Cycle: Price \u2192 Revenue \u2192 CustomerSatisfaction \u2192 Price"
              ]
            }
          },
          {
            "title": "Validation Error",
            "value": {
              "attempted_methods": [
                "backdoor",
                "front_door",
                "do_calculus"
              ],
              "code": "ISL_CAUSAL_NOT_IDENTIFIABLE",
              "degraded": false,
              "message": "Causal effect cannot be identified",
              "reason": "unmeasured_confounding",
              "recovery": {
                "hints": [
                  "Add measured confounders to the model",
                  "Consider using instrumental variables",
                  "Explore front-door criterion"
                ],
                "suggestion": "Measure and include confounding variables"
              },
              "request_id": "req_xyz789",
              "retryable": false,
              "source": "isl"
            }
          },
          {
            "title": "Timeout Error",
            "value": {
              "code": "ISL_TIMEOUT",
              "degraded": false,
              "message": "Computation exceeded time budget",
              "recovery": {
                "hints": [
                  "Simplify your causal model",
                  "Reduce Monte Carlo iterations"
                ],
                "suggestion": "Retry with a simpler model"
              },
              "request_id": "req_timeout123",
              "retryable": true,
              "source": "isl"
            }
          }
        ],
        "properties": {
          "attempted_methods": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Identification methods attempted (for validation errors)",
            "title": "Attempted Methods"
          },
          "code": {
            "description": "Error code (e.g., 'ISL_INVALID_DAG')",
            "title": "Code",
            "type": "string"
          },
          "degraded": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "default": false,
            "description": "Result is partial/incomplete",
            "title": "Degraded"
          },
          "edge_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of edges in DAG (for structure errors)",
            "title": "Edge Count"
          },
          "message": {
            "description": "Human-readable error message",
            "title": "Message",
            "type": "string"
          },
          "missing_nodes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "List of missing nodes referenced in equations",
            "title": "Missing Nodes"
          },
          "node_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of nodes in DAG (for structure errors)",
            "title": "Node Count"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Fine-grained reason code for the error",
            "title": "Reason"
          },
          "recovery": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RecoveryHints"
              },
              {
                "type": "null"
              }
            ],
            "description": "Recovery suggestions and hints"
          },
          "request_id": {
            "description": "Request ID for correlation (from X-Request-Id header)",
            "title": "Request Id",
            "type": "string"
          },
          "retryable": {
            "description": "Can client retry this request?",
            "title": "Retryable",
            "type": "boolean"
          },
          "source": {
            "default": "isl",
            "description": "Service that generated error",
            "title": "Source",
            "type": "string"
          },
          "validation_failures": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "List of validation failures (ISL-specific)",
            "title": "Validation Failures"
          }
        },
        "required": [
          "code",
          "message",
          "retryable"
        ],
        "title": "ErrorResponse",
        "type": "object"
      },
      "ExperimentConstraintsSpec": {
        "description": "Constraints on experiments.",
        "example": {
          "budget": 100000,
          "feasible_interventions": {
            "Marketing": [
              10000,
              100000
            ],
            "Price": [
              30,
              100
            ]
          },
          "time_horizon": 5
        },
        "properties": {
          "budget": {
            "description": "Total remaining budget",
            "exclusiveMinimum": 0.0,
            "title": "Budget",
            "type": "number"
          },
          "feasible_interventions": {
            "additionalProperties": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array"
            },
            "description": "Feasible ranges for each intervention variable (min, max)",
            "title": "Feasible Interventions",
            "type": "object"
          },
          "time_horizon": {
            "description": "Number of experiments remaining",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Time Horizon",
            "type": "integer"
          }
        },
        "required": [
          "budget",
          "time_horizon",
          "feasible_interventions"
        ],
        "title": "ExperimentConstraintsSpec",
        "type": "object"
      },
      "ExperimentHistoryPoint": {
        "description": "A single historical experiment for sequential optimization.",
        "example": {
          "cost": 5000,
          "intervention": {
            "Price": 45
          },
          "outcome": {
            "Revenue": 32500
          }
        },
        "properties": {
          "cost": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Actual cost of the experiment",
            "title": "Cost"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Intervention values",
            "title": "Intervention",
            "type": "object"
          },
          "outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Observed outcome values",
            "title": "Outcome",
            "type": "object"
          }
        },
        "required": [
          "intervention",
          "outcome"
        ],
        "title": "ExperimentHistoryPoint",
        "type": "object"
      },
      "ExperimentRecommendationRequest": {
        "description": "Request model for sequential experiment recommendation.\n\nUses Thompson sampling to recommend next experiment.",
        "example": {
          "beliefs": [
            {
              "distribution_type": "normal",
              "parameter_name": "effect_price",
              "parameters": {
                "mean": 500,
                "std": 50
              }
            }
          ],
          "constraints": {
            "budget": 100000,
            "feasible_interventions": {
              "Price": [
                30,
                100
              ]
            },
            "time_horizon": 5
          },
          "history": [
            {
              "cost": 5000,
              "intervention": {
                "Price": 45
              },
              "outcome": {
                "Revenue": 32500
              }
            }
          ],
          "objective": {
            "goal": "maximize",
            "target_variable": "Revenue"
          },
          "seed": 42
        },
        "properties": {
          "beliefs": {
            "description": "Current beliefs about model parameters",
            "items": {
              "$ref": "#/components/schemas/BeliefDistribution"
            },
            "maxItems": 30,
            "minItems": 1,
            "title": "Beliefs",
            "type": "array"
          },
          "constraints": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExperimentConstraintsSpec"
              }
            ],
            "description": "Experiment constraints"
          },
          "history": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ExperimentHistoryPoint"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Previous experiment results",
            "title": "History"
          },
          "objective": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OptimizationObjectiveSpec"
              }
            ],
            "description": "Optimization objective"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Random seed for reproducibility",
            "title": "Seed"
          }
        },
        "required": [
          "beliefs",
          "objective",
          "constraints"
        ],
        "title": "ExperimentRecommendationRequest",
        "type": "object"
      },
      "ExperimentRecommendationResponse": {
        "description": "Response model for experiment recommendation.\n\nProvides recommended next experiment using Thompson sampling.",
        "example": {
          "explanation": {
            "assumptions": [
              "Parameter beliefs accurate",
              "Cost-benefit tradeoff acceptable"
            ],
            "reasoning": "This intervention has high information gain (0.75) and explores undersampled region",
            "summary": "Recommend testing Price=55 to maximize learning",
            "technical_basis": "Thompson sampling with 100 posterior samples"
          },
          "recommendation": {
            "cost_estimate": 10000,
            "expected_information_gain": 0.75,
            "expected_outcome": {
              "Revenue": 38000
            },
            "exploration_vs_exploitation": 0.8,
            "intervention": {
              "Price": 55
            },
            "rationale": "Explore: Test Price=55 to learn more (high information gain: 0.75)"
          }
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RecommendedExperimentDetail"
              }
            ],
            "description": "Recommended next experiment"
          }
        },
        "required": [
          "recommendation",
          "explanation"
        ],
        "title": "ExperimentRecommendationResponse",
        "type": "object"
      },
      "ExplanationMetadata": {
        "description": "Explanation metadata included in all responses.",
        "example": {
          "assumptions": [
            "No unmeasured confounding",
            "Correct causal structure specified"
          ],
          "learn_more_url": "https://docs.inference-service-layer.com/docs/methods/backdoor-adjustment",
          "reasoning": "Brand influences both Price and Revenue, creating confounding. Controlling for Brand blocks the backdoor path.",
          "simple_explanation": "We can estimate this effect by controlling for Brand.",
          "summary": "Effect is identifiable by controlling for Brand",
          "technical_basis": "Backdoor criterion satisfied with adjustment set {Brand}",
          "visual_type": "dag_with_adjustment"
        },
        "properties": {
          "assumptions": {
            "description": "Key assumptions made in analysis",
            "items": {
              "type": "string"
            },
            "title": "Assumptions",
            "type": "array"
          },
          "learn_more_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Link to documentation for this concept",
            "title": "Learn More Url"
          },
          "reasoning": {
            "description": "Plain English explanation of why",
            "title": "Reasoning",
            "type": "string"
          },
          "simple_explanation": {
            "anyOf": [
              {
                "maxLength": 200,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Non-technical explanation for general audience",
            "title": "Simple Explanation"
          },
          "summary": {
            "description": "One-line summary of the result",
            "title": "Summary",
            "type": "string"
          },
          "technical_basis": {
            "description": "Mathematical/technical justification",
            "title": "Technical Basis",
            "type": "string"
          },
          "visual_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Suggested visualization type (e.g., 'path_diagram', 'interval_plot')",
            "title": "Visual Type"
          }
        },
        "required": [
          "summary",
          "reasoning",
          "technical_basis",
          "assumptions"
        ],
        "title": "ExplanationMetadata",
        "type": "object"
      },
      "FACETRobustnessAnalysis": {
        "description": "Complete FACET robustness analysis result.\n\nContains robust intervention region(s), outcome guarantees,\nrobustness metrics, and fragility warnings.",
        "example": {
          "confidence_level": 0.95,
          "fragility_reasons": [],
          "interpretation": "ROBUST RECOMMENDATION (robustness: 0.75). Multiple intervention strategies achieve the target outcome.",
          "is_fragile": false,
          "outcome_guarantees": {
            "revenue": {
              "confidence": 0.95,
              "maximum": 105000.0,
              "minimum": 95000.0,
              "outcome_variable": "revenue"
            }
          },
          "recommendation": "Recommendation: Proceed with confidence. Operating ranges: price: 52.0-58.0. Strategy is robust to reasonable variations.",
          "region_count": 1,
          "robust_regions": [
            {
              "variable_ranges": {
                "price": [
                  52.0,
                  58.0
                ]
              }
            }
          ],
          "robustness_score": 0.75,
          "samples_successful": 500,
          "samples_tested": 500,
          "status": "robust",
          "total_volume": 0.06
        },
        "properties": {
          "confidence_level": {
            "default": 0.95,
            "description": "Statistical confidence",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence Level",
            "type": "number"
          },
          "fragility_reasons": {
            "description": "Why recommendation might be fragile",
            "items": {
              "type": "string"
            },
            "title": "Fragility Reasons",
            "type": "array"
          },
          "interpretation": {
            "description": "Plain English summary",
            "title": "Interpretation",
            "type": "string"
          },
          "is_fragile": {
            "description": "True if recommendation is fragile",
            "title": "Is Fragile",
            "type": "boolean"
          },
          "outcome_guarantees": {
            "additionalProperties": {
              "$ref": "#/components/schemas/OutcomeGuarantee"
            },
            "description": "Guaranteed outcomes by outcome variable",
            "title": "Outcome Guarantees",
            "type": "object"
          },
          "recommendation": {
            "description": "Actionable guidance",
            "title": "Recommendation",
            "type": "string"
          },
          "region_count": {
            "description": "Number of robust regions found",
            "minimum": 0.0,
            "title": "Region Count",
            "type": "integer"
          },
          "robust_regions": {
            "description": "Regions achieving target outcome",
            "items": {
              "$ref": "#/components/schemas/InterventionRegion"
            },
            "title": "Robust Regions",
            "type": "array"
          },
          "robustness_score": {
            "description": "Overall robustness (0-1, higher = more robust)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "type": "number"
          },
          "samples_successful": {
            "description": "Samples achieving target",
            "minimum": 0.0,
            "title": "Samples Successful",
            "type": "integer"
          },
          "samples_tested": {
            "description": "Samples used in verification",
            "minimum": 0.0,
            "title": "Samples Tested",
            "type": "integer"
          },
          "status": {
            "description": "Analysis status: robust, fragile, or failed",
            "title": "Status",
            "type": "string"
          },
          "total_volume": {
            "description": "Total volume of robust regions",
            "minimum": 0.0,
            "title": "Total Volume",
            "type": "number"
          }
        },
        "required": [
          "status",
          "robustness_score",
          "region_count",
          "total_volume",
          "is_fragile",
          "samples_tested",
          "samples_successful",
          "interpretation",
          "recommendation"
        ],
        "title": "FACETRobustnessAnalysis",
        "type": "object"
      },
      "FactorExtractionRequest": {
        "description": "Request for factor extraction from unstructured data.",
        "example": {
          "data_type": "support_tickets",
          "domain": "SaaS product",
          "min_cluster_size": 3,
          "n_factors": 5,
          "outcome_variable": "churn",
          "texts": [
            "User can't find settings...",
            "Slow load times...",
            "..."
          ]
        },
        "properties": {
          "data_type": {
            "description": "Type of data (e.g., 'support_tickets', 'reviews', 'feedback')",
            "maxLength": 50,
            "title": "Data Type",
            "type": "string"
          },
          "domain": {
            "anyOf": [
              {
                "maxLength": 100,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Domain context (e.g., 'SaaS product', 'e-commerce')",
            "title": "Domain"
          },
          "min_cluster_size": {
            "default": 3,
            "description": "Minimum cluster size for factor extraction",
            "maximum": 100.0,
            "minimum": 2.0,
            "title": "Min Cluster Size",
            "type": "integer"
          },
          "n_factors": {
            "default": 5,
            "description": "Number of factors to extract",
            "maximum": 20.0,
            "minimum": 2.0,
            "title": "N Factors",
            "type": "integer"
          },
          "outcome_variable": {
            "anyOf": [
              {
                "maxLength": 50,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Known outcome variable (e.g., 'churn', 'revenue')",
            "title": "Outcome Variable"
          },
          "texts": {
            "description": "Raw text data to analyze",
            "items": {
              "type": "string"
            },
            "maxItems": 1000,
            "minItems": 10,
            "title": "Texts",
            "type": "array"
          }
        },
        "required": [
          "data_type",
          "texts"
        ],
        "title": "FactorExtractionRequest",
        "type": "object"
      },
      "FactorSensitivityResult": {
        "description": "Sensitivity to a factor node's value (Phase 2A Part 2).",
        "example": {
          "elasticity": 0.32,
          "importance_rank": 2,
          "interpretation": "Decision is moderately sensitive to marketing_spend value",
          "node_id": "marketing_spend",
          "node_label": "Marketing Spend",
          "observed_value": 50000.0
        },
        "properties": {
          "elasticity": {
            "description": "% change in outcome per % change in factor value",
            "title": "Elasticity",
            "type": "number"
          },
          "importance_rank": {
            "description": "Rank by importance (1 = most important)",
            "minimum": 1.0,
            "title": "Importance Rank",
            "type": "integer"
          },
          "interpretation": {
            "description": "Human-readable explanation",
            "title": "Interpretation",
            "type": "string"
          },
          "node_id": {
            "description": "Factor node ID",
            "title": "Node Id",
            "type": "string"
          },
          "node_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable node label",
            "title": "Node Label"
          },
          "observed_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Observed value from node's observed_state",
            "title": "Observed Value"
          }
        },
        "required": [
          "node_id",
          "elasticity",
          "importance_rank",
          "interpretation"
        ],
        "title": "FactorSensitivityResult",
        "type": "object"
      },
      "FactorSensitivityV2": {
        "description": "Factor sensitivity for drivers analysis.",
        "properties": {
          "confidence": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Confidence level (omitted when not computed)",
            "title": "Confidence"
          },
          "direction": {
            "description": "Direction of effect",
            "enum": [
              "positive",
              "negative"
            ],
            "title": "Direction",
            "type": "string"
          },
          "elasticity": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Raw elasticity: % change in outcome per % change in factor",
            "title": "Elasticity"
          },
          "importance_rank": {
            "anyOf": [
              {
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Rank by importance (1 = most important)",
            "title": "Importance Rank"
          },
          "importance_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Relative importance (0-1, higher = more important)",
            "title": "Importance Score"
          },
          "interpretation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable explanation of sensitivity",
            "title": "Interpretation"
          },
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable node label",
            "title": "Label"
          },
          "node_id": {
            "description": "Factor node ID",
            "title": "Node Id",
            "type": "string"
          },
          "observed_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Factor's current value used in calculation",
            "title": "Observed Value"
          },
          "sensitivity_score": {
            "description": "Normalized sensitivity score (0-1, higher = more sensitive)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Sensitivity Score",
            "type": "number"
          }
        },
        "required": [
          "node_id",
          "sensitivity_score",
          "direction"
        ],
        "title": "FactorSensitivityV2",
        "type": "object"
      },
      "FeasibilityRequest": {
        "description": "Request model for feasibility check endpoint.",
        "example": {
          "constraints": [
            {
              "constraint_type": "budget",
              "id": "budget_limit",
              "priority": "hard",
              "relation": "le",
              "target_variable": "total_cost",
              "threshold": 100000.0
            }
          ],
          "graph": {
            "edges": [
              {
                "from": "option_a",
                "to": "goal",
                "weight": 2.0
              }
            ],
            "nodes": [
              {
                "id": "goal",
                "kind": "goal",
                "label": "Maximize Profit"
              },
              {
                "id": "option_a",
                "kind": "option",
                "label": "Option A"
              }
            ]
          },
          "options": [
            {
              "expected_value": 50000,
              "name": "Option A",
              "option_id": "option_a",
              "variable_values": {
                "total_cost": 85000
              }
            }
          ]
        },
        "properties": {
          "constraints": {
            "description": "Constraints to check",
            "items": {
              "$ref": "#/components/schemas/ConstraintNode"
            },
            "maxItems": 50,
            "minItems": 1,
            "title": "Constraints",
            "type": "array"
          },
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph with nodes and edges"
          },
          "include_partial_violations": {
            "default": true,
            "description": "Include soft constraint violations in report",
            "title": "Include Partial Violations",
            "type": "boolean"
          },
          "options": {
            "description": "Options to evaluate for feasibility",
            "items": {
              "$ref": "#/components/schemas/OptionForFeasibility"
            },
            "maxItems": 100,
            "minItems": 1,
            "title": "Options",
            "type": "array"
          }
        },
        "required": [
          "graph",
          "constraints",
          "options"
        ],
        "title": "FeasibilityRequest",
        "type": "object"
      },
      "FeasibilityResponse": {
        "description": "Response model for feasibility check endpoint.",
        "example": {
          "constraint_validation": [
            {
              "constraint_id": "budget",
              "is_valid": true,
              "issues": []
            }
          ],
          "feasibility": {
            "feasible_options": [
              "option_1",
              "option_2"
            ],
            "infeasible_options": [
              {
                "option_id": "option_3",
                "total_violation_magnitude": 5000,
                "violated_constraints": [
                  "budget_constraint"
                ],
                "violation_details": []
              }
            ]
          },
          "schema_version": "feasibility.v1",
          "summary": "2 of 3 options are feasible",
          "warnings": []
        },
        "properties": {
          "constraint_validation": {
            "description": "Validation results for constraint specifications",
            "items": {
              "$ref": "#/components/schemas/ConstraintValidationResult"
            },
            "title": "Constraint Validation",
            "type": "array"
          },
          "feasibility": {
            "allOf": [
              {
                "$ref": "#/components/schemas/FeasibilityResult"
              }
            ],
            "description": "Feasibility analysis results"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "schema_version": {
            "default": "feasibility.v1",
            "description": "Schema version",
            "title": "Schema Version",
            "type": "string"
          },
          "summary": {
            "description": "Human-readable summary of results",
            "title": "Summary",
            "type": "string"
          },
          "warnings": {
            "description": "Any warnings generated during analysis",
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "constraint_validation",
          "feasibility",
          "summary"
        ],
        "title": "FeasibilityResponse",
        "type": "object"
      },
      "FeasibilityResult": {
        "description": "Feasibility analysis results.",
        "example": {
          "feasible_options": [
            "option_1",
            "option_2"
          ],
          "infeasible_options": [
            {
              "option_id": "option_3",
              "total_violation_magnitude": 5000,
              "violated_constraints": [
                "budget_constraint"
              ],
              "violation_details": []
            }
          ]
        },
        "properties": {
          "feasible_options": {
            "description": "List of option IDs that satisfy all constraints",
            "items": {
              "type": "string"
            },
            "title": "Feasible Options",
            "type": "array"
          },
          "infeasible_options": {
            "description": "Options that violate constraints with details",
            "items": {
              "$ref": "#/components/schemas/InfeasibleOption"
            },
            "title": "Infeasible Options",
            "type": "array"
          }
        },
        "required": [
          "feasible_options",
          "infeasible_options"
        ],
        "title": "FeasibilityResult",
        "type": "object"
      },
      "FragileEdgeEnhanced": {
        "description": "Enhanced fragile edge data with alternative winner analysis.\n\nUsed internally by the analyzer. Maps 1:1 with FragileEdgeV2 in response_v2.py\nfor API responses.",
        "properties": {
          "alternative_winner_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Option that wins most often when this edge is weak (bottom quartile). Null if same option wins regardless of edge strength.",
            "title": "Alternative Winner Id"
          },
          "edge_id": {
            "description": "Edge identifier in 'from->to' format",
            "title": "Edge Id",
            "type": "string"
          },
          "from_id": {
            "description": "Source node ID",
            "title": "From Id",
            "type": "string"
          },
          "switch_probability": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Probability of alternative winner in weak-edge scenarios. 0.0 if same option wins (stable), null only if no data available.",
            "title": "Switch Probability"
          },
          "to_id": {
            "description": "Target node ID",
            "title": "To Id",
            "type": "string"
          }
        },
        "required": [
          "edge_id",
          "from_id",
          "to_id"
        ],
        "title": "FragileEdgeEnhanced",
        "type": "object"
      },
      "FragileEdgeV2": {
        "description": "Fragile edge with alternative winner analysis.\n\nIdentifies edges where the recommendation is sensitive to assumption changes\nand what option would win if the edge is weaker than modelled.",
        "properties": {
          "alternative_winner_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Option that wins most often when this edge is weak (bottom quartile). Null if same option wins regardless of edge strength.",
            "title": "Alternative Winner Id"
          },
          "edge_id": {
            "description": "Edge identifier in 'from->to' format",
            "title": "Edge Id",
            "type": "string"
          },
          "from_id": {
            "description": "Source node ID",
            "title": "From Id",
            "type": "string"
          },
          "switch_probability": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Proportion of MC samples where alternative wins when edge is weak. 0.0 if same option wins (stable), null only if no data available.",
            "title": "Switch Probability"
          },
          "to_id": {
            "description": "Target node ID",
            "title": "To Id",
            "type": "string"
          }
        },
        "required": [
          "edge_id",
          "from_id",
          "to_id"
        ],
        "title": "FragileEdgeV2",
        "type": "object"
      },
      "GoalSpecification": {
        "description": "Specification for a single goal in utility function.",
        "example": {
          "direction": "maximize",
          "goal_id": "revenue",
          "label": "Maximize Revenue",
          "priority": 1,
          "scale_max": 1000000,
          "scale_min": 0,
          "weight": 0.6
        },
        "properties": {
          "direction": {
            "default": "maximize",
            "description": "Optimization direction: 'maximize' or 'minimize'",
            "pattern": "^(maximize|minimize)$",
            "title": "Direction",
            "type": "string"
          },
          "goal_id": {
            "description": "Unique identifier for the goal",
            "maxLength": 100,
            "minLength": 1,
            "title": "Goal Id",
            "type": "string"
          },
          "label": {
            "description": "Human-readable goal label",
            "maxLength": 200,
            "minLength": 1,
            "title": "Label",
            "type": "string"
          },
          "priority": {
            "anyOf": [
              {
                "maximum": 100.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Priority for lexicographic ordering (1 = highest)",
            "title": "Priority"
          },
          "scale_max": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum value for normalization",
            "title": "Scale Max"
          },
          "scale_min": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum value for normalization",
            "title": "Scale Min"
          },
          "weight": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Goal weight (0-1). If not specified, defaults to equal weighting.",
            "title": "Weight"
          }
        },
        "required": [
          "goal_id",
          "label"
        ],
        "title": "GoalSpecification",
        "type": "object"
      },
      "GraphEdgeV1": {
        "description": "Edge in GraphV1 structure.",
        "example": {
          "from": "n_marketing_budget",
          "label": "Strong positive influence",
          "to": "n_market_penetration",
          "weight": 2.5
        },
        "properties": {
          "from": {
            "description": "Source node ID",
            "maxLength": 100,
            "title": "From",
            "type": "string"
          },
          "label": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Edge label",
            "title": "Label"
          },
          "to": {
            "description": "Target node ID",
            "maxLength": 100,
            "title": "To",
            "type": "string"
          },
          "weight": {
            "anyOf": [
              {
                "maximum": 3.0,
                "minimum": -3.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Edge weight (-3 to +3)",
            "title": "Weight"
          }
        },
        "required": [
          "from",
          "to"
        ],
        "title": "GraphEdgeV1",
        "type": "object"
      },
      "GraphNodeV1": {
        "description": "Node in GraphV1 structure.",
        "example": {
          "belief": 0.85,
          "body": "Total addressable market for product launch",
          "id": "n_market_size",
          "kind": "outcome",
          "label": "Market Size Estimate",
          "metadata": {
            "currency": "USD",
            "unit": "millions"
          }
        },
        "properties": {
          "belief": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Belief probability (0-1) for probabilistic nodes",
            "title": "Belief"
          },
          "body": {
            "anyOf": [
              {
                "maxLength": 5000,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Detailed description",
            "title": "Body"
          },
          "id": {
            "description": "Unique node identifier",
            "maxLength": 100,
            "title": "Id",
            "type": "string"
          },
          "kind": {
            "allOf": [
              {
                "$ref": "#/components/schemas/NodeKind"
              }
            ],
            "description": "Type of node"
          },
          "label": {
            "description": "Human-readable label",
            "maxLength": 500,
            "title": "Label",
            "type": "string"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional metadata",
            "title": "Metadata"
          }
        },
        "required": [
          "id",
          "kind",
          "label"
        ],
        "title": "GraphNodeV1",
        "type": "object"
      },
      "GraphV1": {
        "description": "GraphV1 structure for CEE decision reviews.\n\nRepresents causal decision graphs with typed nodes and weighted edges.",
        "example": {
          "edges": [
            {
              "from": "n_launch_product",
              "label": "Expected positive impact",
              "to": "n_market_success",
              "weight": 2.0
            }
          ],
          "nodes": [
            {
              "body": "Decision to launch product in Q1",
              "id": "n_launch_product",
              "kind": "decision",
              "label": "Launch New Product"
            },
            {
              "belief": 0.75,
              "id": "n_market_success",
              "kind": "outcome",
              "label": "Market Success"
            }
          ]
        },
        "properties": {
          "edges": {
            "description": "List of directed edges",
            "items": {
              "$ref": "#/components/schemas/GraphEdgeV1"
            },
            "maxItems": 300,
            "title": "Edges",
            "type": "array"
          },
          "nodes": {
            "description": "List of graph nodes",
            "items": {
              "$ref": "#/components/schemas/GraphNodeV1"
            },
            "maxItems": 100,
            "minItems": 1,
            "title": "Nodes",
            "type": "array"
          }
        },
        "required": [
          "nodes",
          "edges"
        ],
        "title": "GraphV1",
        "type": "object"
      },
      "GraphV2": {
        "description": "Causal graph with dual uncertainty edges.\n\nRepresents a directed acyclic graph where each edge has both\nstructural uncertainty (exists_probability) and parametric\nuncertainty (strength distribution).",
        "example": {
          "edges": [
            {
              "exists_probability": 0.95,
              "from": "price",
              "strength": {
                "mean": 0.5,
                "std": 0.1
              },
              "to": "revenue"
            }
          ],
          "nodes": [
            {
              "id": "price",
              "kind": "decision",
              "label": "Price"
            },
            {
              "id": "revenue",
              "kind": "outcome",
              "label": "Revenue"
            }
          ]
        },
        "properties": {
          "edges": {
            "description": "List of directed edges with dual uncertainty",
            "items": {
              "$ref": "#/components/schemas/EdgeV2"
            },
            "maxItems": 300,
            "title": "Edges",
            "type": "array"
          },
          "nodes": {
            "description": "List of graph nodes",
            "items": {
              "$ref": "#/components/schemas/NodeV2"
            },
            "maxItems": 100,
            "minItems": 1,
            "title": "Nodes",
            "type": "array"
          }
        },
        "required": [
          "nodes",
          "edges"
        ],
        "title": "GraphV2",
        "type": "object"
      },
      "GridSearchMetrics": {
        "description": "Metrics from grid search optimization.",
        "example": {
          "computation_time_ms": 125.5,
          "convergence_achieved": true,
          "feasible_points": 350,
          "grid_points_evaluated": 400
        },
        "properties": {
          "computation_time_ms": {
            "description": "Computation time in milliseconds",
            "minimum": 0.0,
            "title": "Computation Time Ms",
            "type": "number"
          },
          "convergence_achieved": {
            "description": "True if optimization converged",
            "title": "Convergence Achieved",
            "type": "boolean"
          },
          "feasible_points": {
            "description": "Number of points satisfying all constraints",
            "minimum": 0.0,
            "title": "Feasible Points",
            "type": "integer"
          },
          "grid_points_evaluated": {
            "description": "Number of grid points evaluated",
            "minimum": 0.0,
            "title": "Grid Points Evaluated",
            "type": "integer"
          }
        },
        "required": [
          "grid_points_evaluated",
          "feasible_points",
          "computation_time_ms",
          "convergence_achieved"
        ],
        "title": "GridSearchMetrics",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "HealthResponse": {
        "description": "Response model for health check endpoint.",
        "example": {
          "build": "f380662",
          "build_full": "f380662abc123def456789012345678901234567",
          "status": "healthy",
          "timestamp": "2025-01-15T10:30:00Z",
          "version": "1.0.0"
        },
        "properties": {
          "build": {
            "default": "unknown",
            "description": "Short Git commit SHA (7 chars)",
            "title": "Build",
            "type": "string"
          },
          "build_full": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Full Git commit SHA (40 chars)",
            "title": "Build Full"
          },
          "config_fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Config fingerprint for determinism verification",
            "title": "Config Fingerprint"
          },
          "status": {
            "default": "healthy",
            "description": "Service status",
            "title": "Status",
            "type": "string"
          },
          "timestamp": {
            "description": "Current timestamp",
            "title": "Timestamp",
            "type": "string"
          },
          "version": {
            "description": "Service version",
            "title": "Version",
            "type": "string"
          }
        },
        "required": [
          "version",
          "timestamp"
        ],
        "title": "HealthResponse",
        "type": "object"
      },
      "ISLResponseMetadata": {
        "description": "Standard metadata included in all ISL responses.\n\nAttributes:\n    request_id: Unique identifier for request tracing\n    computation_time_ms: Time taken for computation in milliseconds\n    isl_version: ISL service version\n    algorithm: Algorithm/method used for computation\n    cache_hit: Whether result was served from cache",
        "example": {
          "algorithm": "weighted_sum",
          "cache_hit": false,
          "computation_time_ms": 123.45,
          "isl_version": "2.0",
          "request_id": "req_a1b2c3d4e5f6"
        },
        "properties": {
          "algorithm": {
            "anyOf": [
              {
                "maxLength": 100,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Algorithm/method used (e.g., 'weighted_sum', 'skyline_pareto')",
            "title": "Algorithm"
          },
          "cache_hit": {
            "default": false,
            "description": "Whether result was served from cache",
            "title": "Cache Hit",
            "type": "boolean"
          },
          "computation_time_ms": {
            "description": "Computation time in milliseconds",
            "minimum": 0.0,
            "title": "Computation Time Ms",
            "type": "number"
          },
          "isl_version": {
            "default": "2.0",
            "description": "ISL service version",
            "title": "Isl Version",
            "type": "string"
          },
          "request_id": {
            "description": "Unique request identifier for tracing",
            "maxLength": 100,
            "minLength": 1,
            "title": "Request Id",
            "type": "string"
          }
        },
        "required": [
          "request_id",
          "computation_time_ms"
        ],
        "title": "ISLResponseMetadata",
        "type": "object"
      },
      "ISLResponseV2": {
        "description": "Enhanced response with explicit status fields and diagnostics.",
        "example": {
          "analysis_status": "computed",
          "critiques": [],
          "endpoint_version": "analyze/v2",
          "engine_version": "1.0.0",
          "factor_sensitivity_status": "computed",
          "options": [
            {
              "id": "option_a",
              "label": "Option A",
              "outcome": {
                "mean": 50000.0,
                "n_samples": 1000,
                "n_valid_samples": 1000,
                "p10": 42000.0,
                "p50": 50000.0,
                "p90": 58000.0,
                "std": 5000.0,
                "validity_ratio": 1.0
              },
              "status": "computed"
            }
          ],
          "processing_time_ms": 150,
          "request_echo": {
            "goal_node_id_hash": "abc123def456",
            "graph_edge_count": 4,
            "graph_node_count": 5,
            "include_diagnostics": false,
            "n_samples": 1000,
            "options_count": 2,
            "response_version_requested": 2
          },
          "request_id": "req_abc123",
          "robustness": {
            "confidence": 0.92,
            "level": "high"
          },
          "robustness_status": "computed",
          "seed_used": "42",
          "timestamp": "2025-01-15T10:30:00Z",
          "version": "2.0"
        },
        "properties": {
          "analysis_status": {
            "description": "Overall analysis status",
            "enum": [
              "computed",
              "partial",
              "failed"
            ],
            "title": "Analysis Status",
            "type": "string"
          },
          "critiques": {
            "description": "Structured critiques",
            "items": {
              "$ref": "#/components/schemas/CritiqueV2"
            },
            "title": "Critiques",
            "type": "array"
          },
          "diagnostics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DiagnosticsV2"
              },
              {
                "type": "null"
              }
            ],
            "description": "Detailed diagnostics (when requested)"
          },
          "endpoint_version": {
            "description": "Endpoint version, e.g., 'analyze/v2'",
            "title": "Endpoint Version",
            "type": "string"
          },
          "engine_version": {
            "description": "ISL engine version",
            "title": "Engine Version",
            "type": "string"
          },
          "factor_sensitivity": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/FactorSensitivityV2"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Factor sensitivity results",
            "title": "Factor Sensitivity"
          },
          "factor_sensitivity_status": {
            "description": "Factor sensitivity status",
            "enum": [
              "computed",
              "skipped",
              "unavailable",
              "error"
            ],
            "title": "Factor Sensitivity Status",
            "type": "string"
          },
          "options": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/OptionResultV2"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Option results",
            "title": "Options"
          },
          "processing_time_ms": {
            "description": "Processing time in milliseconds",
            "title": "Processing Time Ms",
            "type": "integer"
          },
          "request_echo": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RequestEchoV2"
              }
            ],
            "description": "Echo of request parameters"
          },
          "request_id": {
            "description": "Request ID for correlation",
            "title": "Request Id",
            "type": "string"
          },
          "robustness": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RobustnessResultV2"
              },
              {
                "type": "null"
              }
            ],
            "description": "Robustness assessment"
          },
          "robustness_status": {
            "description": "Robustness analysis status",
            "enum": [
              "computed",
              "skipped",
              "unavailable",
              "error"
            ],
            "title": "Robustness Status",
            "type": "string"
          },
          "seed_used": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "RNG seed used for deterministic reproduction",
            "title": "Seed Used"
          },
          "status_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reason for non-computed status",
            "title": "Status Reason"
          },
          "timestamp": {
            "description": "Response timestamp in ISO 8601 format",
            "title": "Timestamp",
            "type": "string"
          },
          "version": {
            "default": "2.0",
            "description": "Response schema version",
            "title": "Version",
            "type": "string"
          }
        },
        "required": [
          "endpoint_version",
          "engine_version",
          "analysis_status",
          "robustness_status",
          "factor_sensitivity_status",
          "request_echo",
          "request_id",
          "processing_time_ms"
        ],
        "title": "ISLResponseV2",
        "type": "object"
      },
      "ISLV2Error422": {
        "description": "422 error response \u2014 MUST be returned unwrapped (no envelope).\n\nPer P2 brief: This is the exact shape PLoT/UI expect for validation failures.\nDO NOT wrap in {\"error\": {...}} or add success: false.",
        "example": {
          "analysis_status": "blocked",
          "critiques": [
            {
              "affected_node_ids": [
                "nonexistent_node"
              ],
              "code": "INVALID_INTERVENTION_TARGET",
              "id": "critique_a1b2c3d4",
              "message": "Intervention targets non-existent node: 'nonexistent_node'",
              "severity": "blocker",
              "source": "validation",
              "suggestion": "Interventions must target nodes that exist in the graph"
            }
          ],
          "request_id": "isl-a1b2c3d4e5f6",
          "status_reason": "Intervention targets non-existent node"
        },
        "properties": {
          "analysis_status": {
            "const": "blocked",
            "default": "blocked",
            "description": "Always 'blocked' for 422 responses",
            "title": "Analysis Status"
          },
          "critiques": {
            "description": "Structured critiques explaining the validation failure",
            "items": {
              "$ref": "#/components/schemas/CritiqueV2"
            },
            "title": "Critiques",
            "type": "array"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request ID for correlation (echoed if available)",
            "title": "Request Id"
          },
          "status_reason": {
            "description": "Human-readable reason for blocking",
            "title": "Status Reason",
            "type": "string"
          }
        },
        "required": [
          "status_reason",
          "critiques"
        ],
        "title": "ISLV2Error422",
        "type": "object"
      },
      "IdentifiabilityFromDAGRequest": {
        "description": "Request model for identifiability analysis from simple DAG structure.\n\nAlternative to GraphV1 format for simpler use cases.",
        "example": {
          "edges": [
            [
              "price",
              "revenue"
            ],
            [
              "market_segment",
              "price"
            ],
            [
              "market_segment",
              "revenue"
            ]
          ],
          "nodes": [
            "price",
            "market_segment",
            "revenue"
          ],
          "outcome": "revenue",
          "treatment": "price"
        },
        "properties": {
          "edges": {
            "description": "List of directed edges as (from, to) tuples",
            "items": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "type": "array"
            },
            "maxItems": 200,
            "title": "Edges",
            "type": "array"
          },
          "nodes": {
            "description": "List of node names in the DAG",
            "items": {
              "type": "string"
            },
            "maxItems": 50,
            "minItems": 2,
            "title": "Nodes",
            "type": "array"
          },
          "outcome": {
            "description": "Outcome/goal node name",
            "title": "Outcome",
            "type": "string"
          },
          "treatment": {
            "description": "Treatment/decision node name",
            "title": "Treatment",
            "type": "string"
          }
        },
        "required": [
          "nodes",
          "edges",
          "treatment",
          "outcome"
        ],
        "title": "IdentifiabilityFromDAGRequest",
        "type": "object"
      },
      "IdentifiabilityInfo": {
        "description": "Structured identifiability information for causal effects.\n\nThis implements the Y\u2080 identifiability analysis as specified,\nincluding the hard rule for non-identifiable effects.",
        "example": {
          "adjustment_set": [
            "market_segment"
          ],
          "confidence": "high",
          "effect": "price \u2192 revenue",
          "explanation": "The effect of 'price' on 'revenue' is identifiable using the backdoor criterion. Adjust for: market_segment.",
          "identifiable": true,
          "method": "backdoor"
        },
        "properties": {
          "adjustment_set": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Variables to condition on for identification (if identifiable)",
            "title": "Adjustment Set"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in the identifiability assessment"
          },
          "effect": {
            "description": "The causal effect being analyzed (e.g., 'decision \u2192 goal')",
            "title": "Effect",
            "type": "string"
          },
          "explanation": {
            "description": "Human-readable explanation of identifiability status",
            "title": "Explanation",
            "type": "string"
          },
          "identifiable": {
            "description": "Whether the causal effect is identifiable from observational data",
            "title": "Identifiable",
            "type": "boolean"
          },
          "method": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdentificationMethodEnum"
              },
              {
                "type": "null"
              }
            ],
            "description": "Method used for identification: backdoor, frontdoor, instrumental, do_calculus, or non_identifiable"
          }
        },
        "required": [
          "effect",
          "identifiable",
          "confidence",
          "explanation"
        ],
        "title": "IdentifiabilityInfo",
        "type": "object"
      },
      "IdentifiabilityRequest": {
        "description": "Request model for Y\u2080 identifiability analysis endpoint.\n\nAnalyzes whether the causal effect from decision to goal is identifiable\nfrom observational data given the graph structure.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "price",
                "to": "revenue",
                "weight": 2.0
              },
              {
                "from": "market_segment",
                "to": "price",
                "weight": 1.5
              },
              {
                "from": "market_segment",
                "to": "revenue",
                "weight": 1.0
              }
            ],
            "nodes": [
              {
                "id": "price",
                "kind": "decision",
                "label": "Pricing Strategy"
              },
              {
                "id": "market_segment",
                "kind": "factor",
                "label": "Market Segment"
              },
              {
                "id": "revenue",
                "kind": "goal",
                "label": "Revenue Target"
              }
            ]
          }
        },
        "properties": {
          "decision_node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Override: specific decision node ID (auto-detected from kind='decision' if not provided)",
            "title": "Decision Node Id"
          },
          "goal_node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Override: specific goal node ID (auto-detected from kind='goal' if not provided)",
            "title": "Goal Node Id"
          },
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph with typed nodes (must include decision and goal nodes)"
          }
        },
        "required": [
          "graph"
        ],
        "title": "IdentifiabilityRequest",
        "type": "object"
      },
      "IdentifiabilityResponse": {
        "description": "Response model for Y\u2080 identifiability analysis endpoint.\n\nImplements the hard rule: if primary decision\u2192goal effect is non-identifiable,\nrecommendations are marked as 'exploratory' rather than 'actionable'.",
        "examples": [
          {
            "title": "Identifiable Effect",
            "value": {
              "backdoor_paths": [
                "price \u2192 market_segment \u2192 revenue"
              ],
              "identifiability": {
                "adjustment_set": [
                  "market_segment"
                ],
                "confidence": "high",
                "effect": "price \u2192 revenue",
                "explanation": "The effect of 'price' on 'revenue' is identifiable using the backdoor criterion. Adjust for: market_segment.",
                "identifiable": true,
                "method": "backdoor"
              },
              "recommendation_status": "actionable",
              "schema_version": "identifiability.v1"
            }
          },
          {
            "title": "Non-Identifiable Effect (Hard Rule Applied)",
            "value": {
              "backdoor_paths": [
                "marketing_spend \u2192 unmeasured_confounder \u2192 sales"
              ],
              "identifiability": {
                "confidence": "high",
                "effect": "marketing_spend \u2192 sales",
                "explanation": "The effect of 'marketing_spend' on 'sales' is NOT identifiable. There is unmeasured confounding that cannot be blocked.",
                "identifiable": false,
                "method": "non_identifiable"
              },
              "recommendation_caveat": "Causal effect cannot be confirmed from current model structure. Recommendations should be treated as exploratory hypotheses, not actionable conclusions.",
              "recommendation_status": "exploratory",
              "schema_version": "identifiability.v1",
              "suggestions": [
                {
                  "description": "If 'market_conditions' were observed as a confounder, conditioning on it might block the backdoor path",
                  "priority": "recommended",
                  "variable_to_add": "market_conditions_observed"
                },
                {
                  "description": "Adding an instrumental variable that affects 'marketing_spend' but not 'sales' directly could enable identification",
                  "edges_to_add": [
                    [
                      "marketing_spend_instrument",
                      "marketing_spend"
                    ]
                  ],
                  "priority": "recommended",
                  "variable_to_add": "marketing_spend_instrument"
                }
              ]
            }
          }
        ],
        "properties": {
          "backdoor_paths": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Backdoor paths identified in the graph",
            "title": "Backdoor Paths"
          },
          "identifiability": {
            "allOf": [
              {
                "$ref": "#/components/schemas/IdentifiabilityInfo"
              }
            ],
            "description": "Core identifiability analysis results"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "recommendation_caveat": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Caveat for recommendations if effect is non-identifiable",
            "title": "Recommendation Caveat"
          },
          "recommendation_status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__responses__RecommendationStatusEnum"
              }
            ],
            "description": "HARD RULE: 'actionable' if identifiable, 'exploratory' if not"
          },
          "schema_version": {
            "default": "identifiability.v1",
            "description": "Schema version for this response",
            "title": "Schema Version",
            "type": "string"
          },
          "suggestions": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/IdentifiabilitySuggestionResponse"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Suggestions for making effect identifiable (if non-identifiable)",
            "title": "Suggestions"
          }
        },
        "required": [
          "identifiability",
          "recommendation_status"
        ],
        "title": "IdentifiabilityResponse",
        "type": "object"
      },
      "IdentifiabilitySuggestionResponse": {
        "description": "Suggestion for making an effect identifiable.",
        "example": {
          "description": "Adding 'market_conditions' as an observed factor would enable backdoor adjustment",
          "edges_to_add": [
            [
              "market_conditions_observed",
              "price"
            ],
            [
              "market_conditions_observed",
              "revenue"
            ]
          ],
          "priority": "recommended",
          "variable_to_add": "market_conditions_observed"
        },
        "properties": {
          "description": {
            "description": "Human-readable suggestion for making effect identifiable",
            "title": "Description",
            "type": "string"
          },
          "edges_to_add": {
            "anyOf": [
              {
                "items": {
                  "maxItems": 2,
                  "minItems": 2,
                  "prefixItems": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Edges that could be added to enable identification",
            "title": "Edges To Add"
          },
          "priority": {
            "default": "recommended",
            "description": "Priority: 'critical', 'recommended', 'optional'",
            "title": "Priority",
            "type": "string"
          },
          "variable_to_add": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Variable that could be added to enable identification",
            "title": "Variable To Add"
          }
        },
        "required": [
          "description"
        ],
        "title": "IdentifiabilitySuggestionResponse",
        "type": "object"
      },
      "IdentificationMethodEnum": {
        "description": "Method used for causal identification.",
        "enum": [
          "backdoor",
          "frontdoor",
          "instrumental",
          "do_calculus",
          "non_identifiable"
        ],
        "title": "IdentificationMethodEnum",
        "type": "string"
      },
      "ImpactAssessment": {
        "description": "Impact of an assumption being wrong.",
        "properties": {
          "if_wrong": {
            "description": "Absolute change in result if assumption wrong",
            "title": "If Wrong",
            "type": "number"
          },
          "percentage": {
            "description": "Percentage of total variance explained",
            "title": "Percentage",
            "type": "number"
          }
        },
        "required": [
          "if_wrong",
          "percentage"
        ],
        "title": "ImpactAssessment",
        "type": "object"
      },
      "ImpactDirectionEnum": {
        "description": "Direction of parameter impact on outcome.",
        "enum": [
          "positive",
          "negative"
        ],
        "title": "ImpactDirectionEnum",
        "type": "string"
      },
      "ImpactLevel": {
        "description": "Impact level of suggestion.",
        "enum": [
          "high",
          "medium",
          "low"
        ],
        "title": "ImpactLevel",
        "type": "string"
      },
      "ImpliedCorrelationMatrix": {
        "description": "The implied correlation matrix from groups.",
        "example": {
          "factors": [
            "demand",
            "competition"
          ],
          "matrix": [
            [
              1.0,
              0.7
            ],
            [
              0.7,
              1.0
            ]
          ]
        },
        "properties": {
          "factors": {
            "description": "Factor IDs in matrix order",
            "items": {
              "type": "string"
            },
            "title": "Factors",
            "type": "array"
          },
          "matrix": {
            "description": "Correlation matrix values",
            "items": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "title": "Matrix",
            "type": "array"
          }
        },
        "required": [
          "factors",
          "matrix"
        ],
        "title": "ImpliedCorrelationMatrix",
        "type": "object"
      },
      "ImportanceLevel": {
        "description": "Importance level for assumptions.",
        "enum": [
          "critical",
          "moderate",
          "minor"
        ],
        "title": "ImportanceLevel",
        "type": "string"
      },
      "InfeasibleOption": {
        "description": "An option that violates one or more constraints.",
        "example": {
          "option_id": "option_c",
          "total_violation_magnitude": 20000,
          "violated_constraints": [
            "budget_limit",
            "capacity"
          ],
          "violation_details": [
            {
              "actual_value": 120000,
              "constraint_id": "budget_limit",
              "is_hard_violation": true,
              "threshold": 100000,
              "violation_magnitude": 20000
            }
          ]
        },
        "properties": {
          "option_id": {
            "description": "ID of the infeasible option",
            "title": "Option Id",
            "type": "string"
          },
          "total_violation_magnitude": {
            "description": "Sum of all violation magnitudes",
            "title": "Total Violation Magnitude",
            "type": "number"
          },
          "violated_constraints": {
            "description": "List of constraint IDs that were violated",
            "items": {
              "type": "string"
            },
            "title": "Violated Constraints",
            "type": "array"
          },
          "violation_details": {
            "description": "Detailed information about each violation",
            "items": {
              "$ref": "#/components/schemas/ConstraintViolation"
            },
            "title": "Violation Details",
            "type": "array"
          }
        },
        "required": [
          "option_id",
          "violated_constraints",
          "violation_details",
          "total_violation_magnitude"
        ],
        "title": "InfeasibleOption",
        "type": "object"
      },
      "InteractionAnalysis": {
        "description": "Analysis of variable interactions.",
        "example": {
          "pairwise": [
            {
              "effect_size": 5000,
              "explanation": "Price and Quality interact synergistically",
              "significance": 0.85,
              "type": "synergistic",
              "variables": [
                "Price",
                "Quality"
              ]
            }
          ],
          "summary": "Strong synergistic interaction between Price and Quality (\u00a35k additional gain)"
        },
        "properties": {
          "pairwise": {
            "description": "Pairwise interactions detected",
            "items": {
              "$ref": "#/components/schemas/PairwiseInteraction"
            },
            "title": "Pairwise",
            "type": "array"
          },
          "summary": {
            "description": "Plain English summary of interactions",
            "title": "Summary",
            "type": "string"
          }
        },
        "required": [
          "summary"
        ],
        "title": "InteractionAnalysis",
        "type": "object"
      },
      "InterventionChange": {
        "description": "A single variable change in an intervention.",
        "example": {
          "delta": 5,
          "from_value": 40,
          "relative_change": 12.5,
          "to_value": 45,
          "unit": "\u00a3",
          "variable": "Price"
        },
        "properties": {
          "delta": {
            "description": "Absolute change (to_value - from_value)",
            "title": "Delta",
            "type": "number"
          },
          "from_value": {
            "description": "Current value",
            "title": "From Value",
            "type": "number"
          },
          "relative_change": {
            "description": "Relative change as percentage",
            "title": "Relative Change",
            "type": "number"
          },
          "to_value": {
            "description": "Proposed new value",
            "title": "To Value",
            "type": "number"
          },
          "unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional unit of measurement",
            "title": "Unit"
          },
          "variable": {
            "description": "Variable name",
            "title": "Variable",
            "type": "string"
          }
        },
        "required": [
          "variable",
          "from_value",
          "to_value",
          "delta",
          "relative_change"
        ],
        "title": "InterventionChange",
        "type": "object"
      },
      "InterventionComparison": {
        "description": "Comparison of multiple interventions.",
        "example": {
          "best_by_cost": 1,
          "best_by_feasibility": 2,
          "best_by_robustness": 1,
          "synergies": "Combining Price and Marketing changes yields diminishing returns (expected gain: \u00a352k vs \u00a351k individually)",
          "tradeoffs": "Price increase is cheaper but less robust; Marketing spend is more robust but costlier"
        },
        "properties": {
          "best_by_cost": {
            "description": "Rank of best intervention by cost",
            "title": "Best By Cost",
            "type": "integer"
          },
          "best_by_feasibility": {
            "description": "Rank of best intervention by feasibility",
            "title": "Best By Feasibility",
            "type": "integer"
          },
          "best_by_robustness": {
            "description": "Rank of best intervention by robustness",
            "title": "Best By Robustness",
            "type": "integer"
          },
          "synergies": {
            "description": "Analysis of combining multiple interventions",
            "title": "Synergies",
            "type": "string"
          },
          "tradeoffs": {
            "description": "Key tradeoffs between interventions",
            "title": "Tradeoffs",
            "type": "string"
          }
        },
        "required": [
          "best_by_cost",
          "best_by_robustness",
          "best_by_feasibility",
          "synergies",
          "tradeoffs"
        ],
        "title": "InterventionComparison",
        "type": "object"
      },
      "InterventionConstraints": {
        "description": "Constraints for finding minimal interventions.",
        "example": {
          "feasible": [
            "Price",
            "Marketing"
          ],
          "fixed": [
            "Quality"
          ],
          "max_changes": 2,
          "minimize": "cost",
          "variable_bounds": {
            "Marketing": [
              10000,
              100000
            ],
            "Price": [
              30,
              100
            ]
          }
        },
        "properties": {
          "feasible": {
            "description": "Variables that can be changed",
            "items": {
              "type": "string"
            },
            "maxItems": 20,
            "minItems": 1,
            "title": "Feasible",
            "type": "array"
          },
          "fixed": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "maxItems": 20,
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Variables that cannot be changed",
            "title": "Fixed"
          },
          "max_changes": {
            "default": 1,
            "description": "Maximum number of variables to change simultaneously",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Max Changes",
            "type": "integer"
          },
          "minimize": {
            "default": "change_magnitude",
            "description": "Optimization criterion: change_magnitude, cost, or feasibility",
            "title": "Minimize",
            "type": "string"
          },
          "variable_bounds": {
            "anyOf": [
              {
                "additionalProperties": {
                  "maxItems": 2,
                  "minItems": 2,
                  "prefixItems": [
                    {
                      "type": "number"
                    },
                    {
                      "type": "number"
                    }
                  ],
                  "type": "array"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional bounds for each variable (min, max)",
            "title": "Variable Bounds"
          }
        },
        "required": [
          "feasible"
        ],
        "title": "InterventionConstraints",
        "type": "object"
      },
      "InterventionOption": {
        "description": "A decision option with its interventions.",
        "example": {
          "id": "low_price",
          "interventions": {
            "price": 0.49
          },
          "label": "Keep price at $49"
        },
        "properties": {
          "id": {
            "description": "Unique option identifier",
            "title": "Id",
            "type": "string"
          },
          "interventions": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "node_id -> intervention value mapping",
            "title": "Interventions",
            "type": "object"
          },
          "label": {
            "description": "Human-readable option name",
            "maxLength": 500,
            "title": "Label",
            "type": "string"
          }
        },
        "required": [
          "id",
          "label",
          "interventions"
        ],
        "title": "InterventionOption",
        "type": "object"
      },
      "InterventionRegion": {
        "description": "Multi-dimensional region of intervention values.\n\nRepresents set of interventions that achieve target outcome.\nEach region is defined as a hyper-rectangle in intervention space.",
        "example": {
          "variable_ranges": {
            "price": [
              52.0,
              58.0
            ],
            "quality_score": [
              7.5,
              8.5
            ]
          }
        },
        "properties": {
          "variable_ranges": {
            "additionalProperties": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array"
            },
            "description": "Variable name \u2192 (min, max) range",
            "title": "Variable Ranges",
            "type": "object"
          }
        },
        "required": [
          "variable_ranges"
        ],
        "title": "InterventionRegion",
        "type": "object"
      },
      "MinimalIntervention": {
        "description": "A minimal intervention achieving target outcome.",
        "example": {
          "changes": {
            "Price": {
              "delta": 5,
              "from_value": 40,
              "relative_change": 12.5,
              "to_value": 45,
              "unit": "\u00a3",
              "variable": "Price"
            }
          },
          "confidence_interval": {
            "Revenue": {
              "confidence_level": 0.95,
              "lower": 48000,
              "upper": 54000
            }
          },
          "cost_estimate": "low",
          "expected_outcome": {
            "Revenue": 51000
          },
          "feasibility": 0.95,
          "rank": 1,
          "robustness": "robust",
          "robustness_score": 0.85
        },
        "properties": {
          "changes": {
            "additionalProperties": {
              "$ref": "#/components/schemas/InterventionChange"
            },
            "description": "Variables to change and their values",
            "title": "Changes",
            "type": "object"
          },
          "confidence_interval": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ConfidenceInterval"
            },
            "description": "Confidence intervals for each outcome",
            "title": "Confidence Interval",
            "type": "object"
          },
          "cost_estimate": {
            "description": "Cost estimate: low, medium, high",
            "title": "Cost Estimate",
            "type": "string"
          },
          "expected_outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Expected outcome values after intervention",
            "title": "Expected Outcome",
            "type": "object"
          },
          "feasibility": {
            "description": "Feasibility score (0-1, higher = more feasible)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Feasibility",
            "type": "number"
          },
          "rank": {
            "description": "Rank by optimization criterion (1 = best)",
            "minimum": 1.0,
            "title": "Rank",
            "type": "integer"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLevel"
              }
            ],
            "description": "Robustness level from FACET analysis"
          },
          "robustness_score": {
            "description": "Numerical robustness score (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "type": "number"
          }
        },
        "required": [
          "rank",
          "changes",
          "expected_outcome",
          "confidence_interval",
          "feasibility",
          "cost_estimate",
          "robustness",
          "robustness_score"
        ],
        "title": "MinimalIntervention",
        "type": "object"
      },
      "ModelSuggestion": {
        "description": "Suggestion for model improvement.",
        "properties": {
          "confidence": {
            "description": "Confidence in suggestion (0-1)",
            "title": "Confidence",
            "type": "number"
          },
          "description": {
            "description": "What to change",
            "title": "Description",
            "type": "string"
          },
          "impact": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImpactLevel"
              }
            ],
            "description": "Expected impact"
          },
          "rationale": {
            "description": "Why this change would help",
            "title": "Rationale",
            "type": "string"
          },
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SuggestionType"
              }
            ],
            "description": "Type of suggestion"
          }
        },
        "required": [
          "type",
          "description",
          "rationale",
          "confidence",
          "impact"
        ],
        "title": "ModelSuggestion",
        "type": "object"
      },
      "MultiCriteriaRequest": {
        "description": "Request model for multi-criteria aggregation endpoint.",
        "example": {
          "aggregation_method": "weighted_sum",
          "criteria": [
            {
              "criterion_id": "revenue",
              "criterion_name": "Expected Revenue",
              "options": [
                {
                  "option_id": "opt_a",
                  "option_label": "Option A",
                  "p10": 0.65,
                  "p50": 0.85,
                  "p90": 0.95
                },
                {
                  "option_id": "opt_b",
                  "option_label": "Option B",
                  "p10": 0.45,
                  "p50": 0.6,
                  "p90": 0.75
                }
              ]
            },
            {
              "criterion_id": "risk",
              "criterion_name": "Risk Level",
              "options": [
                {
                  "option_id": "opt_a",
                  "option_label": "Option A",
                  "p10": 0.3,
                  "p50": 0.4,
                  "p90": 0.55
                },
                {
                  "option_id": "opt_b",
                  "option_label": "Option B",
                  "p10": 0.7,
                  "p50": 0.8,
                  "p90": 0.9
                }
              ]
            }
          ],
          "percentile": "p50",
          "request_id": "req_abc123",
          "trade_off_threshold": 0.05,
          "weights": {
            "revenue": 0.6,
            "risk": 0.4
          }
        },
        "properties": {
          "aggregation_method": {
            "description": "Aggregation method to use",
            "pattern": "^(weighted_sum|weighted_product|lexicographic)$",
            "title": "Aggregation Method",
            "type": "string"
          },
          "criteria": {
            "description": "Results for each criterion with option scores",
            "items": {
              "$ref": "#/components/schemas/CriterionResult"
            },
            "maxItems": 10,
            "minItems": 1,
            "title": "Criteria",
            "type": "array"
          },
          "percentile": {
            "anyOf": [
              {
                "pattern": "^(p10|p50|p90)$",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "p50",
            "description": "Which percentile to use for aggregation",
            "title": "Percentile"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional request ID for tracing",
            "title": "Request Id"
          },
          "timeout_ms": {
            "anyOf": [
              {
                "maximum": 30000.0,
                "minimum": 100.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 5000,
            "description": "Request timeout in milliseconds",
            "title": "Timeout Ms"
          },
          "trade_off_threshold": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": 0.05,
            "description": "Minimum score difference to report as trade-off",
            "title": "Trade Off Threshold"
          },
          "weights": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Weights by criterion_id (should sum to 1.0, will auto-normalize if not)",
            "title": "Weights",
            "type": "object"
          }
        },
        "required": [
          "criteria",
          "aggregation_method",
          "weights"
        ],
        "title": "MultiCriteriaRequest",
        "type": "object"
      },
      "MultiCriteriaResponse": {
        "description": "Response model for multi-criteria aggregation endpoint.",
        "example": {
          "aggregated_rankings": [
            {
              "aggregated_score": 72.5,
              "option_id": "opt_a",
              "option_label": "Option A",
              "rank": 1,
              "scores_by_criterion": {
                "revenue": 0.85,
                "risk": 0.4
              }
            },
            {
              "aggregated_score": 68.0,
              "option_id": "opt_b",
              "option_label": "Option B",
              "rank": 2,
              "scores_by_criterion": {
                "revenue": 0.6,
                "risk": 0.8
              }
            }
          ],
          "metadata": {
            "algorithm": "weighted_sum",
            "cache_hit": false,
            "computation_time_ms": 5.2,
            "isl_version": "2.0",
            "request_id": "req_abc123"
          },
          "trade_offs": [
            {
              "a_better_on": [
                "revenue"
              ],
              "b_better_on": [
                "risk"
              ],
              "max_difference": 0.4,
              "option_a_id": "opt_a",
              "option_a_label": "Option A",
              "option_b_id": "opt_b",
              "option_b_label": "Option B"
            }
          ],
          "warnings": [
            {
              "affected_items": [
                "revenue",
                "risk"
              ],
              "code": "WEIGHTS_NORMALIZED",
              "message": "Weights normalized from sum=0.95 to sum=1.0"
            }
          ]
        },
        "properties": {
          "aggregated_rankings": {
            "description": "Options ranked by aggregated score (sorted best to worst)",
            "items": {
              "$ref": "#/components/schemas/AggregatedRanking"
            },
            "title": "Aggregated Rankings",
            "type": "array"
          },
          "identifiability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdentifiabilityInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Identifiability analysis for the primary decision\u2192goal effect (if graph provided)"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "recommendation_caveat": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Caveat for recommendations (required if recommendation_status is 'exploratory')",
            "title": "Recommendation Caveat"
          },
          "recommendation_status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/src__models__responses__RecommendationStatusEnum"
              },
              {
                "type": "null"
              }
            ],
            "description": "HARD RULE: 'actionable' if identifiable, 'exploratory' if not"
          },
          "trade_offs": {
            "description": "Significant trade-offs between top options",
            "items": {
              "$ref": "#/components/schemas/TradeOff"
            },
            "title": "Trade Offs",
            "type": "array"
          },
          "warnings": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ValidationWarning"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Warnings about auto-corrections or validation issues",
            "title": "Warnings"
          }
        },
        "required": [
          "aggregated_rankings",
          "trade_offs"
        ],
        "title": "MultiCriteriaResponse",
        "type": "object"
      },
      "NodeKind": {
        "description": "Node kind for GraphV1.",
        "enum": [
          "goal",
          "decision",
          "option",
          "outcome",
          "risk",
          "action",
          "factor"
        ],
        "title": "NodeKind",
        "type": "string"
      },
      "NodeV2": {
        "description": "Node in the v2 causal graph.",
        "example": {
          "id": "revenue",
          "intercept": 0.0,
          "kind": "outcome",
          "label": "Total Revenue",
          "observed_state": {
            "baseline": 49.0,
            "unit": "\u00a3k",
            "value": 59.0
          }
        },
        "properties": {
          "body": {
            "anyOf": [
              {
                "maxLength": 5000,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Detailed description",
            "title": "Body"
          },
          "id": {
            "description": "Unique node identifier",
            "pattern": "^[a-z0-9_:-]+$",
            "title": "Id",
            "type": "string"
          },
          "intercept": {
            "default": 0.0,
            "description": "Node intercept term (constant added to structural equation). Represents the baseline value when all parent contributions are zero.",
            "title": "Intercept",
            "type": "number"
          },
          "kind": {
            "description": "Node type (factor, decision, chance, outcome, etc.)",
            "title": "Kind",
            "type": "string"
          },
          "label": {
            "description": "Human-readable node name",
            "maxLength": 500,
            "title": "Label",
            "type": "string"
          },
          "observed_state": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ObservedState"
              },
              {
                "type": "null"
              }
            ],
            "description": "Observed state for quantitative factor nodes (value, baseline, unit, source)"
          }
        },
        "required": [
          "id",
          "kind",
          "label"
        ],
        "title": "NodeV2",
        "type": "object"
      },
      "NormalisedGoal": {
        "description": "Normalised goal specification after validation.",
        "example": {
          "direction": "maximize",
          "goal_id": "revenue",
          "label": "Maximize Revenue",
          "normalised_weight": 0.6,
          "original_weight": 0.6,
          "priority": 1
        },
        "properties": {
          "direction": {
            "description": "Optimization direction",
            "title": "Direction",
            "type": "string"
          },
          "goal_id": {
            "description": "Goal identifier",
            "title": "Goal Id",
            "type": "string"
          },
          "label": {
            "description": "Goal label",
            "title": "Label",
            "type": "string"
          },
          "normalised_weight": {
            "description": "Weight after normalization (sums to 1.0)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Normalised Weight",
            "type": "number"
          },
          "original_weight": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Original weight before normalization",
            "title": "Original Weight"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Priority for lexicographic ordering",
            "title": "Priority"
          }
        },
        "required": [
          "goal_id",
          "label",
          "direction",
          "normalised_weight"
        ],
        "title": "NormalisedGoal",
        "type": "object"
      },
      "ObjectiveFunction": {
        "description": "Objective function specification for optimization.",
        "example": {
          "coefficients": {
            "marketing": 0.5,
            "price": 100,
            "quantity": -5
          },
          "constant": -10000,
          "direction": "maximize",
          "variable_id": "profit"
        },
        "properties": {
          "coefficients": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Linear coefficients mapping decision variable IDs to weights",
            "title": "Coefficients",
            "type": "object"
          },
          "constant": {
            "default": 0.0,
            "description": "Constant term in objective function",
            "title": "Constant",
            "type": "number"
          },
          "direction": {
            "description": "Optimization direction: 'maximize' or 'minimize'",
            "pattern": "^(maximize|minimize)$",
            "title": "Direction",
            "type": "string"
          },
          "variable_id": {
            "description": "Variable ID for the objective (outcome to optimize)",
            "maxLength": 100,
            "minLength": 1,
            "title": "Variable Id",
            "type": "string"
          }
        },
        "required": [
          "variable_id",
          "direction",
          "coefficients"
        ],
        "title": "ObjectiveFunction",
        "type": "object"
      },
      "ObservationPoint": {
        "description": "Single observation for calibration in conformal prediction.\n\nContains both inputs (intervention/context) and observed outcomes\nused to calibrate prediction intervals.",
        "example": {
          "inputs": {
            "Price": 45,
            "Quality": 8
          },
          "outcome": {
            "Revenue": 52000
          }
        },
        "properties": {
          "inputs": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Input values (interventions or context variables)",
            "title": "Inputs",
            "type": "object"
          },
          "outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Observed outcome values for this observation",
            "title": "Outcome",
            "type": "object"
          }
        },
        "required": [
          "inputs",
          "outcome"
        ],
        "title": "ObservationPoint",
        "type": "object"
      },
      "ObservedState": {
        "description": "Observed state for quantitative factor nodes.\n\nCaptures the current observed value of a factor, along with optional\nbaseline for comparison, display unit, and data provenance.\n\nThis supports the v2.2 schema where factor nodes can carry actual\nobserved values from CEE extraction or user input.",
        "example": {
          "baseline": 49.0,
          "source": "brief_extraction",
          "unit": "\u00a3k",
          "value": 59.0
        },
        "properties": {
          "baseline": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reference/baseline value for comparison (e.g., 49 for \u00a349k baseline)",
            "title": "Baseline"
          },
          "source": {
            "anyOf": [
              {
                "maxLength": 100,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Data provenance (e.g., 'brief_extraction', 'user_input', 'computed')",
            "title": "Source"
          },
          "unit": {
            "anyOf": [
              {
                "maxLength": 50,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Display unit (e.g., '\u00a3', '%', 'users', 'k')",
            "title": "Unit"
          },
          "value": {
            "description": "Current observed value in user units (e.g., 59 for \u00a359k revenue)",
            "title": "Value",
            "type": "number"
          }
        },
        "required": [
          "value"
        ],
        "title": "ObservedState",
        "type": "object"
      },
      "OptimalPoint": {
        "description": "Optimal point found by optimization.",
        "example": {
          "boundary_variables": [
            "quantity"
          ],
          "confidence_interval": {
            "confidence_level": 0.95,
            "lower": 21000.0,
            "upper": 24000.0
          },
          "feasible": true,
          "is_boundary": true,
          "objective_value": 22500.0,
          "variable_values": {
            "price": 65.0,
            "quantity": 500.0
          }
        },
        "properties": {
          "boundary_variables": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Variables at their bounds (if is_boundary=True)",
            "title": "Boundary Variables"
          },
          "confidence_interval": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceInterval"
              }
            ],
            "description": "Confidence interval for the objective value"
          },
          "feasible": {
            "default": true,
            "description": "True if point satisfies all constraints",
            "title": "Feasible",
            "type": "boolean"
          },
          "is_boundary": {
            "description": "True if optimal point is on variable bounds",
            "title": "Is Boundary",
            "type": "boolean"
          },
          "objective_value": {
            "description": "Objective function value at optimal point",
            "title": "Objective Value",
            "type": "number"
          },
          "variable_values": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Optimal values for each decision variable",
            "title": "Variable Values",
            "type": "object"
          }
        },
        "required": [
          "variable_values",
          "objective_value",
          "confidence_interval",
          "is_boundary"
        ],
        "title": "OptimalPoint",
        "type": "object"
      },
      "OptimisationConstraint": {
        "description": "Linear constraint for optimization.",
        "example": {
          "coefficients": {
            "marketing": 2.0,
            "price": 1.0
          },
          "constraint_id": "budget_limit",
          "relation": "le",
          "rhs": 1000.0
        },
        "properties": {
          "coefficients": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Coefficients mapping variable IDs to weights",
            "title": "Coefficients",
            "type": "object"
          },
          "constraint_id": {
            "description": "Unique identifier for the constraint",
            "maxLength": 100,
            "minLength": 1,
            "title": "Constraint Id",
            "type": "string"
          },
          "relation": {
            "description": "Constraint relation: 'le' (<=), 'ge' (>=), or 'eq' (=)",
            "pattern": "^(le|ge|eq)$",
            "title": "Relation",
            "type": "string"
          },
          "rhs": {
            "description": "Right-hand side value",
            "title": "Rhs",
            "type": "number"
          }
        },
        "required": [
          "constraint_id",
          "coefficients",
          "relation",
          "rhs"
        ],
        "title": "OptimisationConstraint",
        "type": "object"
      },
      "OptimisationRequest": {
        "description": "Request model for continuous optimization endpoint.",
        "example": {
          "confidence_level": 0.95,
          "constraints": [
            {
              "coefficients": {
                "quantity": 1.0
              },
              "constraint_id": "capacity",
              "relation": "le",
              "rhs": 500.0
            }
          ],
          "decision_variables": [
            {
              "lower_bound": 10.0,
              "upper_bound": 100.0,
              "variable_id": "price"
            },
            {
              "lower_bound": 0.0,
              "upper_bound": 1000.0,
              "variable_id": "quantity"
            }
          ],
          "grid_points": 20,
          "objective": {
            "coefficients": {
              "price": 100,
              "quantity": -5
            },
            "constant": -10000,
            "direction": "maximize",
            "variable_id": "profit"
          },
          "request_id": "opt_req_001"
        },
        "properties": {
          "confidence_level": {
            "default": 0.95,
            "description": "Confidence level for intervals (0.5-0.999)",
            "maximum": 0.999,
            "minimum": 0.5,
            "title": "Confidence Level",
            "type": "number"
          },
          "constraints": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/OptimisationConstraint"
                },
                "maxItems": 20,
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional linear constraints",
            "title": "Constraints"
          },
          "decision_variables": {
            "description": "Decision variables with bounds",
            "items": {
              "$ref": "#/components/schemas/DecisionVariable"
            },
            "maxItems": 10,
            "minItems": 1,
            "title": "Decision Variables",
            "type": "array"
          },
          "grid_points": {
            "default": 20,
            "description": "Number of grid points per dimension",
            "maximum": 100.0,
            "minimum": 5.0,
            "title": "Grid Points",
            "type": "integer"
          },
          "noise_std": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional standard deviation of noise for uncertainty estimation",
            "title": "Noise Std"
          },
          "objective": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectiveFunction"
              }
            ],
            "description": "Objective function to optimize"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional request ID for tracing (auto-generated if not provided)",
            "title": "Request Id"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Random seed for reproducibility",
            "title": "Seed"
          }
        },
        "required": [
          "objective",
          "decision_variables"
        ],
        "title": "OptimisationRequest",
        "type": "object"
      },
      "OptimisationResponse": {
        "description": "Response model for continuous optimization endpoint.",
        "example": {
          "grid_metrics": {
            "computation_time_ms": 125.5,
            "convergence_achieved": true,
            "feasible_points": 350,
            "grid_points_evaluated": 400
          },
          "metadata": {
            "algorithm": "grid_search",
            "cache_hit": false,
            "computation_time_ms": 125.5,
            "isl_version": "2.0",
            "request_id": "opt_req_001"
          },
          "optimal_point": {
            "boundary_variables": [
              "quantity"
            ],
            "confidence_interval": {
              "confidence_level": 0.95,
              "lower": 21000.0,
              "upper": 24000.0
            },
            "feasible": true,
            "is_boundary": true,
            "objective_value": 22500.0,
            "variable_values": {
              "price": 65.0,
              "quantity": 500.0
            }
          },
          "schema_version": "optimise.v1",
          "sensitivity": {
            "critical_variables": [
              "quantity"
            ],
            "gradient_at_optimum": {
              "price": 85.5,
              "quantity": -4.2
            },
            "range_within_5pct": {
              "price": [
                60.0,
                70.0
              ],
              "quantity": [
                450.0,
                500.0
              ]
            },
            "robustness": "moderate",
            "robustness_score": 0.65
          },
          "warnings": [
            {
              "affected_variables": [
                "quantity"
              ],
              "code": "BOUNDARY_OPTIMUM",
              "message": "Optimal point is at constraint boundary for 'quantity'."
            }
          ]
        },
        "properties": {
          "grid_metrics": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GridSearchMetrics"
              }
            ],
            "description": "Metrics from grid search"
          },
          "identifiability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdentifiabilityInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Identifiability analysis for the primary decision\u2192goal effect (if graph provided)"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "optimal_point": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/OptimalPoint"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optimal point (None if no feasible solution)"
          },
          "recommendation_caveat": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Caveat for recommendations (required if recommendation_status is 'exploratory')",
            "title": "Recommendation Caveat"
          },
          "recommendation_status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/src__models__responses__RecommendationStatusEnum"
              },
              {
                "type": "null"
              }
            ],
            "description": "HARD RULE: 'actionable' if identifiable, 'exploratory' if not"
          },
          "schema_version": {
            "default": "optimise.v1",
            "description": "Schema version for this response",
            "title": "Schema Version",
            "type": "string"
          },
          "sensitivity": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/OptimisationSensitivity"
              },
              {
                "type": "null"
              }
            ],
            "description": "Sensitivity analysis at optimal point"
          },
          "warnings": {
            "description": "Warnings about the optimization result",
            "items": {
              "$ref": "#/components/schemas/OptimisationWarning"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "grid_metrics"
        ],
        "title": "OptimisationResponse",
        "type": "object"
      },
      "OptimisationSensitivity": {
        "description": "Sensitivity analysis at the optimal point.",
        "example": {
          "critical_variables": [
            "quantity"
          ],
          "gradient_at_optimum": {
            "price": 85.5,
            "quantity": -4.2
          },
          "range_within_5pct": {
            "price": [
              60.0,
              70.0
            ],
            "quantity": [
              450.0,
              500.0
            ]
          },
          "robustness": "moderate",
          "robustness_score": 0.65
        },
        "properties": {
          "critical_variables": {
            "description": "Variables with highest sensitivity",
            "items": {
              "type": "string"
            },
            "title": "Critical Variables",
            "type": "array"
          },
          "gradient_at_optimum": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Partial derivatives (sensitivity coefficients) at optimum",
            "title": "Gradient At Optimum",
            "type": "object"
          },
          "range_within_5pct": {
            "additionalProperties": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "description": "Variable ranges where objective stays within 5% of optimum [min, max]",
            "title": "Range Within 5Pct",
            "type": "object"
          },
          "robustness": {
            "description": "Overall robustness assessment",
            "pattern": "^(robust|moderate|fragile)$",
            "title": "Robustness",
            "type": "string"
          },
          "robustness_score": {
            "description": "Numerical robustness score (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "type": "number"
          }
        },
        "required": [
          "range_within_5pct",
          "gradient_at_optimum",
          "robustness",
          "robustness_score"
        ],
        "title": "OptimisationSensitivity",
        "type": "object"
      },
      "OptimisationWarning": {
        "description": "Warning about optimization result.",
        "example": {
          "affected_variables": [
            "quantity"
          ],
          "code": "BOUNDARY_OPTIMUM",
          "message": "Optimal point is at constraint boundary for 'quantity'. Consider relaxing constraints."
        },
        "properties": {
          "affected_variables": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Variables affected by this warning",
            "title": "Affected Variables"
          },
          "code": {
            "description": "Warning code",
            "pattern": "^(NO_FEASIBLE_SOLUTION|FLAT_OBJECTIVE|BOUNDARY_OPTIMUM|NON_CONVEX|MULTIPLE_OPTIMA|CONSTRAINT_ACTIVE)$",
            "title": "Code",
            "type": "string"
          },
          "message": {
            "description": "Human-readable warning message",
            "maxLength": 500,
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "code",
          "message"
        ],
        "title": "OptimisationWarning",
        "type": "object"
      },
      "OptimizationObjectiveSpec": {
        "description": "Optimization objective specification.",
        "example": {
          "goal": "maximize",
          "target_variable": "Revenue"
        },
        "properties": {
          "goal": {
            "description": "Optimization goal: maximize, minimize, or target",
            "title": "Goal",
            "type": "string"
          },
          "target_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Target value (required if goal=target)",
            "title": "Target Value"
          },
          "target_variable": {
            "description": "Variable to optimize",
            "maxLength": 100,
            "minLength": 1,
            "title": "Target Variable",
            "type": "string"
          }
        },
        "required": [
          "target_variable",
          "goal"
        ],
        "title": "OptimizationObjectiveSpec",
        "type": "object"
      },
      "OptionDiagnosticV2": {
        "description": "Diagnostic information for a single option.",
        "properties": {
          "has_effective_path": {
            "description": "Structural path AND abs(strength.mean) >= threshold",
            "title": "Has Effective Path",
            "type": "boolean"
          },
          "has_structural_path": {
            "description": "Path exists with exists_probability >= threshold",
            "title": "Has Structural Path",
            "type": "boolean"
          },
          "intervention_count": {
            "description": "Number of interventions",
            "title": "Intervention Count",
            "type": "integer"
          },
          "option_id": {
            "description": "Option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "targets_with_effective_path_count": {
            "description": "Number of intervention targets with effective path",
            "title": "Targets With Effective Path Count",
            "type": "integer"
          },
          "targets_without_effective_path_count": {
            "description": "Number of intervention targets without effective path",
            "title": "Targets Without Effective Path Count",
            "type": "integer"
          },
          "warnings": {
            "description": "Option-specific warnings",
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "option_id",
          "intervention_count",
          "has_structural_path",
          "has_effective_path",
          "targets_with_effective_path_count",
          "targets_without_effective_path_count"
        ],
        "title": "OptionDiagnosticV2",
        "type": "object"
      },
      "OptionForFeasibility": {
        "description": "An option to check for feasibility.",
        "example": {
          "expected_value": 50000,
          "name": "Launch Premium Product",
          "option_id": "option_a",
          "variable_values": {
            "expected_revenue": 200000,
            "risk_level": 0.3,
            "total_cost": 85000
          }
        },
        "properties": {
          "expected_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Expected value/utility of this option",
            "title": "Expected Value"
          },
          "name": {
            "description": "Human-readable option name",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "type": "string"
          },
          "option_id": {
            "description": "Unique option identifier",
            "maxLength": 100,
            "minLength": 1,
            "title": "Option Id",
            "type": "string"
          },
          "variable_values": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Variable values for this option",
            "title": "Variable Values",
            "type": "object"
          }
        },
        "required": [
          "option_id",
          "name",
          "variable_values"
        ],
        "title": "OptionForFeasibility",
        "type": "object"
      },
      "OptionResult": {
        "description": "Results for a single decision option.",
        "example": {
          "option_id": "opt1",
          "outcome_distribution": {
            "ci_lower": 40000.0,
            "ci_upper": 60000.0,
            "mean": 50000.0,
            "median": 49500.0,
            "std": 5000.0
          },
          "probability_of_goal": 0.72,
          "win_probability": 0.65
        },
        "properties": {
          "option_id": {
            "description": "Option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "outcome_distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OutcomeDistribution"
              }
            ],
            "description": "Distribution of outcomes"
          },
          "probability_of_goal": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "P(outcome >= goal_threshold). Only present when goal_threshold is provided in request.",
            "title": "Probability Of Goal"
          },
          "win_probability": {
            "description": "P(this option is best)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Win Probability",
            "type": "number"
          }
        },
        "required": [
          "option_id",
          "outcome_distribution",
          "win_probability"
        ],
        "title": "OptionResult",
        "type": "object"
      },
      "OptionResultV2": {
        "description": "Analysis result for a single option.",
        "properties": {
          "id": {
            "description": "Option identifier",
            "title": "Id",
            "type": "string"
          },
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable label",
            "title": "Label"
          },
          "outcome": {
            "allOf": [
              {
                "$ref": "#/components/schemas/OutcomeDistributionV2"
              }
            ],
            "description": "Outcome distribution"
          },
          "probability_of_goal": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "P(outcome >= goal_threshold). Only present when goal_threshold is provided in request.",
            "title": "Probability Of Goal"
          },
          "status": {
            "description": "Option-specific status",
            "enum": [
              "computed",
              "partial",
              "failed"
            ],
            "title": "Status",
            "type": "string"
          },
          "status_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reason for non-computed status",
            "title": "Status Reason"
          },
          "win_probability": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "P(this option is best) - fraction of samples where this option had highest outcome",
            "title": "Win Probability"
          }
        },
        "required": [
          "id",
          "outcome",
          "status"
        ],
        "title": "OptionResultV2",
        "type": "object"
      },
      "OptionScore": {
        "description": "Scores for a single option across percentiles.",
        "example": {
          "option_id": "opt_launch_q1",
          "option_label": "Launch in Q1 2025",
          "p10": 0.65,
          "p50": 0.85,
          "p90": 0.95
        },
        "properties": {
          "option_id": {
            "description": "Option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Human-readable option label",
            "title": "Option Label",
            "type": "string"
          },
          "p10": {
            "description": "Pessimistic (10th percentile) score",
            "title": "P10",
            "type": "number"
          },
          "p50": {
            "description": "Expected (50th percentile) score",
            "title": "P50",
            "type": "number"
          },
          "p90": {
            "description": "Optimistic (90th percentile) score",
            "title": "P90",
            "type": "number"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "p10",
          "p50",
          "p90"
        ],
        "title": "OptionScore",
        "type": "object"
      },
      "OutcomeDistribution": {
        "description": "Distribution of outcomes from Monte Carlo sampling.",
        "example": {
          "ci_lower": 40000.0,
          "ci_upper": 60000.0,
          "mean": 50000.0,
          "median": 49500.0,
          "std": 5000.0
        },
        "properties": {
          "ci_lower": {
            "description": "Lower bound of confidence interval",
            "title": "Ci Lower",
            "type": "number"
          },
          "ci_upper": {
            "description": "Upper bound of confidence interval",
            "title": "Ci Upper",
            "type": "number"
          },
          "mean": {
            "description": "Mean outcome value",
            "title": "Mean",
            "type": "number"
          },
          "median": {
            "description": "Median outcome value",
            "title": "Median",
            "type": "number"
          },
          "samples": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Raw samples if requested",
            "title": "Samples"
          },
          "std": {
            "description": "Standard deviation",
            "title": "Std",
            "type": "number"
          }
        },
        "required": [
          "mean",
          "std",
          "median",
          "ci_lower",
          "ci_upper"
        ],
        "title": "OutcomeDistribution",
        "type": "object"
      },
      "OutcomeDistributionV2": {
        "description": "Outcome distribution with core percentiles.",
        "properties": {
          "mean": {
            "description": "Mean outcome value",
            "title": "Mean",
            "type": "number"
          },
          "n_samples": {
            "description": "Total samples",
            "title": "N Samples",
            "type": "integer"
          },
          "n_valid_samples": {
            "description": "Samples without NaN/Inf",
            "title": "N Valid Samples",
            "type": "integer"
          },
          "p10": {
            "description": "10th percentile",
            "title": "P10",
            "type": "number"
          },
          "p50": {
            "description": "50th percentile (median)",
            "title": "P50",
            "type": "number"
          },
          "p90": {
            "description": "90th percentile",
            "title": "P90",
            "type": "number"
          },
          "std": {
            "description": "Standard deviation",
            "title": "Std",
            "type": "number"
          },
          "validity_ratio": {
            "description": "n_valid_samples / n_samples",
            "title": "Validity Ratio",
            "type": "number"
          }
        },
        "required": [
          "mean",
          "std",
          "p10",
          "p50",
          "p90",
          "n_samples",
          "n_valid_samples",
          "validity_ratio"
        ],
        "title": "OutcomeDistributionV2",
        "type": "object"
      },
      "OutcomeGuarantee": {
        "description": "Guaranteed outcome range across intervention region.\n\nWith high confidence, all interventions in region produce\noutcomes within this range.",
        "example": {
          "confidence": 0.95,
          "maximum": 105000.0,
          "minimum": 95000.0,
          "outcome_variable": "revenue"
        },
        "properties": {
          "confidence": {
            "description": "Confidence level (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "type": "number"
          },
          "maximum": {
            "description": "Guaranteed maximum outcome",
            "title": "Maximum",
            "type": "number"
          },
          "minimum": {
            "description": "Guaranteed minimum outcome",
            "title": "Minimum",
            "type": "number"
          },
          "outcome_variable": {
            "description": "Outcome variable name",
            "title": "Outcome Variable",
            "type": "string"
          }
        },
        "required": [
          "outcome_variable",
          "minimum",
          "maximum",
          "confidence"
        ],
        "title": "OutcomeGuarantee",
        "type": "object"
      },
      "OutcomeLog": {
        "description": "Outcome logging for future calibration.\n\nRecords decisions and their outcomes for analyzing recommendation accuracy.",
        "example": {
          "chosen_option": "option_a",
          "decision_id": "decision_456",
          "graph_hash": "sha256_abc...",
          "id": "log_abc123",
          "outcome_values": {
            "revenue": 155000.0
          },
          "recommendation_followed": true,
          "recommendation_option": "option_a",
          "response_hash": "sha256_def...",
          "tenant_id": "tenant_xyz",
          "timestamp": "2024-01-15T10:30:00Z",
          "user_id": "user_789"
        },
        "properties": {
          "chosen_option": {
            "description": "Option ID the user chose",
            "title": "Chosen Option",
            "type": "string"
          },
          "decision_id": {
            "description": "Unique identifier for this decision",
            "title": "Decision Id",
            "type": "string"
          },
          "graph_hash": {
            "description": "Hash of the graph structure",
            "title": "Graph Hash",
            "type": "string"
          },
          "id": {
            "description": "Auto-generated UUID",
            "title": "Id",
            "type": "string"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional notes",
            "title": "Notes"
          },
          "outcome_timestamp": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "When outcome was recorded",
            "title": "Outcome Timestamp"
          },
          "outcome_values": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Actual outcome values (filled in later)",
            "title": "Outcome Values"
          },
          "recommendation_followed": {
            "description": "Whether user followed the recommendation",
            "title": "Recommendation Followed",
            "type": "boolean"
          },
          "recommendation_option": {
            "description": "Option ID ISL recommended",
            "title": "Recommendation Option",
            "type": "string"
          },
          "response_hash": {
            "description": "Hash of the analysis response",
            "title": "Response Hash",
            "type": "string"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Tenant/organization identifier",
            "title": "Tenant Id"
          },
          "timestamp": {
            "description": "When decision was logged",
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User identifier",
            "title": "User Id"
          }
        },
        "required": [
          "decision_id",
          "graph_hash",
          "response_hash",
          "chosen_option",
          "recommendation_option",
          "recommendation_followed"
        ],
        "title": "OutcomeLog",
        "type": "object"
      },
      "OutcomeLogRequest": {
        "description": "Request to log a decision outcome.",
        "properties": {
          "chosen_option": {
            "description": "Option ID the user chose",
            "title": "Chosen Option",
            "type": "string"
          },
          "decision_id": {
            "description": "Unique identifier for this decision",
            "title": "Decision Id",
            "type": "string"
          },
          "graph_hash": {
            "description": "Hash of the graph structure",
            "title": "Graph Hash",
            "type": "string"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional notes",
            "title": "Notes"
          },
          "recommendation_option": {
            "description": "Option ID ISL recommended",
            "title": "Recommendation Option",
            "type": "string"
          },
          "response_hash": {
            "description": "Hash of the analysis response",
            "title": "Response Hash",
            "type": "string"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Tenant/organization identifier",
            "title": "Tenant Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User identifier",
            "title": "User Id"
          }
        },
        "required": [
          "decision_id",
          "graph_hash",
          "response_hash",
          "chosen_option",
          "recommendation_option"
        ],
        "title": "OutcomeLogRequest",
        "type": "object"
      },
      "OutcomeSummary": {
        "description": "Summary statistics for outcome logging.",
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          },
          "avg_outcome_when_followed": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Average outcome when recommendation followed",
            "title": "Avg Outcome When Followed"
          },
          "avg_outcome_when_not_followed": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Average outcome when recommendation not followed",
            "title": "Avg Outcome When Not Followed"
          },
          "recommendations_followed": {
            "description": "Number where recommendation was followed",
            "title": "Recommendations Followed",
            "type": "integer"
          },
          "recommendations_followed_pct": {
            "description": "Percentage of recommendations followed",
            "title": "Recommendations Followed Pct",
            "type": "number"
          },
          "total_logged": {
            "description": "Total decisions logged",
            "title": "Total Logged",
            "type": "integer"
          },
          "with_outcomes": {
            "description": "Decisions with recorded outcomes",
            "title": "With Outcomes",
            "type": "integer"
          }
        },
        "required": [
          "total_logged",
          "with_outcomes",
          "recommendations_followed",
          "recommendations_followed_pct"
        ],
        "title": "OutcomeSummary",
        "type": "object"
      },
      "OutcomeUpdateRequest": {
        "description": "Request to update an outcome log with actual values.",
        "properties": {
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional notes about the outcome",
            "title": "Notes"
          },
          "outcome_values": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Actual outcome values",
            "title": "Outcome Values",
            "type": "object"
          }
        },
        "required": [
          "outcome_values"
        ],
        "title": "OutcomeUpdateRequest",
        "type": "object"
      },
      "PairwiseInteraction": {
        "description": "Pairwise interaction between two variables.",
        "example": {
          "effect_size": 5000,
          "explanation": "Price and Quality interact synergistically: combined effect (\u00a355k) exceeds sum of individual effects (\u00a348k)",
          "significance": 0.85,
          "type": "synergistic",
          "variables": [
            "Price",
            "Quality"
          ]
        },
        "properties": {
          "effect_size": {
            "description": "Interaction effect size in outcome units",
            "title": "Effect Size",
            "type": "number"
          },
          "explanation": {
            "description": "Plain English explanation",
            "title": "Explanation",
            "type": "string"
          },
          "significance": {
            "description": "Significance score (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Significance",
            "type": "number"
          },
          "type": {
            "description": "Interaction type: synergistic, antagonistic, or additive",
            "title": "Type",
            "type": "string"
          },
          "variables": {
            "description": "Pair of variables",
            "maxItems": 2,
            "minItems": 2,
            "prefixItems": [
              {
                "type": "string"
              },
              {
                "type": "string"
              }
            ],
            "title": "Variables",
            "type": "array"
          }
        },
        "required": [
          "variables",
          "type",
          "effect_size",
          "significance",
          "explanation"
        ],
        "title": "PairwiseInteraction",
        "type": "object"
      },
      "ParameterRecommendation": {
        "description": "Single parameter recommendation with range and rationale.",
        "example": {
          "confidence": "high",
          "current_value": 2.0,
          "importance": 0.92,
          "parameter": "n_decision_to_n_outcome_weight",
          "parameter_type": "weight",
          "rationale": "Critical path edge connecting decision to outcome - requires strong causal influence",
          "recommended_range": [
            1.2,
            1.8
          ],
          "recommended_typical": 1.5
        },
        "properties": {
          "confidence": {
            "description": "Confidence in recommendation",
            "pattern": "^(high|medium|low)$",
            "title": "Confidence",
            "type": "string"
          },
          "current_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Current parameter value (if provided in request)",
            "title": "Current Value"
          },
          "importance": {
            "description": "Parameter importance (0-1, from sensitivity analysis)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Importance",
            "type": "number"
          },
          "parameter": {
            "description": "Parameter name (e.g., 'n_decision_to_n_outcome_weight')",
            "maxLength": 200,
            "title": "Parameter",
            "type": "string"
          },
          "parameter_type": {
            "description": "Type of parameter",
            "pattern": "^(weight|belief)$",
            "title": "Parameter Type",
            "type": "string"
          },
          "rationale": {
            "description": "Explanation of why this range is recommended",
            "maxLength": 500,
            "title": "Rationale",
            "type": "string"
          },
          "recommended_range": {
            "description": "Recommended range [min, max]",
            "items": {
              "type": "number"
            },
            "maxItems": 2,
            "minItems": 2,
            "title": "Recommended Range",
            "type": "array"
          },
          "recommended_typical": {
            "description": "Typical/center value of recommended range",
            "title": "Recommended Typical",
            "type": "number"
          }
        },
        "required": [
          "parameter",
          "parameter_type",
          "recommended_range",
          "recommended_typical",
          "rationale",
          "importance",
          "confidence"
        ],
        "title": "ParameterRecommendation",
        "type": "object"
      },
      "ParameterRecommendationRequest": {
        "description": "Request model for parameter recommendation endpoint.",
        "example": {
          "current_parameters": {
            "n_decision_belief": 0.8,
            "n_decision_to_n_outcome_weight": 2.0
          },
          "graph": {
            "edges": [
              {
                "from": "n_decision",
                "to": "n_outcome",
                "weight": 2.0
              }
            ],
            "nodes": [
              {
                "belief": 0.8,
                "id": "n_decision",
                "kind": "decision",
                "label": "Launch Product"
              },
              {
                "belief": 0.6,
                "id": "n_outcome",
                "kind": "outcome",
                "label": "Market Success"
              }
            ]
          },
          "timeout": 12000
        },
        "properties": {
          "current_parameters": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional current parameter values to compare against",
            "title": "Current Parameters"
          },
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "timeout": {
            "anyOf": [
              {
                "maximum": 30000.0,
                "minimum": 1000.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 12000,
            "description": "Request timeout in milliseconds",
            "title": "Timeout"
          }
        },
        "required": [
          "graph"
        ],
        "title": "ParameterRecommendationRequest",
        "type": "object"
      },
      "ParameterRecommendationResponse": {
        "description": "Response model for parameter recommendation endpoint.",
        "example": {
          "graph_characteristics": {
            "avg_centrality": 0.42,
            "max_path_length": 4,
            "num_critical_edges": 3
          },
          "recommendations": [
            {
              "confidence": "high",
              "current_value": 2.0,
              "importance": 0.92,
              "parameter": "n_decision_to_n_outcome_weight",
              "parameter_type": "weight",
              "rationale": "Critical path edge connecting decision to outcome - requires strong causal influence",
              "recommended_range": [
                1.2,
                1.8
              ],
              "recommended_typical": 1.5
            },
            {
              "confidence": "high",
              "current_value": 0.8,
              "importance": 0.78,
              "parameter": "n_decision_belief",
              "parameter_type": "belief",
              "rationale": "Treatment node - high certainty recommended for robust analysis",
              "recommended_range": [
                0.75,
                0.95
              ],
              "recommended_typical": 0.85
            }
          ]
        },
        "properties": {
          "graph_characteristics": {
            "description": "Metadata about graph structure",
            "title": "Graph Characteristics",
            "type": "object"
          },
          "recommendations": {
            "description": "List of parameter recommendations sorted by importance",
            "items": {
              "$ref": "#/components/schemas/ParameterRecommendation"
            },
            "title": "Recommendations",
            "type": "array"
          }
        },
        "required": [
          "recommendations",
          "graph_characteristics"
        ],
        "title": "ParameterRecommendationResponse",
        "type": "object"
      },
      "ParameterSensitivity": {
        "description": "Sensitivity analysis for a parameter.",
        "example": {
          "changes_count": 2,
          "most_sensitive_range": [
            45.0,
            55.0
          ],
          "parameter_id": "price",
          "parameter_label": "Product Price",
          "sensitivity_score": 0.85
        },
        "properties": {
          "changes_count": {
            "description": "Number of ranking changes across parameter sweep",
            "minimum": 0.0,
            "title": "Changes Count",
            "type": "integer"
          },
          "most_sensitive_range": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "maxItems": 2,
                "minItems": 2,
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Parameter range [min, max] where most changes occur (if any changes)",
            "title": "Most Sensitive Range"
          },
          "parameter_id": {
            "description": "Parameter identifier",
            "title": "Parameter Id",
            "type": "string"
          },
          "parameter_label": {
            "description": "Parameter label",
            "title": "Parameter Label",
            "type": "string"
          },
          "sensitivity_score": {
            "description": "Normalized sensitivity score (0-1, higher = more sensitive)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Sensitivity Score",
            "type": "number"
          }
        },
        "required": [
          "parameter_id",
          "parameter_label",
          "changes_count",
          "sensitivity_score"
        ],
        "title": "ParameterSensitivity",
        "type": "object"
      },
      "ParameterSweep": {
        "description": "Parameter sweep with scores at different parameter values.",
        "example": {
          "parameter_id": "price",
          "parameter_label": "Product Price",
          "scores_by_value": {
            "30.0": {
              "opt_a": 0.9,
              "opt_b": 0.6,
              "opt_c": 0.75
            },
            "40.0": {
              "opt_a": 0.85,
              "opt_b": 0.7,
              "opt_c": 0.75
            },
            "50.0": {
              "opt_a": 0.75,
              "opt_b": 0.8,
              "opt_c": 0.7
            },
            "60.0": {
              "opt_a": 0.65,
              "opt_b": 0.85,
              "opt_c": 0.65
            },
            "70.0": {
              "opt_a": 0.5,
              "opt_b": 0.9,
              "opt_c": 0.6
            }
          },
          "values": [
            30.0,
            40.0,
            50.0,
            60.0,
            70.0
          ]
        },
        "properties": {
          "parameter_id": {
            "description": "Parameter identifier",
            "maxLength": 200,
            "minLength": 1,
            "title": "Parameter Id",
            "type": "string"
          },
          "parameter_label": {
            "description": "Human-readable parameter label",
            "maxLength": 500,
            "minLength": 1,
            "title": "Parameter Label",
            "type": "string"
          },
          "scores_by_value": {
            "additionalProperties": {
              "additionalProperties": {
                "type": "number"
              },
              "type": "object"
            },
            "description": "Scores for each option at each parameter value. Format: {parameter_value: {option_id: score}}",
            "title": "Scores By Value",
            "type": "object"
          },
          "values": {
            "description": "Parameter values tested (in sweep order)",
            "items": {
              "type": "number"
            },
            "maxItems": 1000,
            "minItems": 2,
            "title": "Values",
            "type": "array"
          }
        },
        "required": [
          "parameter_id",
          "parameter_label",
          "values",
          "scores_by_value"
        ],
        "title": "ParameterSweep",
        "type": "object"
      },
      "ParameterUncertainty": {
        "description": "Uncertainty specification for a factor node's value.\n\nDefines how to sample a factor's value during Monte Carlo analysis.\nThe mean is typically taken from the node's `observed_state.value`.\n\nSupported distributions:\n- \"normal\": Sample from Normal(observed_value, std)\n- \"uniform\": Sample uniformly from [range_min, range_max]\n- \"point_mass\": Use observed_value exactly (no sampling)",
        "example": {
          "distribution": "normal",
          "node_id": "marketing_spend",
          "std": 2.5
        },
        "properties": {
          "distribution": {
            "default": "normal",
            "description": "Distribution family: 'normal', 'uniform', 'point_mass'",
            "title": "Distribution",
            "type": "string"
          },
          "node_id": {
            "description": "ID of the factor node this uncertainty applies to",
            "pattern": "^[a-z0-9_:-]+$",
            "title": "Node Id",
            "type": "string"
          },
          "range_max": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum value for uniform distribution",
            "title": "Range Max"
          },
          "range_min": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum value for uniform distribution",
            "title": "Range Min"
          },
          "std": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Standard deviation for Normal sampling around observed_state.value",
            "title": "Std"
          }
        },
        "required": [
          "node_id"
        ],
        "title": "ParameterUncertainty",
        "type": "object"
      },
      "ParetoFrontierOption": {
        "description": "Single option on the Pareto frontier with scores.",
        "example": {
          "option_id": "opt_a",
          "option_label": "Option A: Aggressive Growth",
          "scores": {
            "revenue": 0.9,
            "risk": 0.4,
            "timeline": 0.7
          }
        },
        "properties": {
          "option_id": {
            "description": "Option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Human-readable option label",
            "title": "Option Label",
            "type": "string"
          },
          "scores": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Normalized scores by criterion_id",
            "title": "Scores",
            "type": "object"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "scores"
        ],
        "title": "ParetoFrontierOption",
        "type": "object"
      },
      "ParetoPoint": {
        "description": "A point on the Pareto frontier for multi-goal optimization.",
        "example": {
          "goal_values": {
            "revenue": 150000.0,
            "risk": 0.3
          },
          "is_dominated": false,
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "trade_off_description": "Sacrifices 10% risk reduction for 25% higher revenue"
        },
        "properties": {
          "goal_values": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Value achieved for each goal",
            "title": "Goal Values",
            "type": "object"
          },
          "is_dominated": {
            "description": "Whether this option is dominated by another",
            "title": "Is Dominated",
            "type": "boolean"
          },
          "option_id": {
            "description": "Option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Human-readable option name",
            "title": "Option Label",
            "type": "string"
          },
          "trade_off_description": {
            "description": "Description of trade-offs",
            "title": "Trade Off Description",
            "type": "string"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "goal_values",
          "is_dominated",
          "trade_off_description"
        ],
        "title": "ParetoPoint",
        "type": "object"
      },
      "ParetoRequest": {
        "description": "Request model for Pareto frontier endpoint.",
        "example": {
          "criteria": [
            "revenue",
            "risk",
            "timeline"
          ],
          "max_frontier_size": 20,
          "options": [
            {
              "option_id": "opt_a",
              "option_label": "Option A: Aggressive Growth",
              "scores": {
                "revenue": 0.9,
                "risk": 0.4,
                "timeline": 0.7
              }
            },
            {
              "option_id": "opt_b",
              "option_label": "Option B: Conservative Growth",
              "scores": {
                "revenue": 0.6,
                "risk": 0.8,
                "timeline": 0.9
              }
            },
            {
              "option_id": "opt_c",
              "option_label": "Option C: Balanced Approach",
              "scores": {
                "revenue": 0.75,
                "risk": 0.75,
                "timeline": 0.8
              }
            }
          ],
          "request_id": "req_abc123"
        },
        "properties": {
          "criteria": {
            "description": "Criterion IDs to consider (must match keys in option scores)",
            "items": {
              "type": "string"
            },
            "maxItems": 10,
            "minItems": 1,
            "title": "Criteria",
            "type": "array"
          },
          "max_frontier_size": {
            "anyOf": [
              {
                "maximum": 100.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 20,
            "description": "Maximum number of frontier options to return (for large frontiers)",
            "title": "Max Frontier Size"
          },
          "options": {
            "description": "Options to analyze for Pareto frontier",
            "items": {
              "$ref": "#/components/schemas/DominanceOption"
            },
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "type": "array"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional request ID for tracing (auto-generated if not provided)",
            "title": "Request Id"
          }
        },
        "required": [
          "options",
          "criteria"
        ],
        "title": "ParetoRequest",
        "type": "object"
      },
      "ParetoResponse": {
        "description": "Response model for Pareto frontier endpoint.",
        "example": {
          "dominated": [
            {
              "degree": 1,
              "dominated_by": [
                "opt_c"
              ],
              "dominated_option_id": "opt_b",
              "dominated_option_label": "Option B: Conservative Growth"
            }
          ],
          "frontier": [
            {
              "option_id": "opt_a",
              "option_label": "Option A: Aggressive Growth",
              "scores": {
                "revenue": 0.9,
                "risk": 0.4,
                "timeline": 0.7
              }
            },
            {
              "option_id": "opt_c",
              "option_label": "Option C: Balanced Approach",
              "scores": {
                "revenue": 0.75,
                "risk": 0.75,
                "timeline": 0.8
              }
            }
          ],
          "frontier_size": 2,
          "frontier_truncated": false,
          "metadata": {
            "algorithm": "skyline_pareto",
            "cache_hit": false,
            "computation_time_ms": 2.8,
            "isl_version": "2.0",
            "request_id": "req_abc123"
          },
          "total_options": 3
        },
        "properties": {
          "dominated": {
            "description": "Options that are dominated (sorted by degree, descending)",
            "items": {
              "$ref": "#/components/schemas/DominanceRelation"
            },
            "title": "Dominated",
            "type": "array"
          },
          "frontier": {
            "description": "Options on the Pareto frontier (non-dominated options)",
            "items": {
              "$ref": "#/components/schemas/ParetoFrontierOption"
            },
            "title": "Frontier",
            "type": "array"
          },
          "frontier_size": {
            "description": "Number of options on Pareto frontier",
            "minimum": 1.0,
            "title": "Frontier Size",
            "type": "integer"
          },
          "frontier_truncated": {
            "default": false,
            "description": "True if frontier was truncated due to max_frontier_size limit",
            "title": "Frontier Truncated",
            "type": "boolean"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "total_options": {
            "description": "Total number of options analyzed",
            "minimum": 2.0,
            "title": "Total Options",
            "type": "integer"
          }
        },
        "required": [
          "frontier",
          "dominated",
          "frontier_size",
          "total_options"
        ],
        "title": "ParetoResponse",
        "type": "object"
      },
      "ParetoResult": {
        "description": "Pareto frontier analysis for multi-goal decisions.",
        "example": {
          "current_selection_pareto_efficient": true,
          "frontier_options": [
            {
              "goal_values": {
                "revenue": 150000.0,
                "risk": 0.3
              },
              "is_dominated": false,
              "option_id": "option_a",
              "option_label": "Aggressive Marketing",
              "trade_off_description": "Highest revenue, moderate risk"
            }
          ],
          "goals": [
            "revenue",
            "risk"
          ]
        },
        "properties": {
          "current_selection_pareto_efficient": {
            "description": "Whether current recommendation is Pareto efficient",
            "title": "Current Selection Pareto Efficient",
            "type": "boolean"
          },
          "frontier_options": {
            "description": "Options on the Pareto frontier",
            "items": {
              "$ref": "#/components/schemas/ParetoPoint"
            },
            "title": "Frontier Options",
            "type": "array"
          },
          "goals": {
            "description": "Goals analyzed",
            "items": {
              "type": "string"
            },
            "title": "Goals",
            "type": "array"
          }
        },
        "required": [
          "goals",
          "frontier_options",
          "current_selection_pareto_efficient"
        ],
        "title": "ParetoResult",
        "type": "object"
      },
      "PathAnalysisDetail": {
        "description": "Analysis of causal paths in a DAG.\n\nIdentifies backdoor paths, frontdoor paths, and critical nodes.",
        "example": {
          "backdoor_paths": [
            [
              "Price",
              "Competitors",
              "Revenue"
            ]
          ],
          "blocked_paths": [],
          "critical_nodes": [
            "Competitors"
          ],
          "frontdoor_paths": [
            [
              "Price",
              "Revenue"
            ]
          ]
        },
        "properties": {
          "backdoor_paths": {
            "description": "Backdoor paths from treatment to outcome",
            "items": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "title": "Backdoor Paths",
            "type": "array"
          },
          "blocked_paths": {
            "description": "Paths that are already blocked by colliders",
            "items": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "title": "Blocked Paths",
            "type": "array"
          },
          "critical_nodes": {
            "description": "Nodes that block multiple paths if controlled",
            "items": {
              "type": "string"
            },
            "title": "Critical Nodes",
            "type": "array"
          },
          "frontdoor_paths": {
            "description": "Directed paths from treatment to outcome",
            "items": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "title": "Frontdoor Paths",
            "type": "array"
          }
        },
        "required": [
          "backdoor_paths",
          "frontdoor_paths",
          "blocked_paths",
          "critical_nodes"
        ],
        "title": "PathAnalysisDetail",
        "type": "object"
      },
      "PerturbationResult": {
        "description": "Result of a single perturbation scenario.",
        "example": {
          "perturbation_id": 1,
          "ranking_changed": true,
          "top_option_id": "option_b",
          "value_change_pct": -3.5
        },
        "properties": {
          "perturbation_id": {
            "description": "Perturbation scenario ID",
            "title": "Perturbation Id",
            "type": "integer"
          },
          "ranking_changed": {
            "description": "Whether ranking changed from baseline",
            "title": "Ranking Changed",
            "type": "boolean"
          },
          "top_option_id": {
            "description": "ID of top option in this scenario",
            "title": "Top Option Id",
            "type": "string"
          },
          "value_change_pct": {
            "description": "Percentage change in top option's value",
            "title": "Value Change Pct",
            "type": "number"
          }
        },
        "required": [
          "perturbation_id",
          "top_option_id",
          "ranking_changed",
          "value_change_pct"
        ],
        "title": "PerturbationResult",
        "type": "object"
      },
      "Policy": {
        "description": "Optimal policy across all stages.",
        "example": {
          "expected_total_value": 45000.0,
          "stages": [
            {
              "contingent_on": [],
              "decision_rule": {
                "conditional_actions": [],
                "default_action": "invest"
              },
              "stage_index": 0,
              "stage_label": "Investment"
            }
          ],
          "value_distribution": {
            "parameters": {
              "mean": 45000,
              "std": 15000
            },
            "type": "normal"
          }
        },
        "properties": {
          "expected_total_value": {
            "description": "Expected total value following this policy",
            "title": "Expected Total Value",
            "type": "number"
          },
          "stages": {
            "description": "Policy for each stage",
            "items": {
              "$ref": "#/components/schemas/StagePolicy"
            },
            "title": "Stages",
            "type": "array"
          },
          "value_distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PolicyDistribution"
              }
            ],
            "description": "Distribution of total value"
          }
        },
        "required": [
          "stages",
          "expected_total_value",
          "value_distribution"
        ],
        "title": "Policy",
        "type": "object"
      },
      "PolicyDistribution": {
        "description": "Distribution of policy values.",
        "example": {
          "parameters": {
            "mean": 45000,
            "std": 15000
          },
          "type": "normal"
        },
        "properties": {
          "parameters": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Distribution parameters",
            "title": "Parameters",
            "type": "object"
          },
          "type": {
            "description": "Distribution type",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "parameters"
        ],
        "title": "PolicyDistribution",
        "type": "object"
      },
      "PolicyTreeNode": {
        "description": "Node in a policy tree representation.",
        "example": {
          "children": [
            {
              "action": "invest",
              "child_id": "market_node",
              "probability": 1.0
            }
          ],
          "expected_value": 45000,
          "label": "Investment Decision",
          "node_id": "root",
          "node_type": "decision",
          "optimal_action": "invest",
          "stage": 0
        },
        "properties": {
          "children": {
            "description": "Child nodes with transition info",
            "items": {
              "type": "object"
            },
            "title": "Children",
            "type": "array"
          },
          "expected_value": {
            "description": "Expected value at this node",
            "title": "Expected Value",
            "type": "number"
          },
          "label": {
            "description": "Human-readable label",
            "title": "Label",
            "type": "string"
          },
          "node_id": {
            "description": "Node identifier",
            "title": "Node Id",
            "type": "string"
          },
          "node_type": {
            "description": "Type of node",
            "pattern": "^(decision|chance|terminal)$",
            "title": "Node Type",
            "type": "string"
          },
          "optimal_action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optimal action at this node (for decision nodes)",
            "title": "Optimal Action"
          },
          "stage": {
            "description": "Stage this node belongs to",
            "title": "Stage",
            "type": "integer"
          }
        },
        "required": [
          "node_id",
          "stage",
          "node_type",
          "label",
          "expected_value"
        ],
        "title": "PolicyTreeNode",
        "type": "object"
      },
      "PolicyTreeResponse": {
        "description": "Response model for policy tree endpoint.",
        "example": {
          "root": {
            "children": [],
            "expected_value": 45000,
            "label": "Investment Decision",
            "node_id": "root",
            "node_type": "decision",
            "optimal_action": "invest",
            "stage": 0
          },
          "schema_version": "policy_tree.v1",
          "total_nodes": 7,
          "total_stages": 3
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "root": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PolicyTreeNode"
              }
            ],
            "description": "Root node of the policy tree"
          },
          "schema_version": {
            "default": "policy_tree.v1",
            "description": "Schema version",
            "title": "Schema Version",
            "type": "string"
          },
          "total_nodes": {
            "description": "Total number of nodes in tree",
            "title": "Total Nodes",
            "type": "integer"
          },
          "total_stages": {
            "description": "Total number of stages",
            "title": "Total Stages",
            "type": "integer"
          }
        },
        "required": [
          "root",
          "total_stages",
          "total_nodes"
        ],
        "title": "PolicyTreeResponse",
        "type": "object"
      },
      "PredictionResults": {
        "description": "Prediction results for counterfactual analysis.",
        "properties": {
          "confidence_interval": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceInterval"
              }
            ],
            "description": "Confidence interval for prediction"
          },
          "point_estimate": {
            "description": "Most likely outcome value",
            "title": "Point Estimate",
            "type": "number"
          },
          "sensitivity_range": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SensitivityRange"
              }
            ],
            "description": "Range of plausible outcomes"
          }
        },
        "required": [
          "point_estimate",
          "confidence_interval",
          "sensitivity_range"
        ],
        "title": "PredictionResults",
        "type": "object"
      },
      "PrimaryRecommendation": {
        "description": "Primary recommendation for an option.",
        "example": {
          "confidence": "high",
          "expected_value": 75000.0,
          "label": "Aggressive Expansion",
          "option_id": "option_a"
        },
        "properties": {
          "confidence": {
            "description": "Confidence level",
            "pattern": "^(high|medium|low)$",
            "title": "Confidence",
            "type": "string"
          },
          "expected_value": {
            "description": "Expected value of this option",
            "title": "Expected Value",
            "type": "number"
          },
          "label": {
            "description": "Human-readable label",
            "title": "Label",
            "type": "string"
          },
          "option_id": {
            "description": "Recommended option ID",
            "title": "Option Id",
            "type": "string"
          }
        },
        "required": [
          "option_id",
          "label",
          "confidence",
          "expected_value"
        ],
        "title": "PrimaryRecommendation",
        "type": "object"
      },
      "QualityLevel": {
        "description": "Overall model quality.",
        "enum": [
          "excellent",
          "good",
          "acceptable",
          "poor"
        ],
        "title": "QualityLevel",
        "type": "string"
      },
      "RankedOption-Output": {
        "description": "A decision option with its ranking and utility metrics.",
        "example": {
          "expected_utility": 150000.0,
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "rank": 1,
          "utility_distribution": {
            "p25": 135000.0,
            "p5": 120000.0,
            "p50": 150000.0,
            "p75": 165000.0,
            "p95": 180000.0
          },
          "vs_baseline": 25000.0,
          "vs_baseline_pct": 20.0
        },
        "properties": {
          "expected_utility": {
            "description": "Expected utility value",
            "title": "Expected Utility",
            "type": "number"
          },
          "option_id": {
            "description": "Unique option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Human-readable option name",
            "title": "Option Label",
            "type": "string"
          },
          "rank": {
            "description": "Rank (1 = best)",
            "minimum": 1.0,
            "title": "Rank",
            "type": "integer"
          },
          "utility_distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UtilityDistribution"
              }
            ],
            "description": "Distribution of utility values"
          },
          "vs_baseline": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Absolute difference vs baseline option",
            "title": "Vs Baseline"
          },
          "vs_baseline_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Percentage difference vs baseline option",
            "title": "Vs Baseline Pct"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "expected_utility",
          "utility_distribution",
          "rank"
        ],
        "title": "RankedOption",
        "type": "object"
      },
      "RankingChange": {
        "description": "Details about ranking changes after risk adjustment.",
        "example": {
          "adjusted_rank": 1,
          "option_id": "opt_conservative",
          "option_label": "Conservative Growth Strategy",
          "original_rank": 2,
          "rank_change": 1
        },
        "properties": {
          "adjusted_rank": {
            "description": "Rank after adjustment (1-based)",
            "minimum": 1.0,
            "title": "Adjusted Rank",
            "type": "integer"
          },
          "option_id": {
            "description": "Option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Option label",
            "title": "Option Label",
            "type": "string"
          },
          "original_rank": {
            "description": "Rank before adjustment (1-based)",
            "minimum": 1.0,
            "title": "Original Rank",
            "type": "integer"
          },
          "rank_change": {
            "description": "Change in rank (positive = improved, negative = worsened)",
            "title": "Rank Change",
            "type": "integer"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "original_rank",
          "adjusted_rank",
          "rank_change"
        ],
        "title": "RankingChange",
        "type": "object"
      },
      "RankingStability": {
        "description": "Ranking stability classification.",
        "enum": [
          "stable",
          "sensitive",
          "unstable"
        ],
        "title": "RankingStability",
        "type": "string"
      },
      "RankingThreshold": {
        "description": "A parameter threshold where ranking changes.",
        "example": {
          "options_affected": [
            "opt_a",
            "opt_b"
          ],
          "parameter_id": "price",
          "parameter_label": "Product Price",
          "ranking_after": [
            "opt_b",
            "opt_a",
            "opt_c"
          ],
          "ranking_before": [
            "opt_a",
            "opt_c",
            "opt_b"
          ],
          "score_gap": 0.05,
          "threshold_value": 50.0
        },
        "properties": {
          "options_affected": {
            "description": "Option IDs whose ranks changed at this threshold",
            "items": {
              "type": "string"
            },
            "title": "Options Affected",
            "type": "array"
          },
          "parameter_id": {
            "description": "Parameter identifier",
            "title": "Parameter Id",
            "type": "string"
          },
          "parameter_label": {
            "description": "Parameter label",
            "title": "Parameter Label",
            "type": "string"
          },
          "ranking_after": {
            "description": "Option ranking after threshold (option_ids, best to worst)",
            "items": {
              "type": "string"
            },
            "title": "Ranking After",
            "type": "array"
          },
          "ranking_before": {
            "description": "Option ranking before threshold (option_ids, best to worst)",
            "items": {
              "type": "string"
            },
            "title": "Ranking Before",
            "type": "array"
          },
          "score_gap": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Score difference between swapped options at threshold",
            "title": "Score Gap"
          },
          "threshold_value": {
            "description": "Parameter value where ranking changes",
            "title": "Threshold Value",
            "type": "number"
          }
        },
        "required": [
          "parameter_id",
          "parameter_label",
          "threshold_value",
          "ranking_before",
          "ranking_after",
          "options_affected"
        ],
        "title": "RankingThreshold",
        "type": "object"
      },
      "Recommendation-Input": {
        "description": "Top recommendation from the analysis.",
        "example": {
          "confidence": "high",
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "recommendation_status": "actionable"
        },
        "properties": {
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevelEnum"
              }
            ],
            "description": "Confidence in recommendation"
          },
          "option_id": {
            "description": "Recommended option ID",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Recommended option label",
            "title": "Option Label",
            "type": "string"
          },
          "recommendation_status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RecommendationStatusEnum-Input"
              }
            ],
            "description": "Whether recommendation is actionable or exploratory"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "confidence",
          "recommendation_status"
        ],
        "title": "Recommendation",
        "type": "object"
      },
      "RecommendationStatusEnum-Input": {
        "description": "Recommendation status based on identifiability and robustness.",
        "enum": [
          "actionable",
          "exploratory"
        ],
        "title": "RecommendationStatusEnum",
        "type": "string"
      },
      "RecommendedExperimentDetail": {
        "description": "Recommended experiment specification.\n\nSpecifies intervention values, expected outcomes, and information gain.",
        "example": {
          "cost_estimate": 10000,
          "expected_information_gain": 0.75,
          "expected_outcome": {
            "Revenue": 38000
          },
          "exploration_vs_exploitation": 0.8,
          "intervention": {
            "Price": 55
          },
          "rationale": "Explore: Test Price=55 to learn more (high information gain: 0.75)"
        },
        "properties": {
          "cost_estimate": {
            "description": "Estimated cost of the experiment",
            "title": "Cost Estimate",
            "type": "number"
          },
          "expected_information_gain": {
            "description": "Expected information gain from this experiment (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Expected Information Gain",
            "type": "number"
          },
          "expected_outcome": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Expected outcome values",
            "title": "Expected Outcome",
            "type": "object"
          },
          "exploration_vs_exploitation": {
            "description": "Exploration vs exploitation score (0=exploit, 1=explore)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Exploration Vs Exploitation",
            "type": "number"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Recommended intervention values",
            "title": "Intervention",
            "type": "object"
          },
          "rationale": {
            "description": "Plain English rationale for this recommendation",
            "title": "Rationale",
            "type": "string"
          }
        },
        "required": [
          "intervention",
          "expected_outcome",
          "expected_information_gain",
          "cost_estimate",
          "rationale",
          "exploration_vs_exploitation"
        ],
        "title": "RecommendedExperimentDetail",
        "type": "object"
      },
      "RecoveryHints": {
        "description": "Recovery hints for error resolution.",
        "properties": {
          "example": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Example fix",
            "title": "Example"
          },
          "hints": {
            "description": "List of actionable hints",
            "items": {
              "type": "string"
            },
            "title": "Hints",
            "type": "array"
          },
          "suggestion": {
            "description": "Primary suggestion",
            "title": "Suggestion",
            "type": "string"
          }
        },
        "required": [
          "hints",
          "suggestion"
        ],
        "title": "RecoveryHints",
        "type": "object"
      },
      "RequestEchoV2": {
        "description": "Echo of request parameters for debugging (no sensitive data).",
        "properties": {
          "goal_node_id_hash": {
            "description": "SHA-256 hash of goal node ID (truncated)",
            "title": "Goal Node Id Hash",
            "type": "string"
          },
          "graph_edge_count": {
            "description": "Number of edges in graph",
            "title": "Graph Edge Count",
            "type": "integer"
          },
          "graph_node_count": {
            "description": "Number of nodes in graph",
            "title": "Graph Node Count",
            "type": "integer"
          },
          "include_diagnostics": {
            "description": "Whether diagnostics were requested",
            "title": "Include Diagnostics",
            "type": "boolean"
          },
          "n_samples": {
            "description": "Number of samples requested",
            "title": "N Samples",
            "type": "integer"
          },
          "options_count": {
            "description": "Number of options provided",
            "title": "Options Count",
            "type": "integer"
          },
          "response_version_requested": {
            "description": "Response version requested",
            "title": "Response Version Requested",
            "type": "integer"
          }
        },
        "required": [
          "graph_node_count",
          "graph_edge_count",
          "options_count",
          "goal_node_id_hash",
          "n_samples",
          "response_version_requested",
          "include_diagnostics"
        ],
        "title": "RequestEchoV2",
        "type": "object"
      },
      "ResponseMetadata": {
        "description": "Metadata attached to all ISL responses for reproducibility.\n\nEnables PLoT to:\n- Verify same ISL version across reruns\n- Detect config changes that affect determinism\n- Audit what configuration produced results",
        "properties": {
          "config_details": {
            "description": "Key configuration values",
            "example": {
              "confidence_level": 0.95,
              "learning_rate": 0.1,
              "monte_carlo_samples": 10000
            },
            "title": "Config Details",
            "type": "object"
          },
          "config_fingerprint": {
            "description": "Hash of determinism-critical config",
            "example": "a3f8c9d2e1b4",
            "title": "Config Fingerprint",
            "type": "string"
          },
          "isl_version": {
            "description": "ISL service version (semver)",
            "example": "1.0.0",
            "title": "Isl Version",
            "type": "string"
          },
          "request_id": {
            "description": "Request ID for tracing",
            "example": "req_abc123",
            "title": "Request Id",
            "type": "string"
          }
        },
        "required": [
          "isl_version",
          "config_fingerprint",
          "config_details",
          "request_id"
        ],
        "title": "ResponseMetadata",
        "type": "object"
      },
      "ResponseMetadataV2": {
        "description": "Execution metadata for v2 responses.",
        "properties": {
          "clamp_metrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ClampMetrics"
              },
              {
                "type": "null"
              }
            ],
            "description": "Out-of-bounds sampling metrics"
          },
          "config_fingerprint": {
            "description": "Hash of determinism-critical config",
            "title": "Config Fingerprint",
            "type": "string"
          },
          "edge_existence_rates": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Actual sampling rates per edge (format: 'from->to': rate)",
            "title": "Edge Existence Rates",
            "type": "object"
          },
          "execution_time_ms": {
            "description": "Execution time in milliseconds",
            "title": "Execution Time Ms",
            "type": "integer"
          },
          "isl_version": {
            "description": "ISL service version",
            "title": "Isl Version",
            "type": "string"
          },
          "n_samples_used": {
            "description": "Actual samples used",
            "title": "N Samples Used",
            "type": "integer"
          },
          "schema_version": {
            "default": "2.2",
            "description": "Schema version",
            "title": "Schema Version",
            "type": "string"
          },
          "seed_used": {
            "description": "Random seed used",
            "title": "Seed Used",
            "type": "integer"
          },
          "tie_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of Monte Carlo samples with tied outcomes",
            "title": "Tie Count"
          },
          "tie_rate": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Fraction of samples with tied outcomes (tie_count / n_samples)",
            "title": "Tie Rate"
          }
        },
        "required": [
          "isl_version",
          "n_samples_used",
          "seed_used",
          "execution_time_ms",
          "config_fingerprint"
        ],
        "title": "ResponseMetadataV2",
        "type": "object"
      },
      "RiskAdjustmentRequest": {
        "description": "Request model for risk adjustment endpoint.",
        "example": {
          "options": [
            {
              "mean": 0.8,
              "option_id": "opt_aggressive",
              "option_label": "Aggressive Growth Strategy",
              "std_dev": 0.2
            },
            {
              "mean": 0.6,
              "option_id": "opt_conservative",
              "option_label": "Conservative Growth Strategy",
              "std_dev": 0.05
            },
            {
              "option_id": "opt_balanced",
              "option_label": "Balanced Approach",
              "p10": 0.55,
              "p50": 0.7,
              "p90": 0.85
            }
          ],
          "request_id": "req_risk_abc123",
          "risk_coefficient": 2.0,
          "risk_type": "risk_averse"
        },
        "properties": {
          "options": {
            "description": "Options with uncertainty to adjust for risk",
            "items": {
              "$ref": "#/components/schemas/RiskOption"
            },
            "maxItems": 100,
            "minItems": 2,
            "title": "Options",
            "type": "array"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional request ID for tracing",
            "title": "Request Id"
          },
          "risk_coefficient": {
            "description": "Risk coefficient from CEE risk profile (>0 for risk aversion)",
            "maximum": 10.0,
            "minimum": 0.0,
            "title": "Risk Coefficient",
            "type": "number"
          },
          "risk_type": {
            "description": "Risk attitude type",
            "pattern": "^(risk_averse|risk_neutral|risk_seeking)$",
            "title": "Risk Type",
            "type": "string"
          }
        },
        "required": [
          "options",
          "risk_coefficient",
          "risk_type"
        ],
        "title": "RiskAdjustmentRequest",
        "type": "object"
      },
      "RiskAdjustmentResponse": {
        "description": "Response model for risk adjustment endpoint.",
        "example": {
          "adjusted_scores": [
            {
              "adjustment": -0.01,
              "certainty_equivalent": 0.59,
              "option_id": "opt_conservative",
              "option_label": "Conservative Growth Strategy",
              "original_score": 0.6,
              "variance": 0.0025
            },
            {
              "adjustment": -0.2,
              "certainty_equivalent": 0.6,
              "option_id": "opt_aggressive",
              "option_label": "Aggressive Growth Strategy",
              "original_score": 0.8,
              "variance": 0.04
            },
            {
              "adjustment": -0.12,
              "certainty_equivalent": 0.58,
              "option_id": "opt_balanced",
              "option_label": "Balanced Approach",
              "original_score": 0.7,
              "variance": 0.0225
            }
          ],
          "metadata": {
            "algorithm": "mean_variance_risk_averse",
            "cache_hit": false,
            "computation_time_ms": 1.8,
            "isl_version": "2.0",
            "request_id": "req_risk_abc123"
          },
          "ranking_changes": [
            {
              "adjusted_rank": 1,
              "option_id": "opt_conservative",
              "option_label": "Conservative Growth Strategy",
              "original_rank": 3,
              "rank_change": 2
            },
            {
              "adjusted_rank": 2,
              "option_id": "opt_aggressive",
              "option_label": "Aggressive Growth Strategy",
              "original_rank": 1,
              "rank_change": -1
            }
          ],
          "rankings_changed": true,
          "risk_interpretation": "Risk aversion (coefficient=2.0) significantly penalizes high-variance options. Conservative strategy moves from rank 3 to rank 1 after adjustment, while aggressive strategy drops from rank 1 to rank 2 due to high variance (0.04)."
        },
        "properties": {
          "adjusted_scores": {
            "description": "Options with risk-adjusted scores (sorted by CE, descending)",
            "items": {
              "$ref": "#/components/schemas/AdjustedScore"
            },
            "title": "Adjusted Scores",
            "type": "array"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "ranking_changes": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/RankingChange"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Detailed ranking changes (only if rankings_changed=True)",
            "title": "Ranking Changes"
          },
          "rankings_changed": {
            "description": "True if rankings changed after risk adjustment",
            "title": "Rankings Changed",
            "type": "boolean"
          },
          "risk_interpretation": {
            "description": "Plain English interpretation of risk adjustment impact",
            "maxLength": 1000,
            "title": "Risk Interpretation",
            "type": "string"
          }
        },
        "required": [
          "adjusted_scores",
          "rankings_changed",
          "risk_interpretation"
        ],
        "title": "RiskAdjustmentResponse",
        "type": "object"
      },
      "RiskMetrics": {
        "description": "Risk metrics for an option.",
        "example": {
          "downside_risk": 5000.0,
          "probability_of_loss": 0.15,
          "variance": 10000.0
        },
        "properties": {
          "downside_risk": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Expected loss below a threshold (CVaR/VaR)",
            "title": "Downside Risk"
          },
          "probability_of_loss": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Probability of negative outcome",
            "title": "Probability Of Loss"
          },
          "variance": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Variance of the outcome distribution",
            "title": "Variance"
          }
        },
        "title": "RiskMetrics",
        "type": "object"
      },
      "RiskOption": {
        "description": "Option with uncertainty for risk adjustment.",
        "examples": [
          {
            "mean": 0.75,
            "option_id": "opt_a",
            "option_label": "Option A: High Risk",
            "std_dev": 0.15
          },
          {
            "option_id": "opt_b",
            "option_label": "Option B: Low Risk",
            "p10": 0.5,
            "p50": 0.55,
            "p90": 0.6
          }
        ],
        "properties": {
          "mean": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Mean score (for mean-variance representation)",
            "title": "Mean"
          },
          "option_id": {
            "description": "Option identifier",
            "maxLength": 200,
            "minLength": 1,
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Human-readable option label",
            "maxLength": 500,
            "minLength": 1,
            "title": "Option Label",
            "type": "string"
          },
          "p10": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "10th percentile score (for percentile representation)",
            "title": "P10"
          },
          "p50": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "50th percentile score (for percentile representation)",
            "title": "P50"
          },
          "p90": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "90th percentile score (for percentile representation)",
            "title": "P90"
          },
          "std_dev": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Standard deviation (for mean-variance representation)",
            "title": "Std Dev"
          }
        },
        "required": [
          "option_id",
          "option_label"
        ],
        "title": "RiskOption",
        "type": "object"
      },
      "RiskTolerance": {
        "description": "Risk tolerance levels for utility computation.",
        "enum": [
          "risk_averse",
          "risk_neutral",
          "risk_seeking"
        ],
        "title": "RiskTolerance",
        "type": "string"
      },
      "RobustnessAnalysis": {
        "description": "Robustness analysis results.",
        "properties": {
          "critical_assumptions": {
            "description": "Critical assumptions",
            "items": {
              "$ref": "#/components/schemas/CriticalAssumption"
            },
            "title": "Critical Assumptions",
            "type": "array"
          },
          "score": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLevel"
              }
            ],
            "description": "Overall robustness score"
          }
        },
        "required": [
          "score",
          "critical_assumptions"
        ],
        "title": "RobustnessAnalysis",
        "type": "object"
      },
      "RobustnessBound": {
        "description": "Threshold at which a parameter change would flip the recommendation.",
        "example": {
          "flip_threshold": 0.15,
          "flip_threshold_pct": 25.0,
          "flip_to_option": "option_b",
          "parameter_id": "marketing_roi",
          "parameter_label": "Marketing ROI"
        },
        "properties": {
          "flip_threshold": {
            "description": "Absolute change required to flip recommendation",
            "title": "Flip Threshold",
            "type": "number"
          },
          "flip_threshold_pct": {
            "description": "Percentage change required to flip recommendation",
            "title": "Flip Threshold Pct",
            "type": "number"
          },
          "flip_to_option": {
            "description": "Which option would become recommended after flip",
            "title": "Flip To Option",
            "type": "string"
          },
          "parameter_id": {
            "description": "Parameter identifier",
            "title": "Parameter Id",
            "type": "string"
          },
          "parameter_label": {
            "description": "Human-readable parameter name",
            "title": "Parameter Label",
            "type": "string"
          }
        },
        "required": [
          "parameter_id",
          "parameter_label",
          "flip_threshold",
          "flip_threshold_pct",
          "flip_to_option"
        ],
        "title": "RobustnessBound",
        "type": "object"
      },
      "RobustnessLabelEnum": {
        "description": "Overall robustness classification.",
        "enum": [
          "robust",
          "moderate",
          "fragile"
        ],
        "title": "RobustnessLabelEnum",
        "type": "string"
      },
      "RobustnessLevel": {
        "description": "Robustness level for analysis results.",
        "enum": [
          "robust",
          "moderate",
          "fragile"
        ],
        "title": "RobustnessLevel",
        "type": "string"
      },
      "RobustnessRequestV2": {
        "description": "V2.2 robustness analysis request.\n\nAccepts a causal graph with dual uncertainty edges, a set of decision\noptions, and configuration for Monte Carlo sampling and analysis.",
        "example": {
          "goal_node_id": "revenue",
          "graph": {
            "edges": [
              {
                "exists_probability": 0.9,
                "from": "price",
                "strength": {
                  "mean": -0.5,
                  "std": 0.15
                },
                "to": "revenue"
              }
            ],
            "nodes": [
              {
                "id": "price",
                "kind": "decision",
                "label": "Price"
              },
              {
                "id": "revenue",
                "kind": "outcome",
                "label": "Revenue"
              }
            ]
          },
          "n_samples": 1000,
          "options": [
            {
              "id": "low",
              "interventions": {
                "price": 0.3
              },
              "label": "Low price"
            },
            {
              "id": "high",
              "interventions": {
                "price": 0.7
              },
              "label": "High price"
            }
          ],
          "request_id": "req-001"
        },
        "properties": {
          "analysis_types": {
            "default": [
              "comparison",
              "sensitivity",
              "robustness"
            ],
            "description": "Types of analysis to perform",
            "items": {
              "type": "string"
            },
            "title": "Analysis Types",
            "type": "array"
          },
          "confidence_level": {
            "default": 0.95,
            "description": "Confidence level for intervals",
            "maximum": 0.99,
            "minimum": 0.5,
            "title": "Confidence Level",
            "type": "number"
          },
          "goal_node_id": {
            "description": "Target outcome node to optimize",
            "title": "Goal Node Id",
            "type": "string"
          },
          "goal_threshold": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Success threshold for goal outcome. When provided, computes probability_of_goal (fraction of samples meeting/exceeding threshold).",
            "title": "Goal Threshold"
          },
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV2"
              }
            ],
            "description": "Causal graph with dual uncertainty edges"
          },
          "n_samples": {
            "default": 1000,
            "description": "Number of Monte Carlo samples",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "N Samples",
            "type": "integer"
          },
          "options": {
            "description": "Decision options to compare",
            "items": {
              "$ref": "#/components/schemas/InterventionOption"
            },
            "minItems": 1,
            "title": "Options",
            "type": "array"
          },
          "parameter_uncertainties": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ParameterUncertainty"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Uncertainty specifications for factor node values. If not provided, factor nodes use observed_state.value as fixed values.",
            "title": "Parameter Uncertainties"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional request ID for tracing. Generated if not provided.",
            "title": "Request Id"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Random seed for reproducibility; if None, computed from graph",
            "title": "Seed"
          }
        },
        "required": [
          "graph",
          "options",
          "goal_node_id"
        ],
        "title": "RobustnessRequestV2",
        "type": "object"
      },
      "RobustnessResponse-Input": {
        "description": "API response wrapper for robustness analysis.",
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          },
          "result": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessResult-Input"
              }
            ],
            "description": "Robustness analysis result"
          }
        },
        "required": [
          "result"
        ],
        "title": "RobustnessResponse",
        "type": "object"
      },
      "RobustnessResponseV2": {
        "description": "V2.2 robustness analysis response.",
        "example": {
          "_metadata": {
            "config_fingerprint": "abc123",
            "edge_existence_rates": {},
            "execution_time_ms": 150,
            "isl_version": "1.0.0",
            "n_samples_used": 1000,
            "schema_version": "2.2",
            "seed_used": 12345,
            "tie_count": 0,
            "tie_rate": 0.0
          },
          "critiques": [],
          "recommendation_confidence": 0.65,
          "recommended_option_id": "opt1",
          "request_id": "req-001",
          "results": [
            {
              "option_id": "opt1",
              "outcome_distribution": {
                "ci_lower": 40000.0,
                "ci_upper": 60000.0,
                "mean": 50000.0,
                "median": 49500.0,
                "std": 5000.0
              },
              "win_probability": 0.65
            }
          ],
          "robustness": {
            "confidence": 0.92,
            "fragile_edges": [],
            "interpretation": "Robust recommendation",
            "is_robust": true,
            "recommendation_stability": 0.88,
            "robust_edges": []
          },
          "sensitivity": []
        },
        "properties": {
          "_metadata": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadataV2"
              }
            ],
            "description": "Execution metadata"
          },
          "critiques": {
            "description": "Analysis critiques and warnings",
            "items": {
              "$ref": "#/components/schemas/CritiqueV2"
            },
            "title": "Critiques",
            "type": "array"
          },
          "factor_sensitivity": {
            "description": "Sensitivity results per factor node value",
            "items": {
              "$ref": "#/components/schemas/FactorSensitivityResult"
            },
            "title": "Factor Sensitivity",
            "type": "array"
          },
          "recommendation_confidence": {
            "description": "Confidence in recommendation",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Recommendation Confidence",
            "type": "number"
          },
          "recommended_option_id": {
            "description": "ID of recommended option",
            "title": "Recommended Option Id",
            "type": "string"
          },
          "request_id": {
            "description": "Request identifier for tracing",
            "title": "Request Id",
            "type": "string"
          },
          "results": {
            "description": "Results for each decision option",
            "items": {
              "$ref": "#/components/schemas/OptionResult"
            },
            "title": "Results",
            "type": "array"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__robustness_v2__RobustnessResult"
              }
            ],
            "description": "Overall robustness assessment"
          },
          "sensitivity": {
            "description": "Sensitivity results per edge",
            "items": {
              "$ref": "#/components/schemas/SensitivityResult"
            },
            "title": "Sensitivity",
            "type": "array"
          }
        },
        "required": [
          "request_id",
          "results",
          "recommended_option_id",
          "recommendation_confidence",
          "robustness",
          "_metadata"
        ],
        "title": "RobustnessResponseV2",
        "type": "object"
      },
      "RobustnessResult-Input": {
        "description": "Unified response schema for Decision Robustness Suite.\n\nContains all robustness metrics in a single payload:\n- Option rankings with utility distributions\n- Top recommendation with confidence\n- Sensitivity analysis (top sensitive parameters)\n- Robustness bounds (flip thresholds)\n- Value of information (EVPI/EVSI)\n- Pareto frontier (for multi-goal)\n- Narrative summary",
        "example": {
          "narrative": "Your decision is robust. Price changes up to 30% wouldn't change the recommendation.",
          "option_rankings": [
            {
              "expected_utility": 150000.0,
              "option_id": "option_a",
              "option_label": "Aggressive Marketing",
              "rank": 1,
              "utility_distribution": {
                "p25": 135000.0,
                "p5": 120000.0,
                "p50": 150000.0,
                "p75": 165000.0,
                "p95": 180000.0
              },
              "vs_baseline": 25000.0,
              "vs_baseline_pct": 20.0
            }
          ],
          "recommendation": {
            "confidence": "high",
            "option_id": "option_a",
            "option_label": "Aggressive Marketing",
            "recommendation_status": "actionable"
          },
          "robustness_bounds": [
            {
              "flip_threshold": 0.15,
              "flip_threshold_pct": 25.0,
              "flip_to_option": "option_b",
              "parameter_id": "marketing_roi",
              "parameter_label": "Marketing ROI"
            }
          ],
          "robustness_label": "robust",
          "robustness_summary": "Your decision is robust to typical parameter uncertainty",
          "sensitivity": [
            {
              "current_value": -1.2,
              "description": "Increasing Price Elasticity decreases expected revenue",
              "impact_direction": "negative",
              "parameter_id": "price_elasticity",
              "parameter_label": "Price Elasticity",
              "sensitivity_score": 0.85
            }
          ],
          "value_of_information": [
            {
              "current_uncertainty": 0.25,
              "data_collection_suggestion": "Survey 50 customers",
              "evpi": 15000.0,
              "evsi": 8500.0,
              "parameter_id": "churn_rate",
              "parameter_label": "Customer Churn Rate",
              "recommendation": "High value - consider gathering data"
            }
          ]
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          },
          "completed_analyses": {
            "description": "Analyses that completed successfully",
            "items": {
              "type": "string"
            },
            "title": "Completed Analyses",
            "type": "array"
          },
          "elapsed_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Total analysis time in milliseconds",
            "title": "Elapsed Ms"
          },
          "narrative": {
            "description": "Plain language summary combining all analyses",
            "title": "Narrative",
            "type": "string"
          },
          "option_rankings": {
            "description": "All options ranked by expected utility",
            "items": {
              "$ref": "#/components/schemas/src__models__decision_robustness__RankedOption"
            },
            "title": "Option Rankings",
            "type": "array"
          },
          "pareto": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ParetoResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "Pareto frontier analysis (multi-goal only)"
          },
          "partial": {
            "default": false,
            "description": "Whether this is a partial result due to timeout",
            "title": "Partial",
            "type": "boolean"
          },
          "recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Recommendation-Input"
              }
            ],
            "description": "Top recommendation with confidence"
          },
          "robustness_bounds": {
            "description": "Parameter thresholds that would flip recommendation",
            "items": {
              "$ref": "#/components/schemas/RobustnessBound"
            },
            "title": "Robustness Bounds",
            "type": "array"
          },
          "robustness_label": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLabelEnum"
              }
            ],
            "description": "Overall robustness classification"
          },
          "robustness_summary": {
            "description": "Plain language robustness summary",
            "title": "Robustness Summary",
            "type": "string"
          },
          "sensitivity": {
            "description": "Most sensitive parameters (ranked)",
            "items": {
              "$ref": "#/components/schemas/SensitiveParameter"
            },
            "title": "Sensitivity",
            "type": "array"
          },
          "skipped_analyses": {
            "description": "Analyses skipped due to timeout or disabled",
            "items": {
              "type": "string"
            },
            "title": "Skipped Analyses",
            "type": "array"
          },
          "value_of_information": {
            "description": "VoI analysis for uncertain parameters",
            "items": {
              "$ref": "#/components/schemas/ValueOfInformation"
            },
            "title": "Value Of Information",
            "type": "array"
          }
        },
        "required": [
          "option_rankings",
          "recommendation",
          "sensitivity",
          "robustness_label",
          "robustness_summary",
          "robustness_bounds",
          "value_of_information",
          "narrative"
        ],
        "title": "RobustnessResult",
        "type": "object"
      },
      "RobustnessResultV2": {
        "description": "Robustness analysis result.",
        "properties": {
          "confidence": {
            "description": "Confidence [0, 1]",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "type": "number"
          },
          "fragile_edges": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/FragileEdgeV2"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Edges that could flip the decision, with alternative winner analysis",
            "title": "Fragile Edges"
          },
          "fragile_edges_v1": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Edges that could flip the decision (V1 compat, string format)",
            "title": "Fragile Edges V1"
          },
          "is_robust": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Whether recommendation is robust (V1 compat)",
            "title": "Is Robust"
          },
          "level": {
            "description": "Robustness level",
            "enum": [
              "high",
              "moderate",
              "low",
              "very_low"
            ],
            "title": "Level",
            "type": "string"
          },
          "recommendation_stability": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "P(same recommendation across samples) (V1 compat)",
            "title": "Recommendation Stability"
          },
          "robust_edges": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Edges that don't significantly affect decision (V1 compat)",
            "title": "Robust Edges"
          },
          "sensitive_factors": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/SensitiveFactorV2"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Factor sensitivity breakdown",
            "title": "Sensitive Factors"
          }
        },
        "required": [
          "level",
          "confidence"
        ],
        "title": "RobustnessResultV2",
        "type": "object"
      },
      "RobustnessScore": {
        "description": "Overall robustness score for sensitivity analysis.",
        "properties": {
          "breakpoints": {
            "description": "Critical breakpoints",
            "items": {
              "$ref": "#/components/schemas/Breakpoint"
            },
            "title": "Breakpoints",
            "type": "array"
          },
          "overall": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLevel"
              }
            ],
            "description": "Overall robustness level"
          },
          "summary": {
            "description": "Summary of robustness",
            "title": "Summary",
            "type": "string"
          }
        },
        "required": [
          "overall",
          "summary",
          "breakpoints"
        ],
        "title": "RobustnessScore",
        "type": "object"
      },
      "RobustnessSummary": {
        "description": "Summary of recommendation robustness.",
        "example": {
          "closest_flip_point": {
            "operator": "<",
            "parameter": "market_size",
            "value": 0.75
          },
          "conditions_count": 3,
          "recommendation_stability": "moderate",
          "safety_margin": 0.15
        },
        "properties": {
          "closest_flip_point": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConditionExpression"
              },
              {
                "type": "null"
              }
            ],
            "description": "Nearest condition that would flip the recommendation"
          },
          "conditions_count": {
            "description": "Number of conditions that could flip the recommendation",
            "minimum": 0.0,
            "title": "Conditions Count",
            "type": "integer"
          },
          "recommendation_stability": {
            "description": "Overall stability classification",
            "pattern": "^(robust|moderate|fragile)$",
            "title": "Recommendation Stability",
            "type": "string"
          },
          "safety_margin": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Distance to nearest flip point (in parameter units)",
            "title": "Safety Margin"
          }
        },
        "required": [
          "recommendation_stability",
          "conditions_count"
        ],
        "title": "RobustnessSummary",
        "type": "object"
      },
      "Scenario": {
        "description": "A decision scenario for comparison.",
        "example": {
          "description": "Conservative growth, preserve relationships",
          "outcomes": {
            "brand": 0,
            "churn": 0.015,
            "revenue": 45000
          },
          "trade_offs": [
            "Lower revenue",
            "Better retention"
          ]
        },
        "properties": {
          "description": {
            "description": "Natural language description",
            "maxLength": 10000,
            "title": "Description",
            "type": "string"
          },
          "outcomes": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Predicted outcomes",
            "title": "Outcomes",
            "type": "object"
          },
          "trade_offs": {
            "description": "What's gained vs lost",
            "items": {
              "type": "string"
            },
            "maxItems": 20,
            "title": "Trade Offs",
            "type": "array"
          }
        },
        "required": [
          "description",
          "outcomes",
          "trade_offs"
        ],
        "title": "Scenario",
        "type": "object"
      },
      "ScenarioComparison": {
        "description": "Comparison of multiple scenarios.",
        "example": {
          "best_outcome": "combined",
          "marginal_gains": {
            "combined": 12000,
            "increase": 5000
          },
          "most_robust": "baseline",
          "ranking": [
            "combined",
            "increase",
            "baseline"
          ]
        },
        "properties": {
          "best_outcome": {
            "description": "Scenario ID with best outcome",
            "title": "Best Outcome",
            "type": "string"
          },
          "marginal_gains": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Marginal uplift of each scenario vs baseline",
            "title": "Marginal Gains",
            "type": "object"
          },
          "most_robust": {
            "description": "Scenario ID with highest robustness",
            "title": "Most Robust",
            "type": "string"
          },
          "ranking": {
            "description": "Scenarios ranked by outcome",
            "items": {
              "type": "string"
            },
            "title": "Ranking",
            "type": "array"
          }
        },
        "required": [
          "best_outcome",
          "most_robust",
          "marginal_gains",
          "ranking"
        ],
        "title": "ScenarioComparison",
        "type": "object"
      },
      "ScenarioDescription": {
        "description": "Description of the counterfactual scenario.",
        "properties": {
          "context": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Observed context",
            "title": "Context"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Intervention values",
            "title": "Intervention",
            "type": "object"
          },
          "outcome": {
            "description": "Outcome variable",
            "title": "Outcome",
            "type": "string"
          }
        },
        "required": [
          "intervention",
          "outcome"
        ],
        "title": "ScenarioDescription",
        "type": "object"
      },
      "ScenarioResult": {
        "description": "Result for a single counterfactual scenario.",
        "example": {
          "intervention": {
            "Price": 50
          },
          "label": "10% price increase",
          "prediction": {
            "confidence_interval": {
              "lower": 33000,
              "upper": 37000
            },
            "point_estimate": 35000,
            "sensitivity_range": {
              "explanation": "Range accounts for uncertainty",
              "optimistic": 38000,
              "pessimistic": 32000
            }
          },
          "robustness": {
            "critical_assumptions": [],
            "score": "robust"
          },
          "scenario_id": "aggressive_pricing",
          "uncertainty": {
            "overall": "medium",
            "sources": []
          }
        },
        "properties": {
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Intervention values",
            "title": "Intervention",
            "type": "object"
          },
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable label",
            "title": "Label"
          },
          "prediction": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PredictionResults"
              }
            ],
            "description": "Prediction results"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessAnalysis"
              }
            ],
            "description": "Robustness analysis"
          },
          "scenario_id": {
            "description": "Scenario identifier",
            "title": "Scenario Id",
            "type": "string"
          },
          "uncertainty": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UncertaintyBreakdown"
              }
            ],
            "description": "Uncertainty breakdown"
          }
        },
        "required": [
          "scenario_id",
          "intervention",
          "prediction",
          "uncertainty",
          "robustness"
        ],
        "title": "ScenarioResult",
        "type": "object"
      },
      "ScenarioSpec": {
        "description": "Specification for a single counterfactual scenario.",
        "example": {
          "id": "aggressive_pricing",
          "intervention": {
            "Marketing": 50000,
            "Price": 50
          },
          "label": "Aggressive market expansion strategy"
        },
        "properties": {
          "id": {
            "description": "User-defined scenario identifier",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "type": "string"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Intervention values for this scenario",
            "title": "Intervention",
            "type": "object"
          },
          "label": {
            "anyOf": [
              {
                "maxLength": 200,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional human-readable label",
            "title": "Label"
          }
        },
        "required": [
          "id",
          "intervention"
        ],
        "title": "ScenarioSpec",
        "type": "object"
      },
      "SensitiveFactorV2": {
        "description": "Factor sensitivity information.",
        "properties": {
          "effect_on_ranking": {
            "description": "Effect on option ranking",
            "enum": [
              "none",
              "minor",
              "moderate",
              "major"
            ],
            "title": "Effect On Ranking",
            "type": "string"
          },
          "node_id": {
            "description": "Factor node ID",
            "title": "Node Id",
            "type": "string"
          },
          "sensitivity_score": {
            "description": "Sensitivity score",
            "title": "Sensitivity Score",
            "type": "number"
          }
        },
        "required": [
          "node_id",
          "sensitivity_score",
          "effect_on_ranking"
        ],
        "title": "SensitiveFactorV2",
        "type": "object"
      },
      "SensitiveParameter": {
        "description": "A parameter identified as sensitive to the decision outcome.",
        "example": {
          "current_value": -1.2,
          "description": "Increasing Price Elasticity decreases expected revenue",
          "impact_direction": "negative",
          "parameter_id": "price_elasticity",
          "parameter_label": "Price Elasticity",
          "sensitivity_score": 0.85
        },
        "properties": {
          "current_value": {
            "description": "Current parameter value",
            "title": "Current Value",
            "type": "number"
          },
          "description": {
            "description": "Human-readable description of impact",
            "title": "Description",
            "type": "string"
          },
          "impact_direction": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImpactDirectionEnum"
              }
            ],
            "description": "Whether increasing parameter improves or hurts outcome"
          },
          "parameter_id": {
            "description": "Parameter identifier",
            "title": "Parameter Id",
            "type": "string"
          },
          "parameter_label": {
            "description": "Human-readable parameter name",
            "title": "Parameter Label",
            "type": "string"
          },
          "sensitivity_score": {
            "description": "Normalized sensitivity score (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Sensitivity Score",
            "type": "number"
          }
        },
        "required": [
          "parameter_id",
          "parameter_label",
          "sensitivity_score",
          "current_value",
          "impact_direction",
          "description"
        ],
        "title": "SensitiveParameter",
        "type": "object"
      },
      "SensitivityAnalysisRequest": {
        "description": "Request model for sensitivity analysis endpoint.",
        "example": {
          "assumptions": [
            {
              "current_value": 500,
              "name": "Price sensitivity",
              "type": "parametric",
              "variation_range": {
                "max": 700,
                "min": 300
              }
            }
          ],
          "baseline_result": 51000,
          "model": {
            "distributions": {
              "sensitivity": {
                "parameters": {
                  "mean": 500,
                  "std": 50
                },
                "type": "normal"
              }
            },
            "equations": {
              "Revenue": "10000 + sensitivity * Price"
            },
            "variables": [
              "Price",
              "Revenue"
            ]
          }
        },
        "properties": {
          "assumptions": {
            "description": "Assumptions to test",
            "items": {
              "$ref": "#/components/schemas/Assumption"
            },
            "maxItems": 30,
            "minItems": 1,
            "title": "Assumptions",
            "type": "array"
          },
          "baseline_result": {
            "description": "Baseline analysis result",
            "title": "Baseline Result",
            "type": "number"
          },
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          }
        },
        "required": [
          "model",
          "baseline_result",
          "assumptions"
        ],
        "title": "SensitivityAnalysisRequest",
        "type": "object"
      },
      "SensitivityAnalysisResponse": {
        "description": "Response model for sensitivity analysis endpoint.",
        "example": {
          "assumptions": [
            {
              "confidence": "medium",
              "current_value": 0.5,
              "evidence": "Historical data",
              "impact": {
                "if_wrong": 15000,
                "percentage": 58
              },
              "importance": "critical",
              "name": "Price sensitivity",
              "recommendation": "Validate with A/B test"
            }
          ],
          "conclusion": {
            "base_case": 51000,
            "statement": "Revenue increases by \u00a345k-\u00a355k per month"
          },
          "explanation": {
            "assumptions": [
              "Assumptions independent"
            ],
            "reasoning": "Depends on price sensitivity...",
            "summary": "Moderately robust with one critical assumption",
            "technical_basis": "One-at-a-time sensitivity analysis"
          },
          "robustness": {
            "breakpoints": [
              {
                "assumption": "Price sensitivity",
                "threshold": "If sensitivity > 0.75, impact becomes negative"
              }
            ],
            "overall": "moderate",
            "summary": "Holds unless price sensitivity substantially different"
          }
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "assumptions": {
            "description": "Analyzed assumptions",
            "items": {
              "$ref": "#/components/schemas/AssumptionAnalysis"
            },
            "title": "Assumptions",
            "type": "array"
          },
          "conclusion": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConclusionStatement"
              }
            ],
            "description": "Conclusion being tested"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "robustness": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessScore"
              }
            ],
            "description": "Overall robustness"
          }
        },
        "required": [
          "conclusion",
          "assumptions",
          "robustness",
          "explanation"
        ],
        "title": "SensitivityAnalysisResponse",
        "type": "object"
      },
      "SensitivityDetailedRequest": {
        "description": "Request model for detailed sensitivity analysis endpoint.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "n_market_size",
                "to": "n_roi",
                "weight": 2.5
              }
            ],
            "nodes": [
              {
                "belief": 0.75,
                "id": "n_market_size",
                "kind": "outcome",
                "label": "Market Size"
              },
              {
                "id": "n_roi",
                "kind": "outcome",
                "label": "ROI"
              }
            ]
          },
          "timeout": 12000
        },
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "timeout": {
            "anyOf": [
              {
                "maximum": 30000.0,
                "minimum": 1000.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 12000,
            "description": "Request timeout in milliseconds",
            "title": "Timeout"
          }
        },
        "required": [
          "graph"
        ],
        "title": "SensitivityDetailedRequest",
        "type": "object"
      },
      "SensitivityDetailedResponse": {
        "description": "Response model for detailed sensitivity analysis.",
        "example": {
          "assumptions": [
            {
              "impact": "10% change in market size estimate leads to 25% swing in projected ROI",
              "sensitivity": 0.92,
              "variable": "n_market_size"
            },
            {
              "impact": "Adoption rate uncertainty accounts for most outcome variance",
              "sensitivity": 0.78,
              "variable": "n_adoption_rate"
            }
          ]
        },
        "properties": {
          "assumptions": {
            "description": "List of assumptions with sensitivity analysis",
            "items": {
              "$ref": "#/components/schemas/AssumptionSensitivity"
            },
            "title": "Assumptions",
            "type": "array"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          }
        },
        "required": [
          "assumptions"
        ],
        "title": "SensitivityDetailedResponse",
        "type": "object"
      },
      "SensitivityMetric": {
        "description": "Quantitative sensitivity metric for one assumption.\n\nMeasures how much outcomes change when assumption is violated.",
        "example": {
          "assumption": "no_unobserved_confounding",
          "baseline_outcome": 50000.0,
          "critical": true,
          "elasticity": 2.3,
          "interpretation": "10% confounder bias \u2192 23% outcome change. CRITICAL assumption.",
          "max_deviation_percent": 16.0,
          "outcome_range": [
            42000.0,
            58000.0
          ],
          "robustness_score": 0.34,
          "violation_details": []
        },
        "properties": {
          "assumption": {
            "description": "Name of assumption tested",
            "title": "Assumption",
            "type": "string"
          },
          "baseline_outcome": {
            "description": "Predicted outcome under assumption",
            "title": "Baseline Outcome",
            "type": "number"
          },
          "critical": {
            "description": "Whether this assumption is critical (high sensitivity)",
            "title": "Critical",
            "type": "boolean"
          },
          "elasticity": {
            "description": "Percent change in outcome per percent change in assumption violation",
            "minimum": 0.0,
            "title": "Elasticity",
            "type": "number"
          },
          "interpretation": {
            "description": "Plain English explanation of sensitivity",
            "maxLength": 500,
            "title": "Interpretation",
            "type": "string"
          },
          "max_deviation_percent": {
            "description": "Maximum percent deviation from baseline",
            "minimum": 0.0,
            "title": "Max Deviation Percent",
            "type": "number"
          },
          "outcome_range": {
            "description": "Range of outcomes across all violations (min, max)",
            "maxItems": 2,
            "minItems": 2,
            "prefixItems": [
              {
                "type": "number"
              },
              {
                "type": "number"
              }
            ],
            "title": "Outcome Range",
            "type": "array"
          },
          "robustness_score": {
            "description": "How robust results are to this assumption (0=fragile, 1=robust)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "type": "number"
          },
          "violation_details": {
            "description": "Detailed results for each violation tested",
            "items": {
              "additionalProperties": {
                "type": "number"
              },
              "type": "object"
            },
            "title": "Violation Details",
            "type": "array"
          }
        },
        "required": [
          "assumption",
          "baseline_outcome",
          "outcome_range",
          "elasticity",
          "critical",
          "max_deviation_percent",
          "robustness_score",
          "interpretation"
        ],
        "title": "SensitivityMetric",
        "type": "object"
      },
      "SensitivityRange": {
        "description": "Sensitivity range showing best/worst plausible cases.",
        "example": {
          "explanation": "Range accounts for uncertainty in competitive response",
          "optimistic": 62000,
          "pessimistic": 38000
        },
        "properties": {
          "explanation": {
            "description": "What creates this range",
            "title": "Explanation",
            "type": "string"
          },
          "optimistic": {
            "description": "Optimistic scenario value",
            "title": "Optimistic",
            "type": "number"
          },
          "pessimistic": {
            "description": "Pessimistic scenario value",
            "title": "Pessimistic",
            "type": "number"
          }
        },
        "required": [
          "optimistic",
          "pessimistic",
          "explanation"
        ],
        "title": "SensitivityRange",
        "type": "object"
      },
      "SensitivityReport": {
        "description": "Complete sensitivity analysis report.\n\nShows how sensitive results are to each assumption.",
        "example": {
          "confidence_level": "high",
          "least_critical": [
            "linear_effects"
          ],
          "metadata": {
            "timestamp": "2025-11-23T12:00:00Z",
            "version": "1.0.0"
          },
          "most_critical": [
            "no_unobserved_confounding"
          ],
          "overall_robustness_score": 0.67,
          "recommendations": [
            "Measure additional potential confounders",
            "Use instrumental variables if available"
          ],
          "sensitivities": {
            "no_unobserved_confounding": {
              "assumption": "no_unobserved_confounding",
              "baseline_outcome": 50000.0,
              "critical": true,
              "elasticity": 2.3,
              "interpretation": "10% bias \u2192 23% change",
              "max_deviation_percent": 16.0,
              "outcome_range": [
                42000.0,
                58000.0
              ],
              "robustness_score": 0.34,
              "violation_details": []
            }
          },
          "summary": "Results are moderately robust. Most critical: no unobserved confounding."
        },
        "properties": {
          "confidence_level": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in sensitivity analysis results"
          },
          "least_critical": {
            "description": "Names of least critical assumptions",
            "items": {
              "type": "string"
            },
            "title": "Least Critical",
            "type": "array"
          },
          "metadata": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              }
            ],
            "description": "Response metadata"
          },
          "most_critical": {
            "description": "Names of critical assumptions (ordered by sensitivity)",
            "items": {
              "type": "string"
            },
            "title": "Most Critical",
            "type": "array"
          },
          "overall_robustness_score": {
            "description": "Aggregate robustness across all assumptions (0=fragile, 1=robust)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overall Robustness Score",
            "type": "number"
          },
          "recommendations": {
            "description": "Recommendations for strengthening assumptions",
            "items": {
              "type": "string"
            },
            "maxItems": 10,
            "title": "Recommendations",
            "type": "array"
          },
          "sensitivities": {
            "additionalProperties": {
              "$ref": "#/components/schemas/SensitivityMetric"
            },
            "description": "Sensitivity metric for each assumption tested",
            "title": "Sensitivities",
            "type": "object"
          },
          "summary": {
            "description": "Plain English summary of sensitivity findings",
            "maxLength": 1000,
            "title": "Summary",
            "type": "string"
          }
        },
        "required": [
          "sensitivities",
          "most_critical",
          "overall_robustness_score",
          "confidence_level",
          "summary",
          "metadata"
        ],
        "title": "SensitivityReport",
        "type": "object"
      },
      "SensitivityRequest": {
        "description": "Request for detailed sensitivity analysis.",
        "example": {
          "assumptions": [
            "no_unobserved_confounding",
            "linear_effects"
          ],
          "intervention": {
            "Price": 45.0
          },
          "model": {
            "equations": {
              "Revenue": "100 * Price + 5000 * Quality - 200"
            },
            "type": "linear"
          },
          "n_samples": 100,
          "violation_levels": [
            0.1,
            0.2,
            0.3
          ]
        },
        "properties": {
          "assumptions": {
            "description": "List of assumption types to test",
            "items": {
              "type": "string"
            },
            "maxItems": 10,
            "minItems": 1,
            "title": "Assumptions",
            "type": "array"
          },
          "intervention": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Intervention values to analyze",
            "title": "Intervention",
            "type": "object"
          },
          "model": {
            "description": "Structural causal model specification",
            "title": "Model",
            "type": "object"
          },
          "n_samples": {
            "default": 100,
            "description": "Number of samples for stochastic violations",
            "maximum": 1000.0,
            "minimum": 10.0,
            "title": "N Samples",
            "type": "integer"
          },
          "violation_levels": {
            "default": [
              0.1,
              0.2,
              0.3,
              0.5
            ],
            "description": "Violation magnitudes to test (0-1)",
            "items": {
              "type": "number"
            },
            "maxItems": 20,
            "minItems": 1,
            "title": "Violation Levels",
            "type": "array"
          }
        },
        "required": [
          "model",
          "intervention",
          "assumptions"
        ],
        "title": "SensitivityRequest",
        "type": "object"
      },
      "SensitivityResult": {
        "description": "Sensitivity to a single edge.",
        "example": {
          "edge_from": "marketing",
          "edge_to": "demand",
          "elasticity": 0.45,
          "importance_rank": 1,
          "interpretation": "Decision is moderately sensitive to marketing->demand existence",
          "sensitivity_type": "existence"
        },
        "properties": {
          "edge_from": {
            "description": "Source node of edge",
            "title": "Edge From",
            "type": "string"
          },
          "edge_to": {
            "description": "Target node of edge",
            "title": "Edge To",
            "type": "string"
          },
          "elasticity": {
            "description": "% change in outcome per % change in parameter",
            "title": "Elasticity",
            "type": "number"
          },
          "importance_rank": {
            "description": "Rank by importance (1 = most important)",
            "minimum": 1.0,
            "title": "Importance Rank",
            "type": "integer"
          },
          "interpretation": {
            "description": "Human-readable explanation",
            "title": "Interpretation",
            "type": "string"
          },
          "sensitivity_type": {
            "description": "Type: 'existence' or 'magnitude'",
            "title": "Sensitivity Type",
            "type": "string"
          }
        },
        "required": [
          "edge_from",
          "edge_to",
          "sensitivity_type",
          "elasticity",
          "importance_rank",
          "interpretation"
        ],
        "title": "SensitivityResult",
        "type": "object"
      },
      "SequentialAnalysisRequest": {
        "description": "Request model for sequential decision analysis endpoint.",
        "example": {
          "discount_factor": 0.95,
          "graph": {
            "edges": [
              {
                "action": "invest",
                "from": "invest",
                "immediate_payoff": -50000,
                "to": "market"
              },
              {
                "from": "market",
                "outcome": "favorable",
                "probability": 0.7,
                "to": "pricing"
              },
              {
                "from": "market",
                "outcome": "unfavorable",
                "probability": 0.3,
                "to": "loss"
              },
              {
                "action": "premium",
                "from": "pricing",
                "to": "high_return"
              },
              {
                "action": "economy",
                "from": "pricing",
                "to": "low_return"
              }
            ],
            "nodes": [
              {
                "id": "invest",
                "label": "Invest Decision",
                "type": "decision"
              },
              {
                "id": "market",
                "label": "Market Outcome",
                "type": "chance"
              },
              {
                "id": "pricing",
                "label": "Pricing Decision",
                "type": "decision"
              },
              {
                "id": "high_return",
                "label": "High Return",
                "payoff": 100000,
                "type": "terminal"
              },
              {
                "id": "low_return",
                "label": "Low Return",
                "payoff": 20000,
                "type": "terminal"
              },
              {
                "id": "loss",
                "label": "Loss",
                "payoff": -30000,
                "type": "terminal"
              }
            ],
            "stage_assignments": {
              "high_return": 2,
              "invest": 0,
              "loss": 2,
              "low_return": 2,
              "market": 1,
              "pricing": 1
            }
          },
          "monte_carlo_samples": 1000,
          "risk_tolerance": "neutral",
          "stages": [
            {
              "decision_nodes": [
                "invest"
              ],
              "stage_index": 0,
              "stage_label": "Investment"
            },
            {
              "decision_nodes": [
                "pricing"
              ],
              "resolution_nodes": [
                "market"
              ],
              "stage_index": 1,
              "stage_label": "Pricing"
            },
            {
              "decision_nodes": [],
              "stage_index": 2,
              "stage_label": "Terminal"
            }
          ]
        },
        "properties": {
          "discount_factor": {
            "default": 0.95,
            "description": "Time preference discount factor (0-1)",
            "exclusiveMinimum": 0.0,
            "maximum": 1.0,
            "title": "Discount Factor",
            "type": "number"
          },
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SequentialGraph"
              }
            ],
            "description": "Sequential decision graph"
          },
          "monte_carlo_samples": {
            "default": 1000,
            "description": "Number of Monte Carlo samples for uncertainty",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "Monte Carlo Samples",
            "type": "integer"
          },
          "risk_tolerance": {
            "anyOf": [
              {
                "pattern": "^(averse|neutral|seeking)$",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "neutral",
            "description": "Risk tolerance: 'averse', 'neutral', 'seeking'",
            "title": "Risk Tolerance"
          },
          "stages": {
            "description": "Definition of decision stages",
            "items": {
              "$ref": "#/components/schemas/DecisionStage"
            },
            "maxItems": 10,
            "minItems": 1,
            "title": "Stages",
            "type": "array"
          }
        },
        "required": [
          "graph",
          "stages"
        ],
        "title": "SequentialAnalysisRequest",
        "type": "object"
      },
      "SequentialAnalysisResponse": {
        "description": "Response model for sequential decision analysis.",
        "example": {
          "optimal_policy": {
            "expected_total_value": 45000.0,
            "stages": [
              {
                "contingent_on": [],
                "decision_rule": {
                  "conditional_actions": [],
                  "default_action": "invest"
                },
                "stage_index": 0,
                "stage_label": "Investment"
              },
              {
                "contingent_on": [
                  "market_outcome"
                ],
                "decision_rule": {
                  "conditional_actions": [
                    {
                      "action": "premium",
                      "condition": "If market_favorable",
                      "expected_value_if_taken": 100000
                    }
                  ],
                  "default_action": "standard"
                },
                "stage_index": 1,
                "stage_label": "Pricing"
              }
            ],
            "value_distribution": {
              "parameters": {
                "mean": 45000,
                "std": 15000
              },
              "type": "normal"
            }
          },
          "schema_version": "sequential.v1",
          "sensitivity_to_timing": "medium",
          "stage_analyses": [
            {
              "information_value": 15000.0,
              "optimal_waiting_value": 20000.0,
              "options_at_stage": [
                {
                  "continuation_value": 95000,
                  "immediate_value": -50000,
                  "label": "Make Investment",
                  "option_id": "invest",
                  "total_value": 45000
                }
              ],
              "stage_index": 0,
              "stage_label": "Investment Decision"
            }
          ],
          "value_of_flexibility": 25000.0
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "optimal_policy": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Policy"
              }
            ],
            "description": "Optimal policy across all stages"
          },
          "schema_version": {
            "default": "sequential.v1",
            "description": "Schema version for this response",
            "title": "Schema Version",
            "type": "string"
          },
          "sensitivity_to_timing": {
            "description": "How sensitive results are to timing",
            "pattern": "^(high|medium|low)$",
            "title": "Sensitivity To Timing",
            "type": "string"
          },
          "stage_analyses": {
            "description": "Detailed analysis for each stage",
            "items": {
              "$ref": "#/components/schemas/StageAnalysis"
            },
            "title": "Stage Analyses",
            "type": "array"
          },
          "value_of_flexibility": {
            "description": "Value of waiting vs committing now",
            "title": "Value Of Flexibility",
            "type": "number"
          }
        },
        "required": [
          "optimal_policy",
          "stage_analyses",
          "value_of_flexibility",
          "sensitivity_to_timing"
        ],
        "title": "SequentialAnalysisResponse",
        "type": "object"
      },
      "SequentialGraph": {
        "description": "Sequential decision graph structure.",
        "example": {
          "edges": [
            {
              "action": "invest",
              "from": "start",
              "immediate_payoff": -10000,
              "to": "market"
            },
            {
              "from": "market",
              "outcome": "favorable",
              "probability": 0.6,
              "to": "expand"
            },
            {
              "from": "market",
              "outcome": "unfavorable",
              "probability": 0.4,
              "to": "failure"
            },
            {
              "action": "expand",
              "from": "expand",
              "to": "success"
            },
            {
              "action": "exit",
              "from": "expand",
              "to": "failure"
            }
          ],
          "nodes": [
            {
              "id": "start",
              "label": "Initial Investment",
              "type": "decision"
            },
            {
              "id": "market",
              "label": "Market Outcome",
              "type": "chance"
            },
            {
              "id": "expand",
              "label": "Expand Decision",
              "type": "decision"
            },
            {
              "id": "success",
              "label": "Success",
              "payoff": 100000,
              "type": "terminal"
            },
            {
              "id": "failure",
              "label": "Failure",
              "payoff": -20000,
              "type": "terminal"
            }
          ],
          "stage_assignments": {
            "expand": 1,
            "failure": 2,
            "market": 1,
            "start": 0,
            "success": 2
          }
        },
        "properties": {
          "edges": {
            "description": "List of directed edges",
            "items": {
              "$ref": "#/components/schemas/SequentialGraphEdge"
            },
            "maxItems": 300,
            "title": "Edges",
            "type": "array"
          },
          "nodes": {
            "description": "List of graph nodes",
            "items": {
              "$ref": "#/components/schemas/SequentialGraphNode"
            },
            "maxItems": 100,
            "minItems": 2,
            "title": "Nodes",
            "type": "array"
          },
          "stage_assignments": {
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Mapping of node IDs to stage indices",
            "title": "Stage Assignments",
            "type": "object"
          }
        },
        "required": [
          "nodes",
          "edges",
          "stage_assignments"
        ],
        "title": "SequentialGraph",
        "type": "object"
      },
      "SequentialGraphEdge": {
        "description": "Edge in a sequential decision graph.",
        "example": {
          "action": "invest",
          "from": "invest_decision",
          "immediate_payoff": -10000,
          "to": "market_outcome"
        },
        "properties": {
          "action": {
            "anyOf": [
              {
                "maxLength": 200,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Action label (for decision edges)",
            "title": "Action"
          },
          "from": {
            "description": "Source node ID",
            "maxLength": 100,
            "title": "From",
            "type": "string"
          },
          "immediate_payoff": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": 0.0,
            "description": "Immediate payoff for this transition",
            "title": "Immediate Payoff"
          },
          "outcome": {
            "anyOf": [
              {
                "maxLength": 200,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Outcome label (for chance edges)",
            "title": "Outcome"
          },
          "probability": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Transition probability",
            "title": "Probability"
          },
          "to": {
            "description": "Target node ID",
            "maxLength": 100,
            "title": "To",
            "type": "string"
          }
        },
        "required": [
          "from",
          "to"
        ],
        "title": "SequentialGraphEdge",
        "type": "object"
      },
      "SequentialGraphNode": {
        "description": "Node in a sequential decision graph.",
        "example": {
          "id": "invest_decision",
          "label": "Investment Decision",
          "type": "decision"
        },
        "properties": {
          "id": {
            "description": "Unique node identifier",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "type": "string"
          },
          "label": {
            "description": "Human-readable label",
            "maxLength": 200,
            "title": "Label",
            "type": "string"
          },
          "payoff": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Payoff value (for terminal nodes)",
            "title": "Payoff"
          },
          "probabilities": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Outcome probabilities (for chance nodes)",
            "title": "Probabilities"
          },
          "type": {
            "description": "Node type: 'decision', 'chance', or 'terminal'",
            "pattern": "^(decision|chance|terminal)$",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "id",
          "type",
          "label"
        ],
        "title": "SequentialGraphNode",
        "type": "object"
      },
      "StabilityAnalysis": {
        "description": "Detailed stability analysis from perturbations.",
        "example": {
          "most_frequent_alternative": "option_b",
          "num_perturbations": 100,
          "ranking_change_rate": 0.35,
          "ranking_changes": 35,
          "sample_perturbations": []
        },
        "properties": {
          "most_frequent_alternative": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Option that most often took top rank when changed",
            "title": "Most Frequent Alternative"
          },
          "num_perturbations": {
            "description": "Number of perturbations performed",
            "title": "Num Perturbations",
            "type": "integer"
          },
          "ranking_change_rate": {
            "description": "Rate of ranking changes (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Ranking Change Rate",
            "type": "number"
          },
          "ranking_changes": {
            "description": "Number of times ranking changed",
            "title": "Ranking Changes",
            "type": "integer"
          },
          "sample_perturbations": {
            "description": "Sample of perturbation results",
            "items": {
              "$ref": "#/components/schemas/PerturbationResult"
            },
            "maxItems": 10,
            "title": "Sample Perturbations",
            "type": "array"
          }
        },
        "required": [
          "num_perturbations",
          "ranking_changes",
          "ranking_change_rate"
        ],
        "title": "StabilityAnalysis",
        "type": "object"
      },
      "StageAnalysis": {
        "description": "Analysis for a single stage.",
        "example": {
          "information_value": 15000.0,
          "optimal_waiting_value": 20000.0,
          "options_at_stage": [
            {
              "continuation_value": 95000,
              "immediate_value": -50000,
              "label": "Make Investment",
              "option_id": "invest",
              "total_value": 45000
            },
            {
              "continuation_value": 20000,
              "immediate_value": 0,
              "label": "Wait and See",
              "option_id": "wait",
              "total_value": 20000
            }
          ],
          "stage_index": 0,
          "stage_label": "Investment Decision"
        },
        "properties": {
          "information_value": {
            "description": "Value of information revealed at this stage",
            "title": "Information Value",
            "type": "number"
          },
          "optimal_waiting_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Value of delaying decision (if applicable)",
            "title": "Optimal Waiting Value"
          },
          "options_at_stage": {
            "description": "Options available at this stage with analysis",
            "items": {
              "$ref": "#/components/schemas/StageOption"
            },
            "title": "Options At Stage",
            "type": "array"
          },
          "stage_index": {
            "description": "Stage index",
            "minimum": 0.0,
            "title": "Stage Index",
            "type": "integer"
          },
          "stage_label": {
            "description": "Human-readable stage label",
            "title": "Stage Label",
            "type": "string"
          }
        },
        "required": [
          "stage_index",
          "stage_label",
          "options_at_stage",
          "information_value"
        ],
        "title": "StageAnalysis",
        "type": "object"
      },
      "StageOption": {
        "description": "Analysis of a single option at a stage.",
        "example": {
          "continuation_value": 95000,
          "immediate_value": -50000,
          "label": "Make Investment",
          "option_id": "invest",
          "total_value": 45000
        },
        "properties": {
          "continuation_value": {
            "description": "Expected value of future stages",
            "title": "Continuation Value",
            "type": "number"
          },
          "immediate_value": {
            "description": "Immediate payoff of choosing this option",
            "title": "Immediate Value",
            "type": "number"
          },
          "label": {
            "description": "Human-readable label",
            "title": "Label",
            "type": "string"
          },
          "option_id": {
            "description": "Option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "total_value": {
            "description": "Total value (immediate + discounted continuation)",
            "title": "Total Value",
            "type": "number"
          }
        },
        "required": [
          "option_id",
          "label",
          "immediate_value",
          "continuation_value",
          "total_value"
        ],
        "title": "StageOption",
        "type": "object"
      },
      "StagePolicy": {
        "description": "Optimal decision policy for a single stage.",
        "example": {
          "contingent_on": [
            "market_outcome"
          ],
          "decision_rule": {
            "conditional_actions": [
              {
                "action": "premium_pricing",
                "condition": "If market_favorable",
                "expected_value_if_taken": 100000.0
              }
            ],
            "default_action": "standard_pricing"
          },
          "stage_index": 1,
          "stage_label": "Pricing Decision"
        },
        "properties": {
          "contingent_on": {
            "description": "What must be observed before this stage",
            "items": {
              "type": "string"
            },
            "title": "Contingent On",
            "type": "array"
          },
          "decision_rule": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DecisionRule"
              }
            ],
            "description": "Decision rule for this stage"
          },
          "stage_index": {
            "description": "Stage index",
            "minimum": 0.0,
            "title": "Stage Index",
            "type": "integer"
          },
          "stage_label": {
            "description": "Human-readable stage label",
            "title": "Stage Label",
            "type": "string"
          }
        },
        "required": [
          "stage_index",
          "stage_label",
          "decision_rule"
        ],
        "title": "StagePolicy",
        "type": "object"
      },
      "StageSensitivityRequest": {
        "description": "Request model for stage-by-stage sensitivity analysis.",
        "example": {
          "graph": {
            "edges": [
              {
                "action": "proceed",
                "from": "decide",
                "to": "outcome"
              }
            ],
            "nodes": [
              {
                "id": "decide",
                "label": "Decision",
                "type": "decision"
              },
              {
                "id": "outcome",
                "label": "Outcome",
                "payoff": 50000,
                "type": "terminal"
              }
            ],
            "stage_assignments": {
              "decide": 0,
              "outcome": 1
            }
          },
          "parameters_to_vary": [
            "market_probability",
            "payoff"
          ],
          "stages": [
            {
              "decision_nodes": [
                "decide"
              ],
              "stage_index": 0,
              "stage_label": "Decision"
            },
            {
              "decision_nodes": [],
              "stage_index": 1,
              "stage_label": "Terminal"
            }
          ],
          "variation_range": 0.2
        },
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SequentialGraph"
              }
            ],
            "description": "Sequential decision graph"
          },
          "parameters_to_vary": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "maxItems": 20,
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Parameters to vary (auto-detect if None)",
            "title": "Parameters To Vary"
          },
          "stages": {
            "description": "Definition of decision stages",
            "items": {
              "$ref": "#/components/schemas/DecisionStage"
            },
            "maxItems": 10,
            "minItems": 1,
            "title": "Stages",
            "type": "array"
          },
          "variation_range": {
            "default": 0.2,
            "description": "Fractional variation to apply (e.g., 0.2 = \u00b120%)",
            "exclusiveMinimum": 0.0,
            "maximum": 1.0,
            "title": "Variation Range",
            "type": "number"
          }
        },
        "required": [
          "graph",
          "stages"
        ],
        "title": "StageSensitivityRequest",
        "type": "object"
      },
      "StageSensitivityResponse": {
        "description": "Response model for stage sensitivity analysis.",
        "example": {
          "explanation": {
            "assumptions": [
              "Parameters vary independently"
            ],
            "reasoning": "Market probability has high sensitivity - small changes could flip optimal decision",
            "summary": "Policy is moderately robust to parameter changes",
            "technical_basis": "One-at-a-time sensitivity analysis with policy tracking"
          },
          "most_sensitive_parameters": [
            "market_probability",
            "payoff_high"
          ],
          "overall_robustness": 0.68,
          "schema_version": "stage_sensitivity.v1",
          "stage_results": [
            {
              "parameter_sensitivities": {
                "investment_cost": 0.45,
                "market_probability": 0.85
              },
              "policy_changes_at": {
                "market_probability": 0.35
              },
              "robustness_score": 0.72,
              "stage_index": 0,
              "stage_label": "Investment Decision"
            }
          ]
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "most_sensitive_parameters": {
            "description": "Parameters with highest sensitivity",
            "items": {
              "type": "string"
            },
            "title": "Most Sensitive Parameters",
            "type": "array"
          },
          "overall_robustness": {
            "description": "Overall policy robustness score",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overall Robustness",
            "type": "number"
          },
          "schema_version": {
            "default": "stage_sensitivity.v1",
            "description": "Schema version",
            "title": "Schema Version",
            "type": "string"
          },
          "stage_results": {
            "description": "Sensitivity results for each stage",
            "items": {
              "$ref": "#/components/schemas/StageSensitivityResult"
            },
            "title": "Stage Results",
            "type": "array"
          }
        },
        "required": [
          "stage_results",
          "overall_robustness",
          "most_sensitive_parameters",
          "explanation"
        ],
        "title": "StageSensitivityResponse",
        "type": "object"
      },
      "StageSensitivityResult": {
        "description": "Sensitivity analysis result for a single stage.",
        "example": {
          "parameter_sensitivities": {
            "investment_cost": 0.45,
            "market_probability": 0.85
          },
          "policy_changes_at": {
            "market_probability": 0.35
          },
          "robustness_score": 0.72,
          "stage_index": 0,
          "stage_label": "Investment Decision"
        },
        "properties": {
          "parameter_sensitivities": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Mapping of parameter names to sensitivity scores",
            "title": "Parameter Sensitivities",
            "type": "object"
          },
          "policy_changes_at": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Parameter values where optimal policy changes",
            "title": "Policy Changes At"
          },
          "robustness_score": {
            "description": "Stage robustness score (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Robustness Score",
            "type": "number"
          },
          "stage_index": {
            "description": "Stage index",
            "title": "Stage Index",
            "type": "integer"
          },
          "stage_label": {
            "description": "Stage label",
            "title": "Stage Label",
            "type": "string"
          }
        },
        "required": [
          "stage_index",
          "stage_label",
          "parameter_sensitivities",
          "robustness_score"
        ],
        "title": "StageSensitivityResult",
        "type": "object"
      },
      "StatisticalValidation": {
        "description": "Statistical validation results.",
        "properties": {
          "checks": {
            "description": "Statistical checks performed",
            "items": {
              "$ref": "#/components/schemas/ValidationCheck"
            },
            "title": "Checks",
            "type": "array"
          }
        },
        "required": [
          "checks"
        ],
        "title": "StatisticalValidation",
        "type": "object"
      },
      "StrengthDistribution": {
        "description": "Parametric uncertainty over edge effect magnitude.\n\nRepresents a Normal distribution over the causal effect strength.\nPositive mean = positive causal effect (increase in cause -> increase in effect)\nNegative mean = negative causal effect (increase in cause -> decrease in effect)",
        "example": {
          "mean": 0.5,
          "std": 0.1
        },
        "properties": {
          "mean": {
            "description": "Expected effect size (SIGNED: negative = negative effect)",
            "title": "Mean",
            "type": "number"
          },
          "std": {
            "description": "Standard deviation of effect size (must be > 0.001)",
            "exclusiveMinimum": 0.001,
            "title": "Std",
            "type": "number"
          }
        },
        "required": [
          "mean",
          "std"
        ],
        "title": "StrengthDistribution",
        "type": "object"
      },
      "StructuralModel": {
        "description": "Structural causal model specification.",
        "example": {
          "distributions": {
            "X": {
              "parameters": {
                "mean": 0,
                "std": 1
              },
              "type": "normal"
            }
          },
          "equations": {
            "Y": "10 + 2*X + 3*Z",
            "Z": "5 + 0.5*X"
          },
          "variables": [
            "X",
            "Y",
            "Z"
          ]
        },
        "properties": {
          "distributions": {
            "additionalProperties": {
              "$ref": "#/components/schemas/Distribution"
            },
            "description": "Prior distributions for exogenous variables",
            "title": "Distributions",
            "type": "object"
          },
          "equations": {
            "additionalProperties": {
              "type": "string"
            },
            "description": "Structural equations mapping variable to expression",
            "title": "Equations",
            "type": "object"
          },
          "variables": {
            "description": "List of variable names",
            "items": {
              "type": "string"
            },
            "maxItems": 50,
            "title": "Variables",
            "type": "array"
          }
        },
        "required": [
          "variables",
          "equations",
          "distributions"
        ],
        "title": "StructuralModel",
        "type": "object"
      },
      "StructuralValidation": {
        "description": "Structural validation results.",
        "properties": {
          "checks": {
            "description": "Structural checks performed",
            "items": {
              "$ref": "#/components/schemas/ValidationCheck"
            },
            "title": "Checks",
            "type": "array"
          }
        },
        "required": [
          "checks"
        ],
        "title": "StructuralValidation",
        "type": "object"
      },
      "SuggestionAction": {
        "description": "Specific action to implement a suggestion.\n\nContains the concrete graph modifications or assumptions needed.",
        "examples": [
          {
            "title": "Add Confounder",
            "value": {
              "add_edges": [
                [
                  "Competitors",
                  "Price"
                ],
                [
                  "Competitors",
                  "Revenue"
                ]
              ],
              "add_node": "Competitors"
            }
          },
          {
            "title": "Reverse Edge",
            "value": {
              "reverse_edge": [
                "A",
                "B"
              ]
            }
          }
        ],
        "properties": {
          "add_edges": {
            "anyOf": [
              {
                "items": {
                  "maxItems": 2,
                  "minItems": 2,
                  "prefixItems": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Edges to add (list of [from, to] pairs)",
            "title": "Add Edges"
          },
          "add_node": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Node to add to the graph",
            "title": "Add Node"
          },
          "assume_independence": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConditionalIndependence"
              },
              {
                "type": "null"
              }
            ],
            "description": "Conditional independence assumption to make"
          },
          "remove_edge": {
            "anyOf": [
              {
                "maxItems": 2,
                "minItems": 2,
                "prefixItems": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Edge to remove ([from, to] pair)",
            "title": "Remove Edge"
          },
          "reverse_edge": {
            "anyOf": [
              {
                "maxItems": 2,
                "minItems": 2,
                "prefixItems": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Edge to reverse ([from, to] pair)",
            "title": "Reverse Edge"
          }
        },
        "title": "SuggestionAction",
        "type": "object"
      },
      "SuggestionType": {
        "description": "Type of model suggestion.",
        "enum": [
          "add_edge",
          "remove_edge",
          "add_node",
          "restructure"
        ],
        "title": "SuggestionType",
        "type": "string"
      },
      "TeachingExample": {
        "description": "A pedagogically valuable example.",
        "properties": {
          "information_value": {
            "description": "Teaching value score",
            "title": "Information Value",
            "type": "number"
          },
          "key_insight": {
            "description": "What this teaches",
            "title": "Key Insight",
            "type": "string"
          },
          "scenario": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Scenario"
              }
            ],
            "description": "Example scenario"
          },
          "why_this_example": {
            "description": "Why this is pedagogically valuable",
            "title": "Why This Example",
            "type": "string"
          }
        },
        "required": [
          "scenario",
          "key_insight",
          "why_this_example",
          "information_value"
        ],
        "title": "TeachingExample",
        "type": "object"
      },
      "TeamAlignmentRequest": {
        "description": "Request model for team alignment endpoint.",
        "example": {
          "options": [
            {
              "attributes": {
                "quality": "medium",
                "speed": "fast"
              },
              "id": "option_a",
              "name": "Quick MVP"
            },
            {
              "attributes": {
                "quality": "high",
                "speed": "medium"
              },
              "id": "option_b",
              "name": "Polished feature"
            }
          ],
          "perspectives": [
            {
              "constraints": [
                "Limited budget"
              ],
              "preferred_options": [
                "option_a"
              ],
              "priorities": [
                "User acquisition",
                "Revenue growth"
              ],
              "role": "Product Manager"
            },
            {
              "constraints": [
                "Design system limitations"
              ],
              "preferred_options": [
                "option_b"
              ],
              "priorities": [
                "User experience",
                "Brand consistency"
              ],
              "role": "Designer"
            }
          ]
        },
        "properties": {
          "options": {
            "description": "Decision options to evaluate",
            "items": {
              "$ref": "#/components/schemas/src__models__requests__DecisionOption"
            },
            "maxItems": 50,
            "minItems": 2,
            "title": "Options",
            "type": "array"
          },
          "perspectives": {
            "description": "Team member perspectives",
            "items": {
              "$ref": "#/components/schemas/TeamPerspective"
            },
            "maxItems": 20,
            "minItems": 2,
            "title": "Perspectives",
            "type": "array"
          }
        },
        "required": [
          "perspectives",
          "options"
        ],
        "title": "TeamAlignmentRequest",
        "type": "object"
      },
      "TeamAlignmentResponse": {
        "description": "Response model for team alignment endpoint.",
        "example": {
          "aligned_options": [
            {
              "option": "option_b",
              "satisfaction_score": 85,
              "satisfies_roles": [
                "PM",
                "Designer",
                "Engineer"
              ],
              "tradeoffs": []
            }
          ],
          "common_ground": {
            "agreement_level": 72,
            "shared_constraints": [
              "Limited budget"
            ],
            "shared_goals": [
              "Deliver value to users",
              "Meet Q4 deadline"
            ]
          },
          "conflicts": [],
          "explanation": {
            "assumptions": [
              "Priorities accurate"
            ],
            "reasoning": "All roles value quality...",
            "summary": "Team can align on polished feature set",
            "technical_basis": "Overlap analysis with priority weighting"
          },
          "recommendation": {
            "confidence": "high",
            "next_steps": [
              "Define MVP scope"
            ],
            "rationale": "Balances all priorities",
            "top_option": "option_b"
          }
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "aligned_options": {
            "description": "Options with alignment scores",
            "items": {
              "$ref": "#/components/schemas/AlignedOption"
            },
            "title": "Aligned Options",
            "type": "array"
          },
          "common_ground": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CommonGround"
              }
            ],
            "description": "Shared goals and constraints"
          },
          "conflicts": {
            "description": "Identified conflicts",
            "items": {
              "$ref": "#/components/schemas/Conflict"
            },
            "title": "Conflicts",
            "type": "array"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Explanation metadata"
          },
          "recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__responses__Recommendation"
              }
            ],
            "description": "Top recommendation"
          }
        },
        "required": [
          "common_ground",
          "aligned_options",
          "conflicts",
          "recommendation",
          "explanation"
        ],
        "title": "TeamAlignmentResponse",
        "type": "object"
      },
      "TeamPerspective": {
        "description": "Individual team member's perspective.",
        "example": {
          "constraints": [
            "Limited budget",
            "Q4 deadline"
          ],
          "preferred_options": [
            "option_a",
            "option_b"
          ],
          "priorities": [
            "User acquisition",
            "Revenue growth",
            "Fast time-to-market"
          ],
          "role": "Product Manager"
        },
        "properties": {
          "constraints": {
            "description": "What limits this role",
            "items": {
              "type": "string"
            },
            "maxItems": 20,
            "title": "Constraints",
            "type": "array"
          },
          "preferred_options": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "maxItems": 50,
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred option IDs",
            "title": "Preferred Options"
          },
          "priorities": {
            "description": "What this role cares about",
            "items": {
              "type": "string"
            },
            "maxItems": 20,
            "title": "Priorities",
            "type": "array"
          },
          "role": {
            "description": "Role name (e.g., PM, Designer, Engineer)",
            "maxLength": 100,
            "minLength": 1,
            "title": "Role",
            "type": "string"
          }
        },
        "required": [
          "role",
          "priorities",
          "constraints"
        ],
        "title": "TeamPerspective",
        "type": "object"
      },
      "ThresholdIdentificationRequest": {
        "description": "Request model for threshold identification endpoint.",
        "example": {
          "baseline_ranking": [
            "opt_a",
            "opt_c",
            "opt_b"
          ],
          "confidence_threshold": 0.1,
          "parameter_sweeps": [
            {
              "parameter_id": "price",
              "parameter_label": "Product Price",
              "scores_by_value": {
                "30.0": {
                  "opt_a": 0.9,
                  "opt_b": 0.6,
                  "opt_c": 0.75
                },
                "40.0": {
                  "opt_a": 0.85,
                  "opt_b": 0.7,
                  "opt_c": 0.75
                },
                "50.0": {
                  "opt_a": 0.75,
                  "opt_b": 0.8,
                  "opt_c": 0.7
                },
                "60.0": {
                  "opt_a": 0.65,
                  "opt_b": 0.85,
                  "opt_c": 0.65
                },
                "70.0": {
                  "opt_a": 0.5,
                  "opt_b": 0.9,
                  "opt_c": 0.6
                }
              },
              "values": [
                30.0,
                40.0,
                50.0,
                60.0,
                70.0
              ]
            }
          ],
          "request_id": "req_threshold_abc123"
        },
        "properties": {
          "baseline_ranking": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional baseline ranking (option_ids in rank order). If not provided, uses ranking at first parameter value.",
            "title": "Baseline Ranking"
          },
          "confidence_threshold": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": 0.1,
            "description": "Minimum score difference to consider ranking change meaningful",
            "title": "Confidence Threshold"
          },
          "parameter_sweeps": {
            "description": "Parameter sweeps with scores at different values",
            "items": {
              "$ref": "#/components/schemas/ParameterSweep"
            },
            "maxItems": 20,
            "minItems": 1,
            "title": "Parameter Sweeps",
            "type": "array"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional request ID for tracing",
            "title": "Request Id"
          }
        },
        "required": [
          "parameter_sweeps"
        ],
        "title": "ThresholdIdentificationRequest",
        "type": "object"
      },
      "ThresholdIdentificationResponse": {
        "description": "Response model for threshold identification endpoint.",
        "example": {
          "metadata": {
            "algorithm": "sequential_ranking_comparison",
            "cache_hit": false,
            "computation_time_ms": 3.5,
            "isl_version": "2.0",
            "request_id": "req_threshold_abc123"
          },
          "monotonic_parameters": [
            "marketing_spend"
          ],
          "sensitivity_ranking": [
            {
              "changes_count": 2,
              "most_sensitive_range": [
                45.0,
                65.0
              ],
              "parameter_id": "price",
              "parameter_label": "Product Price",
              "sensitivity_score": 1.0
            },
            {
              "changes_count": 0,
              "parameter_id": "marketing_spend",
              "parameter_label": "Marketing Spend",
              "sensitivity_score": 0.0
            }
          ],
          "thresholds": [
            {
              "options_affected": [
                "opt_a",
                "opt_b"
              ],
              "parameter_id": "price",
              "parameter_label": "Product Price",
              "ranking_after": [
                "opt_b",
                "opt_a",
                "opt_c"
              ],
              "ranking_before": [
                "opt_a",
                "opt_c",
                "opt_b"
              ],
              "score_gap": 0.05,
              "threshold_value": 50.0
            },
            {
              "options_affected": [
                "opt_a",
                "opt_c"
              ],
              "parameter_id": "price",
              "parameter_label": "Product Price",
              "ranking_after": [
                "opt_b",
                "opt_c",
                "opt_a"
              ],
              "ranking_before": [
                "opt_b",
                "opt_a",
                "opt_c"
              ],
              "score_gap": 0.02,
              "threshold_value": 60.0
            }
          ],
          "total_thresholds": 2
        },
        "properties": {
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "monotonic_parameters": {
            "description": "Parameter IDs with no ranking changes (monotonic)",
            "items": {
              "type": "string"
            },
            "title": "Monotonic Parameters",
            "type": "array"
          },
          "sensitivity_ranking": {
            "description": "Parameters ranked by sensitivity (most sensitive first)",
            "items": {
              "$ref": "#/components/schemas/ParameterSensitivity"
            },
            "title": "Sensitivity Ranking",
            "type": "array"
          },
          "thresholds": {
            "description": "Ranking thresholds across all parameters (sorted by parameter, then value)",
            "items": {
              "$ref": "#/components/schemas/RankingThreshold"
            },
            "title": "Thresholds",
            "type": "array"
          },
          "total_thresholds": {
            "description": "Total number of thresholds found across all parameters",
            "minimum": 0.0,
            "title": "Total Thresholds",
            "type": "integer"
          }
        },
        "required": [
          "thresholds",
          "sensitivity_ranking",
          "total_thresholds",
          "monotonic_parameters"
        ],
        "title": "ThresholdIdentificationResponse",
        "type": "object"
      },
      "TradeOff": {
        "description": "Trade-off between two options.",
        "example": {
          "a_better_on": [
            "revenue",
            "timeline"
          ],
          "b_better_on": [
            "risk"
          ],
          "max_difference": 0.45,
          "option_a_id": "opt_a",
          "option_a_label": "Option A: Aggressive Growth",
          "option_b_id": "opt_b",
          "option_b_label": "Option B: Conservative Growth"
        },
        "properties": {
          "a_better_on": {
            "description": "Criterion IDs where option A scores higher",
            "items": {
              "type": "string"
            },
            "title": "A Better On",
            "type": "array"
          },
          "b_better_on": {
            "description": "Criterion IDs where option B scores higher",
            "items": {
              "type": "string"
            },
            "title": "B Better On",
            "type": "array"
          },
          "max_difference": {
            "description": "Largest score gap across criteria",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Max Difference",
            "type": "number"
          },
          "option_a_id": {
            "description": "First option ID",
            "title": "Option A Id",
            "type": "string"
          },
          "option_a_label": {
            "description": "First option label",
            "title": "Option A Label",
            "type": "string"
          },
          "option_b_id": {
            "description": "Second option ID",
            "title": "Option B Id",
            "type": "string"
          },
          "option_b_label": {
            "description": "Second option label",
            "title": "Option B Label",
            "type": "string"
          }
        },
        "required": [
          "option_a_id",
          "option_a_label",
          "option_b_id",
          "option_b_label",
          "a_better_on",
          "b_better_on",
          "max_difference"
        ],
        "title": "TradeOff",
        "type": "object"
      },
      "Tradeoff": {
        "description": "A tradeoff for a specific role.",
        "properties": {
          "gets": {
            "description": "What this role gains",
            "title": "Gets",
            "type": "string"
          },
          "gives": {
            "description": "What this role compromises on",
            "title": "Gives",
            "type": "string"
          },
          "role": {
            "description": "Role making the tradeoff",
            "title": "Role",
            "type": "string"
          }
        },
        "required": [
          "role",
          "gives",
          "gets"
        ],
        "title": "Tradeoff",
        "type": "object"
      },
      "TransportAssumption": {
        "description": "Individual assumption required for transportability.\n\nDocuments what must hold for causal effects to transport\nfrom source domain to target domain.",
        "example": {
          "critical": true,
          "description": "The causal mechanism Price\u2192Revenue is the same in both UK and Germany",
          "testable": false,
          "type": "same_mechanism"
        },
        "properties": {
          "critical": {
            "description": "Whether this assumption is critical for transportability",
            "title": "Critical",
            "type": "boolean"
          },
          "description": {
            "description": "Human-readable explanation of the assumption",
            "title": "Description",
            "type": "string"
          },
          "testable": {
            "description": "Whether this assumption can be empirically tested",
            "title": "Testable",
            "type": "boolean"
          },
          "type": {
            "description": "Assumption type (e.g., 'same_mechanism', 'no_selection_bias', 'common_support')",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "description",
          "critical",
          "testable"
        ],
        "title": "TransportAssumption",
        "type": "object"
      },
      "TransportabilityRequest": {
        "description": "Request model for transportability analysis.",
        "example": {
          "outcome": "Revenue",
          "selection_variables": [
            "Brand"
          ],
          "source_domain": {
            "dag": {
              "edges": [
                [
                  "Price",
                  "Revenue"
                ],
                [
                  "Brand",
                  "Price"
                ],
                [
                  "Brand",
                  "Revenue"
                ]
              ],
              "nodes": [
                "Price",
                "Brand",
                "Revenue"
              ]
            },
            "name": "UK Market"
          },
          "target_domain": {
            "dag": {
              "edges": [
                [
                  "Price",
                  "Revenue"
                ],
                [
                  "Brand",
                  "Price"
                ],
                [
                  "Brand",
                  "Revenue"
                ]
              ],
              "nodes": [
                "Price",
                "Brand",
                "Revenue"
              ]
            },
            "name": "EU Market"
          },
          "treatment": "Price"
        },
        "properties": {
          "outcome": {
            "description": "Outcome variable",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "type": "string"
          },
          "selection_variables": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "maxItems": 20,
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Variables affected by domain selection (if known)",
            "title": "Selection Variables"
          },
          "source_domain": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DomainSpec"
              }
            ],
            "description": "Source domain (where effect is identified)"
          },
          "target_domain": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DomainSpec"
              }
            ],
            "description": "Target domain (where effect is transported)"
          },
          "treatment": {
            "description": "Treatment variable",
            "maxLength": 100,
            "minLength": 1,
            "title": "Treatment",
            "type": "string"
          }
        },
        "required": [
          "source_domain",
          "target_domain",
          "treatment",
          "outcome"
        ],
        "title": "TransportabilityRequest",
        "type": "object"
      },
      "TransportabilityResponse": {
        "description": "Response model for transportability analysis endpoint.\n\nIndicates whether causal effects identified in source domain\ncan be transported to target domain, along with required\nassumptions and robustness assessment.",
        "examples": [
          {
            "title": "Transportable Effect",
            "value": {
              "confidence": "medium",
              "explanation": {
                "assumptions": [
                  "Same causal mechanism",
                  "Measured selection variables"
                ],
                "reasoning": "Selection diagram shows effect is transportable via re-weighting by domain-specific covariates",
                "summary": "Effect can be transported by adjusting for domain selection",
                "technical_basis": "Y\u2080 transportability algorithm with selection nodes"
              },
              "formula": "P_target(revenue|do(price)) = \u03a3_S P_source(revenue|price,S) P_target(S)",
              "method": "selection_diagram",
              "required_assumptions": [
                {
                  "critical": true,
                  "description": "Price\u2192Revenue mechanism identical in UK and Germany",
                  "testable": false,
                  "type": "same_mechanism"
                },
                {
                  "critical": true,
                  "description": "Selection into domains doesn't affect mechanism",
                  "testable": true,
                  "type": "no_selection_bias"
                }
              ],
              "robustness": "moderate",
              "transportable": true
            }
          },
          {
            "title": "Non-Transportable Effect",
            "value": {
              "confidence": "high",
              "explanation": {
                "assumptions": [
                  "DAG structure correct",
                  "Selection variables complete"
                ],
                "reasoning": "Regulatory differences between UK and Germany alter Price\u2192Revenue mechanism",
                "summary": "Effect cannot be transported due to mechanism differences",
                "technical_basis": "Y\u2080 transportability algorithm - no valid transport formula found"
              },
              "reason": "different_mechanisms",
              "robustness": "fragile",
              "suggestions": [
                "Collect data on market structure differences",
                "Test if price elasticity differs between domains",
                "Consider stratified analysis by market segment"
              ],
              "transportable": false
            }
          }
        ],
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in transportability assessment"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "formula": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Transport formula if transportable",
            "title": "Formula"
          },
          "method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Transportability method used (e.g., 'selection_diagram', 'weighting', 'direct')",
            "title": "Method"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reason if not transportable",
            "title": "Reason"
          },
          "required_assumptions": {
            "description": "Assumptions required for valid transport",
            "items": {
              "$ref": "#/components/schemas/TransportAssumption"
            },
            "title": "Required Assumptions",
            "type": "array"
          },
          "robustness": {
            "description": "Robustness assessment: robust, moderate, fragile",
            "title": "Robustness",
            "type": "string"
          },
          "suggestions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Suggestions if not transportable",
            "title": "Suggestions"
          },
          "transportable": {
            "description": "Whether the causal effect can be transported",
            "title": "Transportable",
            "type": "boolean"
          }
        },
        "required": [
          "transportable",
          "robustness",
          "confidence",
          "explanation"
        ],
        "title": "TransportabilityResponse",
        "type": "object"
      },
      "UncertaintyBreakdown": {
        "description": "Breakdown of uncertainty sources.",
        "properties": {
          "overall": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UncertaintyLevel"
              }
            ],
            "description": "Overall uncertainty level"
          },
          "sources": {
            "description": "Individual uncertainty sources",
            "items": {
              "$ref": "#/components/schemas/UncertaintySource"
            },
            "title": "Sources",
            "type": "array"
          }
        },
        "required": [
          "overall",
          "sources"
        ],
        "title": "UncertaintyBreakdown",
        "type": "object"
      },
      "UncertaintyLevel": {
        "description": "Overall uncertainty level.",
        "enum": [
          "low",
          "medium",
          "high"
        ],
        "title": "UncertaintyLevel",
        "type": "string"
      },
      "UncertaintySource": {
        "description": "Source of uncertainty in the analysis.",
        "example": {
          "basis": "Historical data from 3 previous price changes",
          "confidence": "medium",
          "explanation": "Brand changes take 2-4 weeks to affect revenue",
          "factor": "Brand perception lag",
          "impact": 3000
        },
        "properties": {
          "basis": {
            "description": "Evidence source for this factor",
            "title": "Basis",
            "type": "string"
          },
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in this estimate"
          },
          "explanation": {
            "description": "Plain English explanation",
            "title": "Explanation",
            "type": "string"
          },
          "factor": {
            "description": "Name of uncertainty factor",
            "title": "Factor",
            "type": "string"
          },
          "impact": {
            "description": "Contribution to variance",
            "title": "Impact",
            "type": "number"
          }
        },
        "required": [
          "factor",
          "impact",
          "confidence",
          "explanation",
          "basis"
        ],
        "title": "UncertaintySource",
        "type": "object"
      },
      "UserBeliefModel": {
        "description": "Bayesian model of user preferences and beliefs.",
        "example": {
          "risk_tolerance": {
            "parameters": {
              "alpha": 2,
              "beta": 2
            },
            "type": "beta"
          },
          "time_horizon": {
            "parameters": {
              "mean": 12,
              "std": 3
            },
            "type": "normal"
          },
          "uncertainty_estimates": {
            "churn_weight": 0.4,
            "revenue_weight": 0.3
          },
          "value_weights": {
            "churn": {
              "parameters": {
                "mean": 0.4,
                "std": 0.2
              },
              "type": "normal"
            },
            "revenue": {
              "parameters": {
                "mean": 0.6,
                "std": 0.2
              },
              "type": "normal"
            }
          }
        },
        "properties": {
          "risk_tolerance": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Distribution"
              }
            ],
            "description": "Risk aversion parameter distribution"
          },
          "time_horizon": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Distribution"
              }
            ],
            "description": "Short-term vs long-term focus distribution"
          },
          "uncertainty_estimates": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Confidence in each belief (0-1)",
            "title": "Uncertainty Estimates",
            "type": "object"
          },
          "value_weights": {
            "additionalProperties": {
              "$ref": "#/components/schemas/Distribution"
            },
            "description": "Probability distributions over value weights",
            "title": "Value Weights",
            "type": "object"
          }
        },
        "required": [
          "value_weights",
          "risk_tolerance",
          "time_horizon",
          "uncertainty_estimates"
        ],
        "title": "UserBeliefModel",
        "type": "object"
      },
      "UtilityDistribution": {
        "description": "Distribution of utility values at percentiles.",
        "example": {
          "p25": 92000.0,
          "p5": 85000.0,
          "p50": 100000.0,
          "p75": 108000.0,
          "p95": 115000.0
        },
        "properties": {
          "p25": {
            "description": "25th percentile",
            "title": "P25",
            "type": "number"
          },
          "p5": {
            "description": "5th percentile",
            "title": "P5",
            "type": "number"
          },
          "p50": {
            "description": "50th percentile (median)",
            "title": "P50",
            "type": "number"
          },
          "p75": {
            "description": "75th percentile",
            "title": "P75",
            "type": "number"
          },
          "p95": {
            "description": "95th percentile",
            "title": "P95",
            "type": "number"
          }
        },
        "required": [
          "p5",
          "p25",
          "p50",
          "p75",
          "p95"
        ],
        "title": "UtilityDistribution",
        "type": "object"
      },
      "UtilityFunctionSpec": {
        "description": "Complete utility function specification.",
        "example": {
          "aggregation_method": "weighted_sum",
          "goals": [
            {
              "goal_id": "revenue",
              "label": "Revenue",
              "weight": 0.6
            },
            {
              "direction": "minimize",
              "goal_id": "cost",
              "label": "Cost",
              "weight": 0.4
            }
          ],
          "risk_tolerance": "risk_neutral"
        },
        "properties": {
          "aggregation_method": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AggregationMethod"
              }
            ],
            "default": "weighted_sum",
            "description": "Method for aggregating goal values"
          },
          "goals": {
            "description": "List of goals to aggregate",
            "items": {
              "$ref": "#/components/schemas/GoalSpecification"
            },
            "maxItems": 20,
            "minItems": 1,
            "title": "Goals",
            "type": "array"
          },
          "risk_coefficient": {
            "anyOf": [
              {
                "maximum": 10.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Risk aversion coefficient (for risk_averse: higher = more averse)",
            "title": "Risk Coefficient"
          },
          "risk_tolerance": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RiskTolerance"
              }
            ],
            "default": "risk_neutral",
            "description": "Risk tolerance for utility computation"
          }
        },
        "required": [
          "goals"
        ],
        "title": "UtilityFunctionSpec",
        "type": "object"
      },
      "UtilitySpecification": {
        "description": "Specification of utility function for ranking options.",
        "example": {
          "additional_goals": [
            "customer_satisfaction"
          ],
          "goal_node_id": "revenue",
          "maximize": true,
          "weights": {
            "customer_satisfaction": 0.3,
            "revenue": 0.7
          }
        },
        "properties": {
          "additional_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional goal node IDs for multi-goal analysis",
            "title": "Additional Goals"
          },
          "goal_node_id": {
            "description": "Node ID representing the primary goal/outcome",
            "title": "Goal Node Id",
            "type": "string"
          },
          "maximize": {
            "default": true,
            "description": "Whether to maximize (True) or minimize (False) the goal",
            "title": "Maximize",
            "type": "boolean"
          },
          "weights": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Weights for multiple goals (must sum to 1.0)",
            "title": "Weights"
          }
        },
        "required": [
          "goal_node_id"
        ],
        "title": "UtilitySpecification",
        "type": "object"
      },
      "UtilityValidationRequest": {
        "description": "Request model for utility function validation endpoint.",
        "example": {
          "strict_mode": false,
          "utility_spec": {
            "aggregation_method": "weighted_sum",
            "goals": [
              {
                "goal_id": "revenue",
                "label": "Revenue",
                "weight": 0.6
              },
              {
                "direction": "minimize",
                "goal_id": "cost",
                "label": "Cost",
                "weight": 0.4
              }
            ],
            "risk_tolerance": "risk_neutral"
          }
        },
        "properties": {
          "graph": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional graph to validate goal references against"
          },
          "strict_mode": {
            "default": false,
            "description": "If true, require all weights to be specified",
            "title": "Strict Mode",
            "type": "boolean"
          },
          "utility_spec": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UtilityFunctionSpec"
              }
            ],
            "description": "Utility function specification to validate"
          }
        },
        "required": [
          "utility_spec"
        ],
        "title": "UtilityValidationRequest",
        "type": "object"
      },
      "UtilityValidationResponse": {
        "description": "Response model for utility function validation endpoint.",
        "example": {
          "aggregation_method": "weighted_sum",
          "default_behaviour_applied": [],
          "normalised_goals": [
            {
              "direction": "maximize",
              "goal_id": "revenue",
              "label": "Revenue",
              "normalised_weight": 0.6
            }
          ],
          "normalised_weights": {
            "cost": 0.4,
            "revenue": 0.6
          },
          "risk_tolerance": "risk_neutral",
          "schema_version": "utility.v1",
          "valid": true,
          "warnings": []
        },
        "properties": {
          "aggregation_method": {
            "description": "Aggregation method to be used",
            "title": "Aggregation Method",
            "type": "string"
          },
          "default_behaviour_applied": {
            "description": "List of default behaviours that were applied",
            "items": {
              "type": "string"
            },
            "title": "Default Behaviour Applied",
            "type": "array"
          },
          "errors": {
            "description": "Validation errors (if valid=false)",
            "items": {
              "type": "string"
            },
            "title": "Errors",
            "type": "array"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "normalised_goals": {
            "description": "Full normalised goal specifications",
            "items": {
              "$ref": "#/components/schemas/NormalisedGoal"
            },
            "title": "Normalised Goals",
            "type": "array"
          },
          "normalised_weights": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Normalized weights by goal ID (sum to 1.0)",
            "title": "Normalised Weights",
            "type": "object"
          },
          "risk_tolerance": {
            "description": "Risk tolerance setting",
            "title": "Risk Tolerance",
            "type": "string"
          },
          "schema_version": {
            "default": "utility.v1",
            "description": "Schema version",
            "title": "Schema Version",
            "type": "string"
          },
          "valid": {
            "description": "Whether the utility specification is valid",
            "title": "Valid",
            "type": "boolean"
          },
          "warnings": {
            "description": "Validation warnings",
            "items": {
              "$ref": "#/components/schemas/UtilityValidationWarning"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "valid",
          "normalised_weights",
          "normalised_goals",
          "aggregation_method",
          "risk_tolerance"
        ],
        "title": "UtilityValidationResponse",
        "type": "object"
      },
      "UtilityValidationWarning": {
        "description": "Warning from utility validation.",
        "example": {
          "affected_goals": [
            "revenue",
            "cost",
            "quality"
          ],
          "code": "WEIGHTS_NORMALIZED",
          "message": "Weights normalized from sum=1.5 to sum=1.0"
        },
        "properties": {
          "affected_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "List of goal IDs affected",
            "title": "Affected Goals"
          },
          "code": {
            "description": "Warning code",
            "title": "Code",
            "type": "string"
          },
          "message": {
            "description": "Human-readable warning message",
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "code",
          "message"
        ],
        "title": "UtilityValidationWarning",
        "type": "object"
      },
      "ValidatedCorrelationGroup": {
        "description": "Validated correlation group with additional metadata.",
        "example": {
          "correlation": 0.7,
          "factors": [
            "demand",
            "competition"
          ],
          "group_id": "market_conditions",
          "is_valid": true,
          "issues": []
        },
        "properties": {
          "correlation": {
            "description": "Correlation coefficient",
            "title": "Correlation",
            "type": "number"
          },
          "factors": {
            "description": "Factor IDs in the group",
            "items": {
              "type": "string"
            },
            "title": "Factors",
            "type": "array"
          },
          "group_id": {
            "description": "Group identifier",
            "title": "Group Id",
            "type": "string"
          },
          "is_valid": {
            "description": "Whether this group specification is valid",
            "title": "Is Valid",
            "type": "boolean"
          },
          "issues": {
            "description": "Issues with this group",
            "items": {
              "type": "string"
            },
            "title": "Issues",
            "type": "array"
          }
        },
        "required": [
          "group_id",
          "factors",
          "correlation",
          "is_valid"
        ],
        "title": "ValidatedCorrelationGroup",
        "type": "object"
      },
      "ValidationCheck": {
        "description": "A single validation check result.",
        "properties": {
          "description": {
            "description": "Check result description",
            "title": "Description",
            "type": "string"
          },
          "name": {
            "description": "Check name",
            "title": "Name",
            "type": "string"
          },
          "recommendation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Recommendation if check failed",
            "title": "Recommendation"
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__phase1_models__ValidationStatus"
              }
            ],
            "description": "Check status"
          }
        },
        "required": [
          "name",
          "status",
          "description"
        ],
        "title": "ValidationCheck",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      },
      "ValidationImprovement": {
        "description": "Single model improvement suggestion.",
        "example": {
          "description": "Gather historical adoption data from 3-5 comparable product launches to calibrate adoption rate assumptions",
          "priority": "high",
          "type": "data_collection"
        },
        "properties": {
          "description": {
            "description": "What to do",
            "maxLength": 1000,
            "title": "Description",
            "type": "string"
          },
          "priority": {
            "description": "Implementation priority",
            "pattern": "^(high|medium|low)$",
            "title": "Priority",
            "type": "string"
          },
          "type": {
            "description": "Category (e.g., data_collection, model_structure, sensitivity_test)",
            "maxLength": 100,
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "description",
          "priority"
        ],
        "title": "ValidationImprovement",
        "type": "object"
      },
      "ValidationIssue": {
        "description": "Issue identified during causal validation.",
        "example": {
          "affected_nodes": [
            "CustomerAcquisition",
            "Price",
            "Revenue"
          ],
          "description": "CustomerAcquisition may confound the Price-Revenue relationship",
          "suggested_action": "Clarify: Does CustomerAcquisition affect Price?",
          "type": "missing_connection"
        },
        "properties": {
          "affected_nodes": {
            "description": "Nodes affected by this issue",
            "items": {
              "type": "string"
            },
            "title": "Affected Nodes",
            "type": "array"
          },
          "description": {
            "description": "Description of the issue",
            "title": "Description",
            "type": "string"
          },
          "suggested_action": {
            "description": "How to resolve the issue",
            "title": "Suggested Action",
            "type": "string"
          },
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ValidationIssueType"
              }
            ],
            "description": "Type of validation issue"
          }
        },
        "required": [
          "type",
          "description",
          "affected_nodes",
          "suggested_action"
        ],
        "title": "ValidationIssue",
        "type": "object"
      },
      "ValidationIssueType": {
        "description": "Type of validation issue.",
        "enum": [
          "missing_connection",
          "confounding",
          "ambiguous_relationship"
        ],
        "title": "ValidationIssueType",
        "type": "string"
      },
      "ValidationLevel": {
        "description": "Level of validation to perform.",
        "enum": [
          "basic",
          "standard",
          "comprehensive"
        ],
        "title": "ValidationLevel",
        "type": "string"
      },
      "ValidationResults": {
        "description": "All validation results.",
        "properties": {
          "domain": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DomainValidation"
              }
            ],
            "description": "Domain validation"
          },
          "statistical": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StatisticalValidation"
              }
            ],
            "description": "Statistical validation"
          },
          "structural": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralValidation"
              }
            ],
            "description": "Structural validation"
          }
        },
        "required": [
          "structural",
          "statistical",
          "domain"
        ],
        "title": "ValidationResults",
        "type": "object"
      },
      "ValidationStrategiesRequest": {
        "description": "Request model for validation strategies endpoint.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "n_decision",
                "to": "n_outcome",
                "weight": 1.5
              }
            ],
            "nodes": [
              {
                "id": "n_decision",
                "kind": "decision",
                "label": "Strategic Decision"
              },
              {
                "id": "n_outcome",
                "kind": "outcome",
                "label": "Business Outcome"
              }
            ]
          },
          "timeout": 12000
        },
        "properties": {
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph structure"
          },
          "timeout": {
            "anyOf": [
              {
                "maximum": 30000.0,
                "minimum": 1000.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 12000,
            "description": "Request timeout in milliseconds",
            "title": "Timeout"
          }
        },
        "required": [
          "graph"
        ],
        "title": "ValidationStrategiesRequest",
        "type": "object"
      },
      "ValidationStrategiesResponse": {
        "description": "Response model for validation strategies.",
        "example": {
          "suggested_improvements": [
            {
              "description": "Gather historical adoption data from 3-5 comparable product launches to calibrate adoption rate assumptions",
              "priority": "high",
              "type": "data_collection"
            },
            {
              "description": "Add explicit node for competitor response to capture strategic interaction effects",
              "priority": "medium",
              "type": "model_structure"
            },
            {
              "description": "Test model robustness by varying market size estimate \u00b120%",
              "priority": "low",
              "type": "sensitivity_test"
            }
          ]
        },
        "properties": {
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Request metadata for tracing and monitoring"
          },
          "suggested_improvements": {
            "description": "List of suggested model improvements",
            "items": {
              "$ref": "#/components/schemas/ValidationImprovement"
            },
            "title": "Suggested Improvements",
            "type": "array"
          }
        },
        "required": [
          "suggested_improvements"
        ],
        "title": "ValidationStrategiesResponse",
        "type": "object"
      },
      "ValidationStrategyRequest": {
        "description": "Request model for enhanced Y\u2080 validation strategies.\n\nProvides complete adjustment strategies for non-identifiable DAGs.",
        "example": {
          "dag": {
            "edges": [
              [
                "Price",
                "Revenue"
              ],
              [
                "Competitors",
                "Revenue"
              ]
            ],
            "nodes": [
              "Price",
              "Competitors",
              "Revenue"
            ]
          },
          "outcome": "Revenue",
          "treatment": "Price"
        },
        "properties": {
          "dag": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DAGStructure"
              }
            ],
            "description": "Directed acyclic graph structure"
          },
          "outcome": {
            "description": "Outcome variable name",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "type": "string"
          },
          "treatment": {
            "description": "Treatment variable name",
            "maxLength": 100,
            "minLength": 1,
            "title": "Treatment",
            "type": "string"
          }
        },
        "required": [
          "dag",
          "treatment",
          "outcome"
        ],
        "title": "ValidationStrategyRequest",
        "type": "object"
      },
      "ValidationStrategyResponse": {
        "description": "Response model for enhanced validation strategies.\n\nProvides complete adjustment strategies and path analysis.",
        "example": {
          "explanation": {
            "assumptions": [
              "DAG structure is correct"
            ],
            "reasoning": "Competitors creates a backdoor path between Price and Revenue",
            "summary": "Effect is identifiable by controlling for Competitors",
            "technical_basis": "Backdoor path analysis and adjustment set identification"
          },
          "path_analysis": {
            "backdoor_paths": [
              [
                "Price",
                "Competitors",
                "Revenue"
              ]
            ],
            "blocked_paths": [],
            "critical_nodes": [
              "Competitors"
            ],
            "frontdoor_paths": [
              [
                "Price",
                "Revenue"
              ]
            ]
          },
          "strategies": [
            {
              "edges_to_add": [],
              "expected_identifiability": 0.9,
              "explanation": "Control for existing variable Competitors to block backdoor paths",
              "nodes_to_add": [],
              "strategy_type": "backdoor",
              "theoretical_basis": "Pearl's backdoor criterion"
            }
          ]
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Plain English explanation"
          },
          "path_analysis": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PathAnalysisDetail"
              }
            ],
            "description": "Comprehensive path analysis"
          },
          "strategies": {
            "description": "Adjustment strategies ranked by expected success",
            "items": {
              "$ref": "#/components/schemas/AdjustmentStrategyDetail"
            },
            "title": "Strategies",
            "type": "array"
          }
        },
        "required": [
          "strategies",
          "path_analysis",
          "explanation"
        ],
        "title": "ValidationStrategyResponse",
        "type": "object"
      },
      "ValidationSuggestion": {
        "description": "Actionable suggestion for making a non-identifiable DAG identifiable.\n\nProvides specific, algorithmic guidance on how to modify the causal graph\nor make additional assumptions to achieve identification.",
        "examples": [
          {
            "title": "Add Confounder",
            "value": {
              "action": {
                "add_edges": [
                  [
                    "Competitors",
                    "Price"
                  ],
                  [
                    "Competitors",
                    "Revenue"
                  ]
                ],
                "add_node": "Competitors"
              },
              "description": "Measure competitor activity to control confounding",
              "priority": "critical",
              "technical_detail": "Add Competitors node to block backdoor path: Price \u2190 Competitors \u2192 Revenue",
              "type": "add_confounder"
            }
          },
          {
            "title": "Add Mediator",
            "value": {
              "action": {
                "add_edges": [
                  [
                    "Price",
                    "CustomerSentiment"
                  ],
                  [
                    "CustomerSentiment",
                    "Revenue"
                  ]
                ],
                "add_node": "CustomerSentiment"
              },
              "description": "Add CustomerSentiment to model the causal mechanism",
              "priority": "recommended",
              "technical_detail": "Replace Price\u2192Revenue with Price\u2192CustomerSentiment\u2192Revenue",
              "type": "add_mediator"
            }
          }
        ],
        "properties": {
          "action": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SuggestionAction"
              }
            ],
            "description": "Specific action to take"
          },
          "description": {
            "description": "Plain English description of the suggestion",
            "title": "Description",
            "type": "string"
          },
          "priority": {
            "description": "Priority level: critical, recommended, optional",
            "title": "Priority",
            "type": "string"
          },
          "technical_detail": {
            "description": "Precise causal graph operation or assumption",
            "title": "Technical Detail",
            "type": "string"
          },
          "type": {
            "description": "Suggestion type: add_mediator, add_confounder, reverse_edge, add_conditional_independence, remove_edge",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "description",
          "technical_detail",
          "priority",
          "action"
        ],
        "title": "ValidationSuggestion",
        "type": "object"
      },
      "ValidationWarning": {
        "description": "Warning about validation actions taken.",
        "example": {
          "affected_items": [
            "revenue",
            "risk"
          ],
          "code": "WEIGHTS_NORMALIZED",
          "message": "Weights normalized from sum=0.95 to sum=1.0"
        },
        "properties": {
          "affected_items": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "IDs of affected items (options, criteria, etc.)",
            "title": "Affected Items"
          },
          "code": {
            "description": "Warning code",
            "pattern": "^(WEIGHTS_NORMALIZED|OPTION_MISMATCH|SCORE_CLAMPED|MISSING_CRITERION)$",
            "title": "Code",
            "type": "string"
          },
          "message": {
            "description": "Human-readable warning message",
            "maxLength": 500,
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "code",
          "message"
        ],
        "title": "ValidationWarning",
        "type": "object"
      },
      "ValueOfInformation": {
        "description": "Value of information analysis for a parameter.",
        "example": {
          "current_uncertainty": 0.25,
          "data_collection_suggestion": "Survey 50 customers about retention factors",
          "evpi": 15000.0,
          "evsi": 8500.0,
          "parameter_id": "churn_rate",
          "parameter_label": "Customer Churn Rate",
          "recommendation": "High value - consider gathering data"
        },
        "properties": {
          "current_uncertainty": {
            "description": "Current variance/entropy of parameter",
            "title": "Current Uncertainty",
            "type": "number"
          },
          "data_collection_suggestion": {
            "description": "Actionable suggestion for gathering data",
            "title": "Data Collection Suggestion",
            "type": "string"
          },
          "evpi": {
            "description": "Expected Value of Perfect Information",
            "title": "Evpi",
            "type": "number"
          },
          "evsi": {
            "description": "Expected Value of Sample Information",
            "title": "Evsi",
            "type": "number"
          },
          "parameter_id": {
            "description": "Parameter identifier",
            "title": "Parameter Id",
            "type": "string"
          },
          "parameter_label": {
            "description": "Human-readable parameter name",
            "title": "Parameter Label",
            "type": "string"
          },
          "recommendation": {
            "description": "Recommendation based on VoI analysis",
            "title": "Recommendation",
            "type": "string"
          }
        },
        "required": [
          "parameter_id",
          "parameter_label",
          "evpi",
          "evsi",
          "current_uncertainty",
          "recommendation",
          "data_collection_suggestion"
        ],
        "title": "ValueOfInformation",
        "type": "object"
      },
      "src__api__batch__BatchCounterfactualRequest": {
        "description": "Batch counterfactual analysis request.",
        "properties": {
          "requests": {
            "description": "List of counterfactual requests to process",
            "items": {
              "$ref": "#/components/schemas/CounterfactualRequest"
            },
            "maxItems": 20,
            "minItems": 1,
            "title": "Requests",
            "type": "array"
          }
        },
        "required": [
          "requests"
        ],
        "title": "BatchCounterfactualRequest",
        "type": "object"
      },
      "src__api__batch__BatchCounterfactualResponse": {
        "description": "Batch counterfactual analysis response.",
        "properties": {
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          },
          "results": {
            "description": "Results for each request",
            "items": {
              "$ref": "#/components/schemas/BatchCounterfactualItem"
            },
            "title": "Results",
            "type": "array"
          },
          "summary": {
            "description": "Batch processing summary",
            "title": "Summary",
            "type": "object"
          }
        },
        "required": [
          "results",
          "summary"
        ],
        "title": "BatchCounterfactualResponse",
        "type": "object"
      },
      "src__models__decision_robustness__DecisionOption": {
        "description": "A decision option to evaluate.",
        "example": {
          "id": "option_a",
          "interventions": {
            "marketing_spend": 100000,
            "price": 49.99
          },
          "is_baseline": false,
          "label": "Aggressive Marketing"
        },
        "properties": {
          "id": {
            "description": "Unique option identifier",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "type": "string"
          },
          "interventions": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Intervention values for this option (node_id \u2192 value)",
            "title": "Interventions",
            "type": "object"
          },
          "is_baseline": {
            "default": false,
            "description": "Whether this is the baseline/status quo option",
            "title": "Is Baseline",
            "type": "boolean"
          },
          "label": {
            "description": "Human-readable option name",
            "maxLength": 200,
            "minLength": 1,
            "title": "Label",
            "type": "string"
          }
        },
        "required": [
          "id",
          "label",
          "interventions"
        ],
        "title": "DecisionOption",
        "type": "object"
      },
      "src__models__decision_robustness__RankedOption": {
        "description": "A decision option with its ranking and utility metrics.",
        "example": {
          "expected_utility": 150000.0,
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "rank": 1,
          "utility_distribution": {
            "p25": 135000.0,
            "p5": 120000.0,
            "p50": 150000.0,
            "p75": 165000.0,
            "p95": 180000.0
          },
          "vs_baseline": 25000.0,
          "vs_baseline_pct": 20.0
        },
        "properties": {
          "expected_utility": {
            "description": "Expected utility value",
            "title": "Expected Utility",
            "type": "number"
          },
          "option_id": {
            "description": "Unique option identifier",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Human-readable option name",
            "title": "Option Label",
            "type": "string"
          },
          "rank": {
            "description": "Rank (1 = best)",
            "minimum": 1.0,
            "title": "Rank",
            "type": "integer"
          },
          "utility_distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UtilityDistribution"
              }
            ],
            "description": "Distribution of utility values"
          },
          "vs_baseline": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Absolute difference vs baseline option",
            "title": "Vs Baseline"
          },
          "vs_baseline_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Percentage difference vs baseline option",
            "title": "Vs Baseline Pct"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "expected_utility",
          "utility_distribution",
          "rank"
        ],
        "title": "RankedOption",
        "type": "object"
      },
      "src__models__decision_robustness__Recommendation-Output": {
        "description": "Top recommendation from the analysis.",
        "example": {
          "confidence": "high",
          "option_id": "option_a",
          "option_label": "Aggressive Marketing",
          "recommendation_status": "actionable"
        },
        "properties": {
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevelEnum"
              }
            ],
            "description": "Confidence in recommendation"
          },
          "option_id": {
            "description": "Recommended option ID",
            "title": "Option Id",
            "type": "string"
          },
          "option_label": {
            "description": "Recommended option label",
            "title": "Option Label",
            "type": "string"
          },
          "recommendation_status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__decision_robustness__RecommendationStatusEnum"
              }
            ],
            "description": "Whether recommendation is actionable or exploratory"
          }
        },
        "required": [
          "option_id",
          "option_label",
          "confidence",
          "recommendation_status"
        ],
        "title": "Recommendation",
        "type": "object"
      },
      "src__models__decision_robustness__RecommendationStatusEnum": {
        "description": "Recommendation status based on identifiability and robustness.",
        "enum": [
          "actionable",
          "exploratory"
        ],
        "title": "RecommendationStatusEnum",
        "type": "string"
      },
      "src__models__decision_robustness__RobustnessRequest": {
        "description": "Request for unified robustness analysis.\n\nAccepts a graph, decision options, utility specification, and analysis options.\nReturns a comprehensive robustness analysis in a single response.",
        "example": {
          "graph": {
            "edges": [
              {
                "from": "marketing_spend",
                "to": "demand",
                "weight": 2.0
              },
              {
                "from": "price",
                "to": "demand",
                "weight": -1.5
              },
              {
                "from": "demand",
                "to": "revenue",
                "weight": 2.5
              }
            ],
            "nodes": [
              {
                "id": "marketing_spend",
                "kind": "decision",
                "label": "Marketing Spend"
              },
              {
                "id": "price",
                "kind": "decision",
                "label": "Product Price"
              },
              {
                "id": "demand",
                "kind": "factor",
                "label": "Customer Demand"
              },
              {
                "id": "revenue",
                "kind": "goal",
                "label": "Revenue"
              }
            ]
          },
          "options": [
            {
              "id": "option_a",
              "interventions": {
                "marketing_spend": 100000,
                "price": 49.99
              },
              "is_baseline": false,
              "label": "Aggressive Marketing"
            },
            {
              "id": "option_b",
              "interventions": {
                "marketing_spend": 50000,
                "price": 79.99
              },
              "is_baseline": true,
              "label": "Premium Pricing"
            }
          ],
          "utility": {
            "goal_node_id": "revenue",
            "maximize": true
          }
        },
        "properties": {
          "analysis_options": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AnalysisOptions"
              },
              {
                "type": "null"
              }
            ],
            "description": "Configuration for the analysis"
          },
          "graph": {
            "allOf": [
              {
                "$ref": "#/components/schemas/GraphV1"
              }
            ],
            "description": "Decision graph with nodes and edges"
          },
          "options": {
            "description": "Decision options to evaluate",
            "items": {
              "$ref": "#/components/schemas/src__models__decision_robustness__DecisionOption"
            },
            "maxItems": 20,
            "minItems": 2,
            "title": "Options",
            "type": "array"
          },
          "parameter_uncertainties": {
            "anyOf": [
              {
                "additionalProperties": {
                  "additionalProperties": {
                    "type": "number"
                  },
                  "type": "object"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Uncertainty specification for parameters: {param_id: {mean: x, std: y}}",
            "title": "Parameter Uncertainties"
          },
          "utility": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UtilitySpecification"
              }
            ],
            "description": "How to compute utility/ranking"
          }
        },
        "required": [
          "graph",
          "options",
          "utility"
        ],
        "title": "RobustnessRequest",
        "type": "object"
      },
      "src__models__decision_robustness__RobustnessResponse-Output": {
        "description": "API response wrapper for robustness analysis.",
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          },
          "result": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__decision_robustness__RobustnessResult-Output"
              }
            ],
            "description": "Robustness analysis result"
          }
        },
        "required": [
          "result"
        ],
        "title": "RobustnessResponse",
        "type": "object"
      },
      "src__models__decision_robustness__RobustnessResult-Output": {
        "description": "Unified response schema for Decision Robustness Suite.\n\nContains all robustness metrics in a single payload:\n- Option rankings with utility distributions\n- Top recommendation with confidence\n- Sensitivity analysis (top sensitive parameters)\n- Robustness bounds (flip thresholds)\n- Value of information (EVPI/EVSI)\n- Pareto frontier (for multi-goal)\n- Narrative summary",
        "example": {
          "narrative": "Your decision is robust. Price changes up to 30% wouldn't change the recommendation.",
          "option_rankings": [
            {
              "expected_utility": 150000.0,
              "option_id": "option_a",
              "option_label": "Aggressive Marketing",
              "rank": 1,
              "utility_distribution": {
                "p25": 135000.0,
                "p5": 120000.0,
                "p50": 150000.0,
                "p75": 165000.0,
                "p95": 180000.0
              },
              "vs_baseline": 25000.0,
              "vs_baseline_pct": 20.0
            }
          ],
          "recommendation": {
            "confidence": "high",
            "option_id": "option_a",
            "option_label": "Aggressive Marketing",
            "recommendation_status": "actionable"
          },
          "robustness_bounds": [
            {
              "flip_threshold": 0.15,
              "flip_threshold_pct": 25.0,
              "flip_to_option": "option_b",
              "parameter_id": "marketing_roi",
              "parameter_label": "Marketing ROI"
            }
          ],
          "robustness_label": "robust",
          "robustness_summary": "Your decision is robust to typical parameter uncertainty",
          "sensitivity": [
            {
              "current_value": -1.2,
              "description": "Increasing Price Elasticity decreases expected revenue",
              "impact_direction": "negative",
              "parameter_id": "price_elasticity",
              "parameter_label": "Price Elasticity",
              "sensitivity_score": 0.85
            }
          ],
          "value_of_information": [
            {
              "current_uncertainty": 0.25,
              "data_collection_suggestion": "Survey 50 customers",
              "evpi": 15000.0,
              "evsi": 8500.0,
              "parameter_id": "churn_rate",
              "parameter_label": "Customer Churn Rate",
              "recommendation": "High value - consider gathering data"
            }
          ]
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ISLResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          },
          "completed_analyses": {
            "description": "Analyses that completed successfully",
            "items": {
              "type": "string"
            },
            "title": "Completed Analyses",
            "type": "array"
          },
          "elapsed_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Total analysis time in milliseconds",
            "title": "Elapsed Ms"
          },
          "narrative": {
            "description": "Plain language summary combining all analyses",
            "title": "Narrative",
            "type": "string"
          },
          "option_rankings": {
            "description": "All options ranked by expected utility",
            "items": {
              "$ref": "#/components/schemas/RankedOption-Output"
            },
            "title": "Option Rankings",
            "type": "array"
          },
          "pareto": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ParetoResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "Pareto frontier analysis (multi-goal only)"
          },
          "partial": {
            "default": false,
            "description": "Whether this is a partial result due to timeout",
            "title": "Partial",
            "type": "boolean"
          },
          "recommendation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/src__models__decision_robustness__Recommendation-Output"
              }
            ],
            "description": "Top recommendation with confidence"
          },
          "robustness_bounds": {
            "description": "Parameter thresholds that would flip recommendation",
            "items": {
              "$ref": "#/components/schemas/RobustnessBound"
            },
            "title": "Robustness Bounds",
            "type": "array"
          },
          "robustness_label": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RobustnessLabelEnum"
              }
            ],
            "description": "Overall robustness classification"
          },
          "robustness_summary": {
            "description": "Plain language robustness summary",
            "title": "Robustness Summary",
            "type": "string"
          },
          "sensitivity": {
            "description": "Most sensitive parameters (ranked)",
            "items": {
              "$ref": "#/components/schemas/SensitiveParameter"
            },
            "title": "Sensitivity",
            "type": "array"
          },
          "skipped_analyses": {
            "description": "Analyses skipped due to timeout or disabled",
            "items": {
              "type": "string"
            },
            "title": "Skipped Analyses",
            "type": "array"
          },
          "value_of_information": {
            "description": "VoI analysis for uncertain parameters",
            "items": {
              "$ref": "#/components/schemas/ValueOfInformation"
            },
            "title": "Value Of Information",
            "type": "array"
          }
        },
        "required": [
          "option_rankings",
          "recommendation",
          "sensitivity",
          "robustness_label",
          "robustness_summary",
          "robustness_bounds",
          "value_of_information",
          "narrative"
        ],
        "title": "RobustnessResult",
        "type": "object"
      },
      "src__models__phase1_models__ValidationStatus": {
        "description": "Status of a validation check.",
        "enum": [
          "pass",
          "warning",
          "fail"
        ],
        "title": "ValidationStatus",
        "type": "string"
      },
      "src__models__requests__BatchCounterfactualRequest": {
        "description": "Request model for batch counterfactual analysis.",
        "example": {
          "analyze_interactions": true,
          "model": {
            "distributions": {
              "noise": {
                "parameters": {
                  "mean": 0,
                  "std": 1000
                },
                "type": "normal"
              }
            },
            "equations": {
              "Revenue": "10000 + 500*Price + 200*Quality"
            },
            "variables": [
              "Price",
              "Quality",
              "Revenue"
            ]
          },
          "outcome": "Revenue",
          "samples": 1000,
          "scenarios": [
            {
              "id": "baseline",
              "intervention": {
                "Price": 40
              },
              "label": "Current pricing"
            },
            {
              "id": "increase",
              "intervention": {
                "Price": 50
              },
              "label": "10% increase"
            },
            {
              "id": "combined",
              "intervention": {
                "Price": 50,
                "Quality": 8.5
              },
              "label": "Price + Quality"
            }
          ],
          "seed": 42
        },
        "properties": {
          "analyze_interactions": {
            "default": true,
            "description": "Whether to detect variable interactions",
            "title": "Analyze Interactions",
            "type": "boolean"
          },
          "model": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StructuralModel"
              }
            ],
            "description": "Structural causal model"
          },
          "outcome": {
            "description": "Outcome variable to predict",
            "maxLength": 100,
            "minLength": 1,
            "title": "Outcome",
            "type": "string"
          },
          "robustness_radius": {
            "default": 0.1,
            "description": "Perturbation radius for robustness analysis",
            "exclusiveMinimum": 0.0,
            "maximum": 0.5,
            "title": "Robustness Radius",
            "type": "number"
          },
          "samples": {
            "default": 1000,
            "description": "Monte Carlo samples per scenario",
            "maximum": 10000.0,
            "minimum": 100.0,
            "title": "Samples",
            "type": "integer"
          },
          "scenarios": {
            "description": "List of scenarios to evaluate",
            "items": {
              "$ref": "#/components/schemas/ScenarioSpec"
            },
            "maxItems": 20,
            "minItems": 2,
            "title": "Scenarios",
            "type": "array"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Random seed for deterministic results",
            "title": "Seed"
          }
        },
        "required": [
          "model",
          "scenarios",
          "outcome"
        ],
        "title": "BatchCounterfactualRequest",
        "type": "object"
      },
      "src__models__requests__DecisionOption": {
        "description": "A decision option to evaluate.",
        "example": {
          "attributes": {
            "acquisition_potential": "high",
            "quality": "medium",
            "speed": "fast"
          },
          "id": "option_a",
          "name": "Quick MVP launch"
        },
        "properties": {
          "attributes": {
            "description": "Characteristics of this option",
            "title": "Attributes",
            "type": "object"
          },
          "id": {
            "description": "Unique option identifier",
            "maxLength": 100,
            "minLength": 1,
            "title": "Id",
            "type": "string"
          },
          "name": {
            "description": "Human-readable option name",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "attributes"
        ],
        "title": "DecisionOption",
        "type": "object"
      },
      "src__models__requests__RankedOption__1": {
        "description": "An option with ranking information for coherence analysis.",
        "example": {
          "confidence_interval": [
            40000,
            60000
          ],
          "expected_value": 50000,
          "name": "Launch Premium",
          "option_id": "option_a",
          "rank": 1
        },
        "properties": {
          "confidence_interval": {
            "anyOf": [
              {
                "maxItems": 2,
                "minItems": 2,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Confidence interval (lower, upper)",
            "title": "Confidence Interval"
          },
          "expected_value": {
            "description": "Expected value/utility of this option",
            "title": "Expected Value",
            "type": "number"
          },
          "name": {
            "description": "Human-readable option name",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "type": "string"
          },
          "option_id": {
            "description": "Unique option identifier",
            "maxLength": 100,
            "minLength": 1,
            "title": "Option Id",
            "type": "string"
          },
          "rank": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Current rank (1 = best)",
            "title": "Rank"
          }
        },
        "required": [
          "option_id",
          "name",
          "expected_value"
        ],
        "title": "RankedOption",
        "type": "object"
      },
      "src__models__requests__RankedOption__2": {
        "description": "A ranked option for conditional recommendation analysis.",
        "example": {
          "distribution": {
            "parameters": {
              "mean": 50000,
              "std": 10000
            },
            "type": "normal"
          },
          "expected_value": 50000.0,
          "label": "Launch Product A",
          "option_id": "option_a",
          "risk_metrics": {
            "downside_risk": 30000,
            "probability_of_loss": 0.1,
            "variance": 100000000
          }
        },
        "properties": {
          "distribution": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Distribution"
              }
            ],
            "description": "Probability distribution of outcomes"
          },
          "expected_value": {
            "description": "Expected value/utility of this option",
            "title": "Expected Value",
            "type": "number"
          },
          "label": {
            "description": "Human-readable label for the option",
            "maxLength": 200,
            "minLength": 1,
            "title": "Label",
            "type": "string"
          },
          "option_id": {
            "description": "Unique identifier for the option",
            "maxLength": 100,
            "minLength": 1,
            "title": "Option Id",
            "type": "string"
          },
          "risk_metrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RiskMetrics"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional risk metrics for the option"
          }
        },
        "required": [
          "option_id",
          "label",
          "expected_value",
          "distribution"
        ],
        "title": "RankedOption",
        "type": "object"
      },
      "src__models__responses__BatchCounterfactualResponse": {
        "description": "Response model for batch counterfactual analysis.",
        "example": {
          "comparison": {
            "best_outcome": "increase",
            "marginal_gains": {
              "increase": 5000
            },
            "most_robust": "baseline",
            "ranking": [
              "increase",
              "baseline"
            ]
          },
          "explanation": {
            "assumptions": [
              "Structural equations correct",
              "No external shocks"
            ],
            "reasoning": "10% price increase produces consistent revenue uplift across scenarios",
            "summary": "Price increase yields \u00a35k marginal gain with moderate robustness",
            "technical_basis": "Batch counterfactual analysis with interaction detection"
          },
          "interactions": {
            "pairwise": [],
            "summary": "No significant interactions detected"
          },
          "scenarios": [
            {
              "intervention": {
                "Price": 40
              },
              "label": "Current pricing",
              "prediction": {
                "confidence_interval": {
                  "lower": 28000,
                  "upper": 32000
                },
                "point_estimate": 30000
              },
              "scenario_id": "baseline"
            },
            {
              "intervention": {
                "Price": 50
              },
              "label": "10% increase",
              "prediction": {
                "confidence_interval": {
                  "lower": 33000,
                  "upper": 37000
                },
                "point_estimate": 35000
              },
              "scenario_id": "increase"
            }
          ]
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Metadata for determinism verification"
          },
          "comparison": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ScenarioComparison"
              }
            ],
            "description": "Comparison across scenarios"
          },
          "explanation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ExplanationMetadata"
              }
            ],
            "description": "Overall explanation"
          },
          "interactions": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/InteractionAnalysis"
              },
              {
                "type": "null"
              }
            ],
            "description": "Interaction analysis (if enabled)"
          },
          "scenarios": {
            "description": "Results for each scenario",
            "items": {
              "$ref": "#/components/schemas/ScenarioResult"
            },
            "title": "Scenarios",
            "type": "array"
          }
        },
        "required": [
          "scenarios",
          "comparison",
          "explanation"
        ],
        "title": "BatchCounterfactualResponse",
        "type": "object"
      },
      "src__models__responses__Recommendation": {
        "description": "Recommendation for team alignment.",
        "properties": {
          "confidence": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ConfidenceLevel"
              }
            ],
            "description": "Confidence in recommendation"
          },
          "next_steps": {
            "description": "Suggested next steps",
            "items": {
              "type": "string"
            },
            "title": "Next Steps",
            "type": "array"
          },
          "rationale": {
            "description": "Why this option is recommended",
            "title": "Rationale",
            "type": "string"
          },
          "top_option": {
            "description": "Recommended option ID",
            "title": "Top Option",
            "type": "string"
          }
        },
        "required": [
          "top_option",
          "rationale",
          "confidence",
          "next_steps"
        ],
        "title": "Recommendation",
        "type": "object"
      },
      "src__models__responses__RecommendationStatusEnum": {
        "description": "Status of recommendations based on identifiability (hard rule).",
        "enum": [
          "actionable",
          "exploratory"
        ],
        "title": "RecommendationStatusEnum",
        "type": "string"
      },
      "src__models__robustness__RobustnessRequest": {
        "description": "Request for FACET robustness analysis.",
        "example": {
          "causal_model": {
            "edges": [
              [
                "price",
                "demand"
              ],
              [
                "demand",
                "revenue"
              ]
            ],
            "nodes": [
              "price",
              "demand",
              "revenue"
            ]
          },
          "confidence_level": 0.95,
          "intervention_proposal": {
            "price": 55.0
          },
          "min_samples": 100,
          "perturbation_radius": 0.1,
          "target_outcome": {
            "revenue": [
              95000.0,
              105000.0
            ]
          }
        },
        "properties": {
          "causal_model": {
            "description": "Causal DAG structure (nodes and edges)",
            "title": "Causal Model",
            "type": "object"
          },
          "confidence_level": {
            "default": 0.95,
            "description": "Required confidence level",
            "maximum": 0.99,
            "minimum": 0.5,
            "title": "Confidence Level",
            "type": "number"
          },
          "feasible_ranges": {
            "anyOf": [
              {
                "additionalProperties": {
                  "maxItems": 2,
                  "minItems": 2,
                  "prefixItems": [
                    {
                      "type": "number"
                    },
                    {
                      "type": "number"
                    }
                  ],
                  "type": "array"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Feasible ranges for intervention variables",
            "title": "Feasible Ranges"
          },
          "intervention_proposal": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Proposed intervention (e.g., {'price': 55})",
            "title": "Intervention Proposal",
            "type": "object"
          },
          "min_samples": {
            "default": 100,
            "description": "Minimum samples for verification per region",
            "maximum": 1000.0,
            "minimum": 10.0,
            "title": "Min Samples",
            "type": "integer"
          },
          "perturbation_radius": {
            "default": 0.1,
            "description": "How far to search around proposal (0.1 = \u00b110%)",
            "exclusiveMinimum": 0.0,
            "maximum": 1.0,
            "title": "Perturbation Radius",
            "type": "number"
          },
          "structural_model": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Structural equations and distributions for simulation",
            "title": "Structural Model"
          },
          "target_outcome": {
            "additionalProperties": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array"
            },
            "description": "Target outcome ranges (e.g., {'revenue': (95000, 105000)})",
            "title": "Target Outcome",
            "type": "object"
          }
        },
        "required": [
          "causal_model",
          "intervention_proposal",
          "target_outcome"
        ],
        "title": "RobustnessRequest",
        "type": "object"
      },
      "src__models__robustness__RobustnessResponse": {
        "description": "Response with FACET robustness analysis.",
        "example": {
          "analysis": {
            "interpretation": "ROBUST RECOMMENDATION",
            "is_fragile": false,
            "recommendation": "Proceed with confidence",
            "region_count": 2,
            "robustness_score": 0.75,
            "status": "robust"
          }
        },
        "properties": {
          "_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response metadata"
          },
          "analysis": {
            "allOf": [
              {
                "$ref": "#/components/schemas/FACETRobustnessAnalysis"
              }
            ],
            "description": "Robustness analysis result"
          }
        },
        "required": [
          "analysis"
        ],
        "title": "RobustnessResponse",
        "type": "object"
      },
      "src__models__robustness_v2__RobustnessResult": {
        "description": "Overall robustness assessment.",
        "example": {
          "confidence": 0.92,
          "fragile_edges": [
            "marketing->demand"
          ],
          "interpretation": "Recommendation is robust with 92% confidence",
          "is_robust": true,
          "recommendation_stability": 0.88,
          "robust_edges": [
            "price->revenue"
          ]
        },
        "properties": {
          "confidence": {
            "description": "Confidence in robustness assessment",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "type": "number"
          },
          "fragile_edges": {
            "description": "Edges that could flip the decision (format: 'from->to')",
            "items": {
              "type": "string"
            },
            "title": "Fragile Edges",
            "type": "array"
          },
          "fragile_edges_enhanced": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/FragileEdgeEnhanced"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Enhanced fragile edge data with alternative winner analysis",
            "title": "Fragile Edges Enhanced"
          },
          "interpretation": {
            "description": "Human-readable robustness summary",
            "title": "Interpretation",
            "type": "string"
          },
          "is_robust": {
            "description": "Whether recommendation is robust",
            "title": "Is Robust",
            "type": "boolean"
          },
          "recommendation_stability": {
            "description": "P(same recommendation across samples)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Recommendation Stability",
            "type": "number"
          },
          "robust_edges": {
            "description": "Edges that don't significantly affect decision",
            "items": {
              "type": "string"
            },
            "title": "Robust Edges",
            "type": "array"
          }
        },
        "required": [
          "is_robust",
          "confidence",
          "recommendation_stability",
          "interpretation"
        ],
        "title": "RobustnessResult",
        "type": "object"
      },
      "src__models__shared__ValidationStatus": {
        "description": "Status of causal validation.",
        "enum": [
          "identifiable",
          "uncertain",
          "cannot_identify",
          "degraded"
        ],
        "title": "ValidationStatus",
        "type": "string"
      }
    }
  },
  "info": {
    "description": "Deterministic scientific computation core for decision enhancement",
    "title": "Olumi Inference Service Layer",
    "version": "0.1.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/api/v1/aggregation/multi-criteria": {
      "post": {
        "description": "Combines option scores across multiple criteria using configurable aggregation methods.\n\n    **Aggregation Methods:**\n    - `weighted_sum`: Compensatory, allows trade-offs (Score = \u03a3(weight_i \u00d7 score_i) \u00d7 100)\n    - `weighted_product`: Balanced, penalizes low scores (Score = \u220f(score_i ^ weight_i) \u00d7 100)\n    - `lexicographic`: Hierarchical, no trade-offs (Sort by highest-weight criterion first)\n\n    **Features:**\n    - Auto-normalizes weights that don't sum to 1.0 (with warning)\n    - Percentile selection (p10=pessimistic, p50=expected, p90=optimistic)\n    - Trade-off detection with configurable threshold\n    - Validation warnings for transparency\n\n    **Returns:**\n    - Aggregated rankings sorted best to worst\n    - Significant trade-offs between top options\n    - Warnings about auto-corrections\n    - Performance metadata\n\n    **Use when:**\n    - Combining inference results across multiple criteria\n    - Comparing options with different strengths\n    - Understanding trade-offs in decisions\n\n    **Algorithm:** Depends on method (O(n) for all methods)\n    **Limits:** 1-10 criteria, 2-100 options per criterion",
        "operationId": "aggregate_multi_criteria_api_v1_aggregation_multi_criteria_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MultiCriteriaRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MultiCriteriaResponse"
                }
              }
            },
            "description": "Aggregation completed successfully"
          },
          "400": {
            "description": "Invalid input (validation error)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Aggregate scores across multiple criteria",
        "tags": [
          "Multi-Criteria Analysis"
        ]
      }
    },
    "/api/v1/analysis/conditional-recommend": {
      "post": {
        "description": "Generate actionable conditions that qualify recommendations.\n\n    Real decisions aren't binary. Users need to know \"Choose A if X, otherwise B\"\n    rather than just \"Choose A.\"\n\n    **Condition Types:**\n    - **threshold**: Parameter thresholds where ranking flips (e.g., \"If ROI < 0.3, choose B\")\n    - **dominance**: When weighting changes make one option dominate\n    - **risk_profile**: How recommendations change with risk tolerance\n    - **scenario**: Clustered parameter combinations (pessimistic/optimistic)\n\n    **Robustness Summary:**\n    - **robust**: Recommendation unlikely to change\n    - **moderate**: Some conditions could flip recommendation\n    - **fragile**: Many conditions could flip recommendation\n\n    **Use when:** Making strategic decisions that need qualification.",
        "operationId": "generate_conditional_recommendations_api_v1_analysis_conditional_recommend_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConditionalRecommendRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConditionalRecommendResponse"
                }
              }
            },
            "description": "Conditional recommendations generated successfully"
          },
          "400": {
            "description": "Invalid input (e.g., fewer than 2 options)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Generate conditional recommendations",
        "tags": [
          "Phase 4: Sequential Decisions"
        ]
      }
    },
    "/api/v1/analysis/dominance": {
      "post": {
        "description": "Identifies which options are dominated by others across multiple criteria.\n\n    **Dominance Definition:**\n    Option B dominates option A if:\n    - B is better or equal to A on ALL criteria AND\n    - B is strictly better than A on AT LEAST ONE criterion\n\n    **Returns:**\n    - Dominated options with dominators and degree\n    - Non-dominated options (Pareto frontier)\n    - Performance metadata\n\n    **Use when:**\n    - Eliminating inferior options before detailed analysis\n    - Identifying Pareto-optimal choices\n    - Understanding trade-offs between options\n\n    **Algorithm:** O(n\u00b2) pairwise comparison\n    **Limits:** 2-100 options, 1-10 criteria",
        "operationId": "detect_dominance_api_v1_analysis_dominance_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DominanceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DominanceResponse"
                }
              }
            },
            "description": "Dominance analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (validation error)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Detect dominance relationships between options",
        "tags": [
          "Multi-Criteria Analysis"
        ]
      }
    },
    "/api/v1/analysis/identifiability": {
      "post": {
        "description": "Determine whether a causal effect from decision to goal is identifiable\n    from observational data given the graph structure.\n\n    **Y\u2080 Algorithm:**\n    Uses Pearl's complete identification algorithm to determine if P(Y | do(X))\n    can be computed from observational data P(V) and the graph structure G.\n\n    **Identification Methods:**\n    - **Backdoor criterion**: Block all backdoor paths by conditioning on appropriate variables\n    - **Frontdoor criterion**: Use mediating variables when backdoor is blocked\n    - **Instrumental variables**: Use variables that affect X but not Y directly\n    - **Do-calculus**: General graphical rules for effect identification\n\n    **Hard Rule (Neil's Specification):**\n    If the main decision\u2192goal effect is non-identifiable:\n    - `recommendation_status` is set to \"exploratory\" (not \"actionable\")\n    - `recommendation_caveat` explains that conclusions should be treated as hypotheses\n    - `suggestions` provide guidance on making the effect identifiable\n\n    **Returns:**\n    - Identifiability status and method\n    - Adjustment set (variables to condition on)\n    - Backdoor paths in the graph\n    - Suggestions for non-identifiable effects\n    - Hard rule enforcement via recommendation_status\n\n    **Use when:**\n    - Before presenting recommendations to users\n    - When building causal decision models\n    - When uncertain about effect identifiability",
        "operationId": "analyze_identifiability_api_v1_analysis_identifiability_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IdentifiabilityRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdentifiabilityResponse"
                }
              }
            },
            "description": "Identifiability analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., missing decision or goal node)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Analyze causal effect identifiability (Y\u2080)",
        "tags": [
          "Y\u2080 Identifiability"
        ]
      }
    },
    "/api/v1/analysis/identifiability/dag": {
      "post": {
        "description": "Alternative endpoint for identifiability analysis using simple DAG format.\n\n    Same functionality as `/identifiability` but accepts a simpler input format\n    with explicit node list, edge list, treatment, and outcome.\n\n    **Use when:**\n    - Working with simple causal graphs without typed nodes\n    - Integrating with systems that don't use GraphV1 format",
        "operationId": "analyze_identifiability_from_dag_api_v1_analysis_identifiability_dag_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IdentifiabilityFromDAGRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdentifiabilityResponse"
                }
              }
            },
            "description": "Identifiability analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., treatment/outcome not in nodes)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Analyze identifiability from simple DAG",
        "tags": [
          "Y\u2080 Identifiability"
        ]
      }
    },
    "/api/v1/analysis/optimise": {
      "post": {
        "description": "Perform grid search optimization for continuous decision variables.\n\n    Finds optimal values for decision variables that maximize (or minimize)\n    a linear objective function subject to linear constraints.\n\n    **Features:**\n    - Multi-dimensional grid search\n    - Linear constraint handling (<=, >=, =)\n    - Confidence intervals for objective value\n    - Sensitivity analysis (gradient, 5% tolerance range)\n    - Edge case detection (boundary, flat objective, infeasible)\n\n    **Algorithm:**\n    1. Build uniform grid over decision variable bounds\n    2. Evaluate objective at all grid points\n    3. Filter feasible points (satisfy all constraints)\n    4. Select point with best objective value\n    5. Compute sensitivity analysis at optimum\n\n    **Warnings:**\n    - `NO_FEASIBLE_SOLUTION`: No grid points satisfy all constraints\n    - `FLAT_OBJECTIVE`: Objective is constant across feasible region\n    - `BOUNDARY_OPTIMUM`: Optimal point is at variable bounds\n    - `MULTIPLE_OPTIMA`: Multiple near-optimal points found\n    - `CONSTRAINT_ACTIVE`: Constraints are binding at optimum\n\n    **Performance:** <2 seconds for 20-point grid with 2 variables.\n\n    **Use when:** Finding optimal price, quantity, budget allocation.",
        "operationId": "optimize_continuous_api_v1_analysis_optimise_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OptimisationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimisationResponse"
                }
              }
            },
            "description": "Optimization completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., upper_bound < lower_bound)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Optimize continuous decision variables",
        "tags": [
          "Sensitivity Analysis"
        ]
      }
    },
    "/api/v1/analysis/pareto": {
      "post": {
        "description": "Identifies the Pareto frontier - the set of non-dominated options.\n\n    **Pareto Frontier Definition:**\n    The Pareto frontier contains all options where no other option is\n    better or equal on ALL criteria AND strictly better on AT LEAST ONE.\n\n    **Returns:**\n    - Frontier options with full scores\n    - Dominated options with dominators\n    - Frontier truncation flag if > max_frontier_size\n\n    **Use when:**\n    - Narrowing down to optimal choices\n    - Exploring trade-offs between criteria\n    - Presenting decision options to users\n\n    **Algorithm:** O(n\u00b2) dominance detection via pairwise comparison\n    **Limits:** 2-100 options, 1-10 criteria, max_frontier_size default 20",
        "operationId": "compute_pareto_frontier_api_v1_analysis_pareto_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ParetoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParetoResponse"
                }
              }
            },
            "description": "Pareto frontier computed successfully"
          },
          "400": {
            "description": "Invalid input (validation error)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Compute Pareto frontier (non-dominated options)",
        "tags": [
          "Multi-Criteria Analysis"
        ]
      }
    },
    "/api/v1/analysis/policy-tree": {
      "post": {
        "description": "Generate a decision tree representation of the optimal policy.\n\n    Returns a tree structure where:\n    - Decision nodes show optimal action\n    - Chance nodes show outcome probabilities\n    - Terminal nodes show payoffs\n\n    **Use when:** Visualizing or exporting the optimal policy.",
        "operationId": "get_policy_tree_api_v1_analysis_policy_tree_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SequentialAnalysisRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PolicyTreeResponse"
                }
              }
            },
            "description": "Policy tree generated successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Get policy as decision tree",
        "tags": [
          "Phase 4: Sequential Decisions"
        ]
      }
    },
    "/api/v1/analysis/risk-adjust": {
      "post": {
        "description": "Apply risk adjustment to option scores based on risk profile.\n\nUses mean-variance approach to compute certainty equivalents:\n- **Risk averse**: Penalizes variance (prefers safer options)\n- **Risk neutral**: No adjustment (expected value only)\n- **Risk seeking**: Rewards variance (prefers riskier options)\n\n**Algorithm**:\n- Risk averse: CE = mean - (coefficient/2) \u00d7 variance\n- Risk neutral: CE = mean\n- Risk seeking: CE = mean + (coefficient/2) \u00d7 variance\n\n**Input Formats**:\n- Mean-variance: Provide `mean` and `std_dev` for each option\n- Percentile: Provide `p10`, `p50`, `p90` for each option\n\n**Response**:\n- Adjusted scores sorted by certainty equivalent (best to worst)\n- Indicates if rankings changed after adjustment\n- Detailed ranking changes (if applicable)\n- Plain English interpretation of adjustment impact\n\n**Example Use Case**:\nCEE provides option scores with uncertainty. User's risk profile\n(from CEE risk assessment) determines how to weight variance vs. expected value.\n\nArgs:\n    request: Risk adjustment request with options and risk profile\n    x_request_id: Optional request ID from header\n\nReturns:\n    Risk-adjusted scores with rankings and interpretation",
        "operationId": "adjust_for_risk_api_v1_analysis_risk_adjust_post",
        "parameters": [
          {
            "in": "header",
            "name": "x-request-id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RiskAdjustmentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RiskAdjustmentResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Adjust For Risk",
        "tags": [
          "Multi-Criteria Analysis"
        ]
      }
    },
    "/api/v1/analysis/robustness": {
      "post": {
        "description": "Perform comprehensive robustness analysis combining:\n\n- **Option Rankings**: All options ranked by expected utility with distributions\n- **Recommendation**: Top recommendation with confidence level\n- **Sensitivity Analysis**: Most sensitive parameters affecting the decision\n- **Robustness Bounds**: Thresholds where parameters would flip recommendation\n- **Value of Information**: EVPI/EVSI for uncertain parameters\n- **Pareto Frontier**: Trade-offs for multi-goal decisions (if applicable)\n- **Narrative**: Plain language summary of the analysis\n\n## Response Schema\n\nThe response includes a unified `RobustnessResult` with all metrics:\n- `option_rankings`: Ranked list with utility distributions\n- `recommendation`: Top option with confidence and status\n- `sensitivity`: Top sensitive parameters (configurable N)\n- `robustness_label`: 'robust' | 'moderate' | 'fragile'\n- `robustness_bounds`: Flip thresholds for key parameters\n- `value_of_information`: EVPI/EVSI with data collection suggestions\n- `pareto`: Pareto frontier for multi-goal (optional)\n- `narrative`: Human-readable summary\n\n## Robustness Classification\n\n- **Robust**: No single parameter change within \u00b150% flips recommendation\n- **Moderate**: Flip requires \u00b120-50% parameter change\n- **Fragile**: Flip requires <\u00b120% change (recommendation_status becomes 'exploratory')\n\n## Performance\n\nTypical analysis completes in <5 seconds for graphs with \u226450 nodes.",
        "operationId": "analyze_robustness_api_v1_analysis_robustness_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__models__decision_robustness__RobustnessRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RobustnessResponse-Input"
                }
              }
            },
            "description": "Successful robustness analysis"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Invalid request"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Analysis error"
          }
        },
        "summary": "Unified Decision Robustness Analysis",
        "tags": [
          "Decision Robustness Suite"
        ]
      }
    },
    "/api/v1/analysis/sensitivity": {
      "post": {
        "description": "Tests how robust conclusions are to changes in assumptions.\n\n    Provides:\n    - Assumption importance ranking\n    - Impact assessment for each assumption\n    - Overall robustness score\n    - Critical breakpoints where conclusions flip\n\n    **Use when:** Understanding which assumptions matter most.",
        "operationId": "analyze_sensitivity_api_v1_analysis_sensitivity_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SensitivityAnalysisRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensitivityAnalysisResponse"
                }
              }
            },
            "description": "Sensitivity analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., no assumptions provided)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Perform sensitivity analysis",
        "tags": [
          "Sensitivity Analysis"
        ]
      }
    },
    "/api/v1/analysis/sequential": {
      "post": {
        "description": "Solve multi-stage decision problems using backward induction.\n\n    Many strategic decisions are sequential: \"If we launch, then we'll need to\n    decide on pricing. If pricing works, we'll decide on expansion.\"\n    Optimal strategy requires reasoning backward from final outcomes.\n\n    **Algorithm:**\n    1. Start from final stage (terminal payoffs)\n    2. For each state at stage T, compute optimal action and value\n    3. Move backward, computing optimal action given immediate payoff + continuation value\n    4. Repeat until stage 0\n\n    **Value of Flexibility:**\n    Compares optimal policy (deciding at each stage with information) vs\n    committing upfront (ignoring future information).\n\n    **Use when:** Planning multi-stage strategies with uncertainty resolution.",
        "operationId": "analyze_sequential_decision_api_v1_analysis_sequential_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SequentialAnalysisRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SequentialAnalysisResponse"
                }
              }
            },
            "description": "Sequential analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., invalid graph structure)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Analyze sequential decision problem",
        "tags": [
          "Phase 4: Sequential Decisions"
        ]
      }
    },
    "/api/v1/analysis/stage-sensitivity": {
      "post": {
        "description": "Perform sensitivity analysis for each stage of a sequential decision.\n\n    Tests how robust the optimal policy is to parameter changes at each stage.\n\n    **Metrics:**\n    - **parameter_sensitivities**: How much each parameter affects stage value\n    - **policy_changes_at**: Parameter values where optimal action changes\n    - **robustness_score**: Overall robustness (0-1)\n\n    **Use when:** Understanding which parameters matter most at each stage.",
        "operationId": "analyze_stage_sensitivity_api_v1_analysis_stage_sensitivity_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StageSensitivityRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StageSensitivityResponse"
                }
              }
            },
            "description": "Stage sensitivity analysis completed successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Stage-by-stage sensitivity analysis",
        "tags": [
          "Phase 4: Sequential Decisions"
        ]
      }
    },
    "/api/v1/analysis/thresholds": {
      "post": {
        "description": "Identify parameter thresholds where option rankings change.\n\nAnalyzes parameter sweeps to find critical values where the relative\nranking of options shifts. This helps users understand:\n- Which parameters are most sensitive (affect rankings most)\n- At what values rankings change (decision thresholds)\n- Which options are affected by parameter changes\n\n**Algorithm**:\n1. For each parameter sweep:\n   - Iterate through values in order\n   - Rank options by score at each value\n   - Detect where ranking changes from previous value\n   - Record threshold value and affected options\n2. Rank parameters by sensitivity (number of changes)\n3. Identify most sensitive range for each parameter\n\n**Tie Handling**:\n- Options within `confidence_threshold` are considered tied\n- Tied options maintain stable alphabetical ordering\n- Only meaningful ranking changes are reported\n\n**Use Cases**:\n- Sensitivity analysis: Which parameters matter most?\n- Decision boundaries: When does the best option change?\n- Robustness testing: How stable are rankings?\n\n**Note**: PLoT provides pre-computed scores at different parameter values.\nISL only analyzes the provided data (does not run inference).\n\nArgs:\n    request: Threshold identification request with parameter sweeps\n    x_request_id: Optional request ID from header\n\nReturns:\n    Thresholds, sensitivity ranking, and analysis metadata",
        "operationId": "identify_thresholds_api_v1_analysis_thresholds_post",
        "parameters": [
          {
            "in": "header",
            "name": "x-request-id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ThresholdIdentificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThresholdIdentificationResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Identify Thresholds",
        "tags": [
          "Multi-Criteria Analysis"
        ]
      }
    },
    "/api/v1/batch/counterfactual": {
      "post": {
        "description": "Analyzes multiple counterfactual scenarios in parallel for 5-10x speedup.\n\n    **Limits:**\n    - Max requests per batch: 20\n    - Concurrent tasks: 10\n\n    **Behavior:**\n    - Processes requests concurrently using asyncio\n    - Returns partial results if some requests fail\n    - Each result includes success status and error details\n    - Individual request timeout: 30 seconds\n\n    **Use when:** Evaluating multiple \"what if\" scenarios simultaneously.",
        "operationId": "batch_analyze_counterfactuals_api_v1_batch_counterfactual_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__api__batch__BatchCounterfactualRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__api__batch__BatchCounterfactualResponse"
                }
              }
            },
            "description": "Batch processing completed (may include partial failures)"
          },
          "400": {
            "description": "Invalid input (e.g., batch too large, empty batch)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal error prevented batch processing"
          }
        },
        "summary": "Batch counterfactual analysis",
        "tags": [
          "Batch Processing"
        ]
      }
    },
    "/api/v1/batch/validate": {
      "post": {
        "description": "Validates multiple causal models in parallel for 5-10x speedup.\n\n    **Limits:**\n    - Max requests per batch: 50\n    - Concurrent tasks: 10\n\n    **Behavior:**\n    - Processes requests concurrently using asyncio\n    - Returns partial results if some requests fail\n    - Each result includes success status and error details\n    - Individual request timeout: 30 seconds\n\n    **Use when:** Validating multiple causal models at once (e.g., scenario comparison).",
        "operationId": "batch_validate_causal_models_api_v1_batch_validate_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchValidationResponse"
                }
              }
            },
            "description": "Batch processing completed (may include partial failures)"
          },
          "400": {
            "description": "Invalid input (e.g., batch too large, empty batch)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal error prevented batch processing"
          }
        },
        "summary": "Batch causal validation",
        "tags": [
          "Batch Processing"
        ]
      }
    },
    "/api/v1/causal/counterfactual": {
      "post": {
        "description": "Analyzes what would happen under a counterfactual intervention.\n\n    Provides:\n    - Point estimates and confidence intervals\n    - Uncertainty breakdown by source\n    - Robustness analysis\n    - Critical assumptions\n\n    **Use when:** Evaluating \"what if\" scenarios for decision making.",
        "operationId": "analyze_counterfactual_api_v1_causal_counterfactual_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounterfactualRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounterfactualResponse"
                }
              }
            },
            "description": "Counterfactual analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., malformed structural model)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Perform counterfactual analysis",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/counterfactual/batch": {
      "post": {
        "description": "Analyzes multiple counterfactual scenarios in a single request with interaction detection.\n\n    Provides:\n    - Individual predictions for each scenario\n    - Interaction analysis (synergistic/antagonistic effects)\n    - Scenario comparison and ranking\n    - Marginal gains analysis\n\n    **Features:**\n    - Shared exogenous samples for determinism across scenarios\n    - Automatic detection of variable interactions\n    - Efficient batch processing\n    - Consistent uncertainty quantification\n\n    **Use when:** Comparing multiple intervention strategies or testing parameter combinations.\n\n    **Example Use Cases:**\n    - Testing price AND quality changes together\n    - Comparing aggressive vs conservative strategies\n    - Detecting when interventions amplify or cancel each other",
        "operationId": "analyze_batch_counterfactual_api_v1_causal_counterfactual_batch_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__models__requests__BatchCounterfactualRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__models__responses__BatchCounterfactualResponse"
                }
              }
            },
            "description": "Batch counterfactual analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., too few scenarios, malformed model)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Batch counterfactual analysis with interaction detection",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/counterfactual/conformal": {
      "post": {
        "description": "Generate counterfactual predictions with conformal prediction intervals.\n\n    Provides finite-sample valid prediction intervals with guaranteed coverage,\n    offering provable uncertainty quantification beyond standard Monte Carlo methods.\n\n    **Key Features:**\n    - Distribution-free (no parametric assumptions)\n    - Finite-sample validity (not asymptotic)\n    - Guaranteed coverage: P(Y \u2208 interval) \u2265 1-\u03b1\n    - Adaptive to local uncertainty\n    - Comparison to Monte Carlo intervals\n\n    **Use when:** You need rigorous uncertainty guarantees for counterfactual\n    predictions, especially in high-stakes decisions where coverage matters.\n\n    **Example Use Cases:**\n    - Safety-critical predictions requiring provable bounds\n    - Regulatory compliance needing formal guarantees\n    - Scientific research requiring rigorous uncertainty quantification\n    - Model validation and calibration assessment\n\n    **Requirements:**\n    - Calibration data: At least 10 historical observations (more is better)\n    - Exchangeability: Calibration and test points from same distribution",
        "operationId": "conformal_counterfactual_prediction_api_v1_causal_counterfactual_conformal_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConformalCounterfactualRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConformalCounterfactualResponse"
                }
              }
            },
            "description": "Conformal prediction completed successfully"
          },
          "400": {
            "description": "Invalid input or insufficient calibration data"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Conformal prediction for counterfactuals",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/discover/from-data": {
      "post": {
        "description": "Automatically discovers DAG structures from observational data.\n\n    Uses correlation-based structure learning to suggest plausible\n    causal graphs based on statistical relationships in the data.\n\n    **Features:**\n    - Correlation-based edge detection\n    - Prior knowledge integration (required/forbidden edges)\n    - Confidence scoring for discovered structures\n    - Automatic cycle detection and acyclicity enforcement\n\n    **Use when:** You have observational data but no clear causal model,\n    or want to validate your domain knowledge against data.\n\n    **Requirements:**\n    - At least 10 observations (more is better)\n    - 2-50 variables\n    - Data should be roughly stationary",
        "operationId": "discover_from_data_api_v1_causal_discover_from_data_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DiscoveryFromDataRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiscoveryResponse"
                }
              }
            },
            "description": "Discovery completed successfully"
          },
          "400": {
            "description": "Invalid input or insufficient data"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Discover causal structure from data",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/discover/from-knowledge": {
      "post": {
        "description": "Suggests DAG structures based on domain knowledge description.\n\n    Uses heuristics and pattern matching to generate plausible causal\n    structures from natural language descriptions.\n\n    **Features:**\n    - Multiple candidate DAGs ranked by plausibility\n    - Prior knowledge integration\n    - Common causal patterns (chains, forks, colliders)\n\n    **Use when:** You have domain knowledge but need help formalizing\n    it into a DAG structure.\n\n    **Example:** \"Price affects revenue, quality affects both price and\n    revenue\" \u2192 generates candidate DAGs",
        "operationId": "discover_from_knowledge_api_v1_causal_discover_from_knowledge_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DiscoveryFromKnowledgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiscoveryResponse"
                }
              }
            },
            "description": "Discovery completed successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Discover causal structure from domain knowledge",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/experiment/recommend": {
      "post": {
        "description": "Recommends the next experiment to run using Thompson sampling.\n\n    Balances exploration (learning about parameters) with exploitation\n    (optimizing the outcome) to maximize long-term value of experimentation.\n\n    **Features:**\n    - Thompson sampling for optimal exploration/exploitation\n    - Bayesian belief updating\n    - Information gain estimation\n    - Cost-benefit analysis\n    - Rationale generation\n\n    **Use when:** Running sequential experiments where you want to\n    learn efficiently while also optimizing outcomes.\n\n    **Example Use Cases:**\n    - A/B testing campaigns\n    - Clinical trial design\n    - Product optimization experiments\n    - Scientific inquiry with limited budget",
        "operationId": "recommend_experiment_api_v1_causal_experiment_recommend_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExperimentRecommendationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentRecommendationResponse"
                }
              }
            },
            "description": "Recommendation generated successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Recommend next experiment using Thompson sampling",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/extract-factors": {
      "post": {
        "description": "Extract latent causal factors from unstructured text data using representation learning.\n\n    Uses text embedding and clustering to identify themes/factors in:\n    - Support tickets\n    - Customer reviews\n    - User feedback\n    - Survey responses\n    - Error logs\n\n    **Features:**\n    - Automatic factor identification\n    - Keyword extraction per factor\n    - Suggested DAG structure\n    - Factor prevalence and strength scores\n\n    **Use when:** You have qualitative data and want to identify potential\n    causal factors to include in your model.\n\n    **Example:** Support tickets \u2192 [\"usability_issues\", \"performance_problems\"]\n    \u2192 suggested DAG with these as causes of churn",
        "operationId": "extract_causal_factors_api_v1_causal_extract_factors_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FactorExtractionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Factor extraction completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., not enough data)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Extract causal factors from unstructured data",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/parameter-recommendations": {
      "post": {
        "description": "Suggest optimal weight and belief ranges based on causal graph topology.\n\n    Provides:\n    - Weight ranges for edges based on critical path analysis\n    - Belief ranges for nodes based on causal role\n    - Importance rankings for all parameters\n    - Rationale for each recommendation\n\n    **Use when:** Calibrating parameter values or validating existing estimates.",
        "operationId": "recommend_parameters_api_v1_causal_parameter_recommendations_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ParameterRecommendationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParameterRecommendationResponse"
                }
              }
            },
            "description": "Parameter recommendations generated successfully"
          },
          "400": {
            "description": "Invalid graph structure"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Parameter range recommendations",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/sensitivity/detailed": {
      "post": {
        "description": "Quantifies how sensitive causal estimates are to assumption violations.\n\n    Moves beyond discrete robustness categories (robust/moderate/fragile)\n    to continuous sensitivity metrics with elasticity calculations.\n\n    **Features:**\n    - Quantitative sensitivity metrics (elasticity, outcome ranges)\n    - Critical assumption identification\n    - Elasticity: % change in outcome per % change in assumption violation\n    - Robustness scores (0=fragile, 1=robust)\n    - Recommendations for strengthening assumptions\n\n    **Tested Assumptions:**\n    - No unobserved confounding\n    - Linear effects\n    - No selection bias\n    - Causal sufficiency\n    - Positivity\n    - Consistency\n\n    **Use when:** You need to understand which assumptions matter most\n    for your causal estimates and how robust your results are.\n\n    **Example:** \"If unobserved confounding increases by 10%, how much\n    does my outcome estimate change?\"",
        "operationId": "analyze_detailed_sensitivity_api_v1_causal_sensitivity_detailed_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SensitivityRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensitivityReport"
                }
              }
            },
            "description": "Sensitivity analysis completed successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Detailed sensitivity analysis for causal assumptions",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/transport": {
      "post": {
        "description": "Determines whether a causal effect identified in a source domain\n    can be validly transported to a target domain.\n\n    Provides:\n    - Transportability assessment (yes/no)\n    - Transport formula if transportable\n    - Required assumptions with testability\n    - Robustness assessment\n    - Suggestions if not transportable\n\n    **Use when:** Deciding if findings from one context (e.g., UK market)\n    apply to another context (e.g., Germany market).\n\n    **Example Use Cases:**\n    - Does price sensitivity learned in UK work in France?\n    - Can clinical trial results from one population apply to another?\n    - Will marketing effects from online channels work offline?",
        "operationId": "analyze_transportability_api_v1_causal_transport_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransportabilityRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransportabilityResponse"
                }
              }
            },
            "description": "Transportability analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., malformed DAG, missing nodes)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Analyze causal effect transportability",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/validate": {
      "post": {
        "description": "Validates whether a causal model (DAG) supports causal identification\n    for a given treatment-outcome pair.\n\n    Returns adjustment sets if identifiable, or specific issues if not.\n\n    **Use when:** Building a decision model, before running scenarios.\n\n    **Returns:**\n    - `identifiable`: Valid adjustment sets provided (with method, formula, assumptions)\n    - `uncertain`: Potential issues detected, clarification needed\n    - `cannot_identify`: Fundamental structural problems (with reason and suggestions)\n    - `degraded`: Advanced analysis failed, fallback assessment provided",
        "operationId": "validate_causal_model_api_v1_causal_validate_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CausalValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CausalValidationResponse"
                }
              }
            },
            "description": "Validation completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., empty DAG, node not found)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Validate causal model structure",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/causal/validate/strategies": {
      "post": {
        "description": "Provides complete adjustment strategies for non-identifiable DAGs.\n\n    Goes beyond simple validation to provide actionable suggestions on how to\n    make a non-identifiable causal effect identifiable through:\n    - Backdoor adjustment strategies\n    - Frontdoor adjustment strategies\n    - Instrumental variable strategies\n\n    Each strategy specifies exactly which nodes and edges to add to the DAG\n    to achieve identifiability, along with theoretical justification.\n\n    **Features:**\n    - Complete path analysis (backdoor, frontdoor, blocked paths)\n    - Critical node identification\n    - Ranked strategies by expected success\n    - Theoretical basis for each strategy\n\n    **Use when:** You have a non-identifiable DAG and need guidance on\n    how to modify it or what additional data to collect.",
        "operationId": "get_validation_strategies_api_v1_causal_validate_strategies_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ValidationStrategyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationStrategyResponse"
                }
              }
            },
            "description": "Strategy analysis completed successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Get complete adjustment strategies for identifiability",
        "tags": [
          "Causal Inference"
        ]
      }
    },
    "/api/v1/conformal": {
      "post": {
        "description": "Provide calibrated confidence intervals for predictions.\n\n    Provides:\n    - Prediction intervals\n    - Confidence levels\n    - Uncertainty sources\n\n    **Use when:** Quantifying prediction uncertainty with calibrated bounds.",
        "operationId": "predict_conformal_api_v1_conformal_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConformalRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConformalResponse"
                }
              }
            },
            "description": "Conformal prediction completed successfully"
          },
          "400": {
            "description": "Invalid graph structure or variable"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Conformal prediction",
        "tags": [
          "CEE Enhancement"
        ]
      }
    },
    "/api/v1/contrastive": {
      "post": {
        "description": "Generate actionable alternatives showing what changes would produce different outcomes.\n\n    Provides:\n    - Counterfactual scenarios\n    - Feasibility assessments\n    - Outcome comparisons\n\n    **Use when:** Exploring \"what if\" alternatives and decision paths.",
        "operationId": "generate_contrastive_api_v1_contrastive_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContrastiveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContrastiveResponse"
                }
              }
            },
            "description": "Contrastive explanation generated successfully"
          },
          "400": {
            "description": "Invalid graph structure or target outcome"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Contrastive explanations",
        "tags": [
          "CEE Enhancement"
        ]
      }
    },
    "/api/v1/explain/contrastive": {
      "post": {
        "description": "Find minimal interventions to achieve target outcomes.\n\n    Transforms \"what if X=50\" predictions into actionable guidance:\n    \"Change X from 40 to 45 to achieve target.\"\n\n    Provides:\n    - Minimal single-variable interventions\n    - Minimal multi-variable combinations (if allowed)\n    - FACET-based robustness scoring for each intervention\n    - Cost and feasibility estimates\n    - Ranked recommendations by optimization criterion\n\n    **Algorithm:**\n    1. Binary search for minimal change to each feasible variable\n    2. Grid search for minimal multi-variable combinations\n    3. FACET robustness verification for each candidate\n    4. Ranking by cost, change magnitude, or feasibility\n\n    **Use when:** You need actionable recommendations for achieving specific outcomes,\n    not just \"what if\" predictions.\n\n    **Example:**\n    - Current: Revenue = \u00a340k\n    - Target: Revenue = \u00a350k\n    - Result: \"Increase Price from \u00a340 to \u00a345 (\u00a35 increase) achieves target\"",
        "operationId": "generate_contrastive_explanation_api_v1_explain_contrastive_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContrastiveExplanationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContrastiveExplanationResponse"
                }
              }
            },
            "description": "Contrastive explanation generated successfully"
          },
          "400": {
            "description": "Invalid input (e.g., no feasible variables, invalid constraints)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Generate contrastive explanations with minimal interventions",
        "tags": [
          "Contrastive Explanations"
        ]
      }
    },
    "/api/v1/outcomes/log": {
      "post": {
        "description": "Record a decision for future calibration analysis.\n\nCall this endpoint after a user makes a decision based on ISL's recommendation.\nRecords:\n- Which option the user chose\n- What ISL recommended\n- Whether the recommendation was followed\n\nLater, update the log with actual outcomes using PATCH /outcomes/{id}.",
        "operationId": "log_decision_api_v1_outcomes_log_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutcomeLogRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeLog"
                }
              }
            },
            "description": "Decision logged successfully"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "503": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Outcome logging disabled"
          }
        },
        "summary": "Log a Decision",
        "tags": [
          "Outcome Logging"
        ]
      }
    },
    "/api/v1/outcomes/summary": {
      "get": {
        "description": "Get summary statistics for outcome logging.\n\nReturns basic calibration stats:\n- Total decisions logged\n- Decisions with recorded outcomes\n- Recommendations followed rate\n- Average outcomes (when followed vs not followed)\n\nPhase 3 will expand this into full calibration analysis.",
        "operationId": "get_summary_api_v1_outcomes_summary_get",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeSummary"
                }
              }
            },
            "description": "Summary statistics"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Outcome Summary",
        "tags": [
          "Outcome Logging"
        ]
      }
    },
    "/api/v1/outcomes/{log_id}": {
      "get": {
        "description": "Retrieve a specific outcome log by ID.",
        "operationId": "get_outcome_api_v1_outcomes__log_id__get",
        "parameters": [
          {
            "description": "Outcome log ID",
            "in": "path",
            "name": "log_id",
            "required": true,
            "schema": {
              "description": "Outcome log ID",
              "title": "Log Id",
              "type": "string"
            }
          },
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeLog"
                }
              }
            },
            "description": "Outcome log found"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Outcome log not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Outcome Log",
        "tags": [
          "Outcome Logging"
        ]
      },
      "patch": {
        "description": "Update an outcome log with actual outcome values.\n\nCall this endpoint when the actual outcomes of a decision become known.\nThis data is used for calibration analysis in Phase 3.\n\nProvide:\n- outcome_values: Actual measured outcomes (e.g., {\"revenue\": 155000})\n- notes: Optional additional context",
        "operationId": "update_outcome_api_v1_outcomes__log_id__patch",
        "parameters": [
          {
            "description": "Outcome log ID",
            "in": "path",
            "name": "log_id",
            "required": true,
            "schema": {
              "description": "Outcome log ID",
              "title": "Log Id",
              "type": "string"
            }
          },
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutcomeUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeLog"
                }
              }
            },
            "description": "Outcome updated successfully"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Outcome log not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "503": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Outcome logging disabled"
          }
        },
        "summary": "Update Outcome",
        "tags": [
          "Outcome Logging"
        ]
      }
    },
    "/api/v1/robustness/analyze": {
      "post": {
        "description": "Verifies whether proposed intervention robustly achieves target outcomes\n    by exploring intervention space and identifying robust regions.\n\n    **FACET (Region-Based Robustness Analysis)**\n\n    Instead of asking \"What if price = \u00a355?\", FACET answers:\n    - \"Which price ranges reliably achieve \u00a395k-\u00a3105k revenue?\"\n    - \"How fragile is this recommendation to small changes?\"\n    - \"Do I have flexibility in implementation?\"\n\n    **Use this when:**\n    - Making high-stakes decisions\n    - Need confidence in recommendations\n    - Want to understand operating ranges\n    - Assessing strategy fragility\n\n    **Returns:**\n    - Robust intervention regions (e.g., \"price \u00a352-\u00a358 works\")\n    - Outcome guarantees (e.g., \"revenue \u00a395k-\u00a3105k\")\n    - Robustness score (0-1, higher = more robust)\n    - Fragility warnings\n    - Actionable recommendations\n\n    **Performance:** 1-5 seconds depending on samples and dimensions\n\n    **Example workflow:**\n    1. Get counterfactual: \"price=\u00a355 \u2192 revenue=\u00a3100k\"\n    2. Check robustness: Is this recommendation stable?\n    3. Receive: \"Any price \u00a352-\u00a358 works\" (robust) or \"Only \u00a354.8-\u00a355.2 works\" (fragile)\n    4. Decide: Proceed with confidence or revise strategy",
        "operationId": "analyze_robustness_api_v1_robustness_analyze_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__models__robustness__RobustnessRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__models__robustness__RobustnessResponse"
                }
              }
            },
            "description": "Robustness analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., malformed model)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Analyze robustness of counterfactual recommendation using FACET",
        "tags": [
          "FACET Robustness"
        ]
      }
    },
    "/api/v1/robustness/analyze/unified": {
      "post": {
        "description": "Unified endpoint that accepts both v1 and v2.2 request schemas.\n\n    Automatically detects schema version and routes to appropriate analyzer:\n    - If request contains `graph` + `options`: Uses v2.2 analyzer\n    - If request contains `causal_model`: Uses v1 analyzer\n\n    **Backward compatible** - existing v1 clients continue to work.",
        "operationId": "analyze_robustness_unified_api_v1_robustness_analyze_unified_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "title": "Request",
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/src__models__robustness__RobustnessResponse"
                    },
                    {
                      "$ref": "#/components/schemas/RobustnessResponseV2"
                    }
                  ],
                  "title": "Response Analyze Robustness Unified Api V1 Robustness Analyze Unified Post"
                }
              }
            },
            "description": "Analysis completed successfully"
          },
          "400": {
            "description": "Unknown schema format"
          },
          "422": {
            "description": "Validation error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Unified robustness analysis (auto-detects schema version)",
        "tags": [
          "FACET Robustness"
        ]
      }
    },
    "/api/v1/robustness/analyze/v2": {
      "post": {
        "description": "Performs robustness analysis with dual uncertainty support:\n    - **Structural uncertainty**: Probability that each edge exists (Bernoulli)\n    - **Parametric uncertainty**: Distribution over effect magnitude (Normal)\n\n    This enables answering:\n    - \"Is my decision robust to uncertainty about whether this relationship exists?\"\n    - \"Is my decision robust to the effect being stronger/weaker than estimated?\"\n\n    **Input schema (v2.2):**\n    - `graph`: Causal graph with nodes and edges\n    - `edges`: Each has `exists_probability` and `strength: {mean, std}`\n    - `options`: Decision alternatives to compare\n    - `goal_node_id`: Target outcome to optimize\n\n    **Output (response_version=1, default):**\n    - Outcome distributions per option\n    - Win probabilities\n    - Sensitivity to edge existence AND magnitude\n    - Overall robustness assessment\n\n    **Output (response_version=2):**\n    - All of the above, plus:\n    - Explicit status fields (analysis_status, robustness_status, factor_sensitivity_status)\n    - Structured critiques with severity levels\n    - Optional diagnostics (when include_diagnostics=true)\n    - Request echo for debugging\n\n    **Performance:** 100-2000ms depending on n_samples (default 1000)",
        "operationId": "analyze_robustness_v2_api_v1_robustness_analyze_v2_post",
        "parameters": [
          {
            "description": "Response format version (1=legacy, 2=enhanced)",
            "in": "query",
            "name": "response_version",
            "required": false,
            "schema": {
              "default": 1,
              "description": "Response format version (1=legacy, 2=enhanced)",
              "maximum": 2,
              "minimum": 1,
              "title": "Response Version",
              "type": "integer"
            }
          },
          {
            "description": "Include detailed diagnostics (V2 only)",
            "in": "query",
            "name": "include_diagnostics",
            "required": false,
            "schema": {
              "default": false,
              "description": "Include detailed diagnostics (V2 only)",
              "title": "Include Diagnostics",
              "type": "boolean"
            }
          },
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          },
          {
            "description": "Alternative way to specify response version via header",
            "in": "header",
            "name": "X-ISL-Response-Version",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Alternative way to specify response version via header",
              "title": "X-Isl-Response-Version"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RobustnessRequestV2"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ISLResponseV2"
                }
              }
            },
            "description": "Robustness analysis completed successfully"
          },
          "400": {
            "description": "Invalid input schema"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ISLV2Error422"
                }
              }
            },
            "description": "Validation error with structured critiques"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Analyze robustness with dual uncertainty (v2.2 schema)",
        "tags": [
          "FACET Robustness"
        ]
      }
    },
    "/api/v1/sensitivity/detailed": {
      "post": {
        "description": "Identify which assumptions/variables have highest impact on outcomes.\n\n    Provides:\n    - Assumption sensitivity rankings\n    - Impact assessments\n    - Critical variable identification\n\n    **Use when:** Understanding which assumptions matter most for decision robustness.",
        "operationId": "analyze_sensitivity_detailed_api_v1_sensitivity_detailed_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SensitivityDetailedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensitivityDetailedResponse"
                }
              }
            },
            "description": "Sensitivity analysis completed successfully"
          },
          "400": {
            "description": "Invalid graph structure"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Detailed sensitivity analysis",
        "tags": [
          "CEE Enhancement"
        ]
      }
    },
    "/api/v1/teaching/teach": {
      "post": {
        "description": "Generates pedagogically optimized teaching examples using Bayesian teaching.\n\n    Selects examples that maximize learning efficiency given user's current\n    understanding. Uses information theory to choose examples that most\n    efficiently teach the target concept.\n\n    **Algorithm:** Bayesian Teaching (Zhu et al.)\n    - Selects examples that maximize: P(understanding | example, current_beliefs)\n    - Considers novelty, clarity, and relevance\n    - Adapts to user's knowledge state\n\n    **Supported Concepts:**\n    - `confounding`: Understanding confounding variables and spurious correlations\n    - `trade_offs`: Understanding trade-offs between competing objectives\n    - `causal_mechanism`: Understanding causal mechanisms and pathways\n    - `uncertainty`: Understanding uncertainty and risk\n    - `optimization`: Understanding optimization under constraints\n\n    **Use when:**\n    - User needs to learn a specific concept\n    - Want to provide pedagogically optimal examples\n    - Need to adapt teaching to user's current understanding\n\n    **Returns:**\n    - Ranked teaching examples with pedagogical rationale\n    - Learning objectives\n    - Expected learning time\n    - Overall teaching strategy explanation",
        "operationId": "generate_teaching_examples_api_v1_teaching_teach_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BayesianTeachingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BayesianTeachingResponse"
                }
              }
            },
            "description": "Teaching examples generated successfully"
          },
          "400": {
            "description": "Invalid input (e.g., unknown concept)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Generate teaching examples",
        "tags": [
          "Bayesian Teaching"
        ]
      }
    },
    "/api/v1/team/align": {
      "post": {
        "description": "Identifies common ground across team perspectives and recommends\n    options that best satisfy all stakeholders.\n\n    Provides:\n    - Shared goals and constraints\n    - Options ranked by satisfaction score\n    - Identified conflicts with resolutions\n    - Top recommendation with rationale\n\n    **Use when:** Making decisions with multiple stakeholders.",
        "operationId": "align_team_api_v1_team_align_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TeamAlignmentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamAlignmentResponse"
                }
              }
            },
            "description": "Team alignment analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., no perspectives provided)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Find team alignment",
        "tags": [
          "Team Alignment"
        ]
      }
    },
    "/api/v1/utility/validate": {
      "post": {
        "description": "Validates a utility function specification for multi-goal aggregation.\n\n    **Input Shape:**\n    - `goals`: List of goals with optional weights, directions, and priorities\n    - `aggregation_method`: Method for combining goal values\n    - `risk_tolerance`: Risk attitude for utility computation\n\n    **Aggregation Methods:**\n    - `weighted_sum`: Linear combination U = \u03a3(w_i \u00d7 v_i) - Compensatory, allows trade-offs\n    - `weighted_product`: Geometric mean U = \u220f(v_i ^ w_i) - Balanced, penalizes low scores\n    - `lexicographic`: Priority-based sorting - Non-compensatory, no trade-offs\n    - `min_max`: Pessimistic U = min(v_i) - Focus on worst-case goal\n\n    **Default Behaviour (no weights specified):**\n    - Equal weighting: Each goal gets weight = 1/n\n    - Weights are always normalized to sum to 1.0\n\n    **Risk Tolerance:**\n    - `risk_neutral`: Use expected values only\n    - `risk_averse`: Penalize variance (requires risk_coefficient)\n    - `risk_seeking`: Prefer variance (optional risk_coefficient)\n\n    **Validation Checks:**\n    - Weight normalization (auto-normalizes with warning)\n    - Goal ID uniqueness\n    - Graph reference validation (if graph provided)\n    - Aggregation method compatibility\n    - Risk parameter validity\n\n    **Returns:**\n    - `valid`: Whether specification is valid for use\n    - `normalised_weights`: Weights after normalization\n    - `normalised_goals`: Full goal specifications after defaults applied\n    - `default_behaviour_applied`: List of defaults that were applied\n    - `warnings`: Non-fatal issues detected\n    - `errors`: Fatal issues (if valid=false)\n\n    **Use when:**\n    - Setting up multi-goal decision problems\n    - Validating utility specifications before aggregation\n    - Understanding what defaults will be applied",
        "operationId": "validate_utility_api_v1_utility_validate_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UtilityValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UtilityValidationResponse"
                }
              }
            },
            "description": "Validation completed (check 'valid' field for result)"
          },
          "400": {
            "description": "Invalid request format"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal validation error"
          }
        },
        "summary": "Validate utility function specification",
        "tags": [
          "Utility Functions"
        ]
      }
    },
    "/api/v1/validation/coherence": {
      "post": {
        "description": "Provides coherence checks for inference results including:\n\n    **Coherence Checks:**\n    - **Negative Expected Value**: Detects when top option has negative expected value\n    - **Close Races**: Detects when options are within the specified threshold\n    - **Ranking Instability**: Tests if rankings change under small perturbations\n\n    **Stability Classifications:**\n    - `stable`: Rankings change in <10% of perturbations\n    - `sensitive`: Rankings change in 10-30% of perturbations\n    - `unstable`: Rankings change in >30% of perturbations\n\n    **Analysis Features:**\n    - Margin-to-second calculation (absolute and percentage)\n    - Perturbation-based stability testing\n    - Identification of most frequent alternative top option\n    - Confidence interval overlap detection\n\n    **Returns:**\n    - Coherence analysis (top_option_positive, margin_to_second, ranking_stability)\n    - Stability analysis (perturbation results, change rate)\n    - Actionable recommendations\n    - Warnings for edge cases\n\n    **Use when:**\n    - Validating inference results before presenting to users\n    - Understanding decision robustness\n    - Identifying close races that need more analysis\n    - Integration with PLoT proxy for CEE narrative generation",
        "operationId": "analyze_coherence_api_v1_validation_coherence_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CoherenceAnalysisRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoherenceAnalysisResponse"
                }
              }
            },
            "description": "Coherence analysis completed successfully"
          },
          "400": {
            "description": "Invalid input (e.g., fewer than 2 options)"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Analyze coherence of inference results",
        "tags": [
          "Advanced Validation"
        ]
      }
    },
    "/api/v1/validation/correlations": {
      "post": {
        "description": "Validates correlation group specifications for factor sampling.\n\n    **Input Methods:**\n    1. **Correlation Groups**: List of groups with pairwise correlations\n    2. **Correlation Matrix**: Full n\u00d7n correlation matrix\n\n    **Correlation Group Schema:**\n    ```json\n    {\n      \"group_id\": \"market_conditions\",\n      \"factors\": [\"demand\", \"competition\"],\n      \"correlation\": 0.7,\n      \"label\": \"Market factors tend to move together\"\n    }\n    ```\n\n    **Validation Checks:**\n    - Correlation values in range [-1, 1]\n    - Matrix is positive semi-definite (required for sampling)\n    - Factor references exist in graph (if provided)\n    - No conflicting correlations between groups\n    - High correlation warnings (potential redundancy)\n\n    **Matrix Analysis:**\n    - `is_positive_semi_definite`: Can matrix be used for sampling?\n    - `min_eigenvalue`: Smallest eigenvalue (negative = not PSD)\n    - `condition_number`: Numerical stability indicator\n    - `suggested_regularization`: Fix for non-PSD matrices\n\n    **Returns:**\n    - `valid`: Whether specification is valid for sampling\n    - `validated_groups`: Per-group validation results\n    - `implied_matrix`: The full correlation matrix implied by groups\n    - `matrix_analysis`: Eigenvalue and PSD analysis\n    - `warnings`: Non-fatal issues (high correlations, etc.)\n    - `errors`: Fatal issues (not PSD, conflicting correlations)\n\n    **Use when:**\n    - Setting up correlated factor sampling for Monte Carlo\n    - Validating correlation assumptions from domain knowledge\n    - PLoT consuming correlation groups for scenario generation",
        "operationId": "validate_correlations_api_v1_validation_correlations_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CorrelationValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CorrelationValidationResponse"
                }
              }
            },
            "description": "Validation completed (check 'valid' field for result)"
          },
          "400": {
            "description": "Invalid request format"
          },
          "422": {
            "description": "Must provide correlation_groups or correlation_matrix"
          },
          "500": {
            "description": "Internal validation error"
          }
        },
        "summary": "Validate factor correlation specifications",
        "tags": [
          "Advanced Validation"
        ]
      }
    },
    "/api/v1/validation/feasibility": {
      "post": {
        "description": "Validates constraint specifications and checks which options satisfy\n    or violate the specified constraints.\n\n    **Constraint Types:**\n    - `threshold`: Value must be above/below threshold\n    - `budget`: Resource allocation constraint\n    - `capacity`: Maximum capacity constraint\n    - `dependency`: One option depends on another\n    - `exclusion`: Mutually exclusive options\n    - `requirement`: Required condition\n\n    **Constraint Relations:**\n    - `le`: Less than or equal (<=)\n    - `ge`: Greater than or equal (>=)\n    - `eq`: Equal (=)\n    - `lt`: Less than (<)\n    - `gt`: Greater than (>)\n\n    **Constraint Priorities:**\n    - `hard`: Must be satisfied (violation makes option infeasible)\n    - `medium`: Should be satisfied (violation reported)\n    - `soft`: Nice to have (only included if `include_partial_violations=true`)\n\n    **Returns:**\n    - Constraint validation results (are constraints properly specified?)\n    - Feasibility results (which options pass/fail?)\n    - Violation details (how much does each option violate?)\n    - Warnings (edge cases, near-misses)\n\n    **Use when:**\n    - Checking if decision options meet business constraints\n    - Filtering options before optimization\n    - Understanding why certain options are infeasible",
        "operationId": "check_feasibility_api_v1_validation_feasibility_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeasibilityRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeasibilityResponse"
                }
              }
            },
            "description": "Feasibility check completed successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Check option feasibility against constraints",
        "tags": [
          "Advanced Validation"
        ]
      }
    },
    "/api/v1/validation/strategies": {
      "post": {
        "description": "Suggest how to improve the causal model's reliability.\n\n    Provides:\n    - Data collection suggestions\n    - Model structure improvements\n    - Sensitivity testing recommendations\n\n    **Use when:** Identifying ways to strengthen model reliability and validity.",
        "operationId": "suggest_validation_strategies_api_v1_validation_strategies_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ValidationStrategiesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationStrategiesResponse"
                }
              }
            },
            "description": "Validation strategies generated successfully"
          },
          "400": {
            "description": "Invalid graph structure"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Model validation strategies",
        "tags": [
          "CEE Enhancement"
        ]
      }
    },
    "/api/v1/validation/validate": {
      "post": {
        "description": "Performs comprehensive validation of causal models.\n\n    **Validation Levels:**\n    - `BASIC`: Quick structural checks only\n    - `STANDARD`: Structural + statistical checks (default)\n    - `COMPREHENSIVE`: All checks + detailed analysis\n\n    **Validation Types:**\n    1. **Structural**: DAG properties, cycles, connectivity, size\n    2. **Statistical**: Distributions, parameters, equations\n    3. **Domain**: Best practices, naming conventions\n\n    **Target**: 90%+ issue detection rate\n\n    **Returns:**\n    - Overall quality assessment (EXCELLENT/GOOD/ACCEPTABLE/POOR)\n    - Numerical quality score (0-100)\n    - Detailed validation results by category\n    - Actionable suggestions for improvements\n    - Best practice adherence checks\n\n    **Use when:**\n    - Building a new causal model\n    - Before running causal inference\n    - Reviewing model quality\n    - Need suggestions for improvements",
        "operationId": "validate_model_api_v1_validation_validate_post",
        "parameters": [
          {
            "in": "header",
            "name": "X-Request-Id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Request-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdvancedValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdvancedValidationResponse"
                }
              }
            },
            "description": "Validation completed successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal computation error"
          }
        },
        "summary": "Perform advanced model validation",
        "tags": [
          "Advanced Validation"
        ]
      }
    },
    "/cache/stats": {
      "get": {
        "description": "Returns in-memory cache performance statistics for monitoring.",
        "operationId": "cache_stats_cache_stats_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Cache Stats Cache Stats Get",
                  "type": "object"
                }
              }
            },
            "description": "Cache statistics"
          }
        },
        "summary": "Cache statistics",
        "tags": [
          "Health"
        ]
      }
    },
    "/health": {
      "get": {
        "description": "Returns service health status for monitoring and load balancers.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            },
            "description": "Service is healthy"
          }
        },
        "summary": "Health check",
        "tags": [
          "Health"
        ]
      }
    },
    "/health/circuit-breakers": {
      "get": {
        "description": "Returns status of all circuit breakers for expensive operations monitoring.",
        "operationId": "circuit_breaker_status_health_circuit_breakers_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Circuit Breaker Status Health Circuit Breakers Get",
                  "type": "object"
                }
              }
            },
            "description": "Circuit breaker information"
          }
        },
        "summary": "Circuit breaker status",
        "tags": [
          "Health"
        ]
      }
    },
    "/health/services": {
      "get": {
        "description": "Returns health status of all monitored services for error recovery monitoring.",
        "operationId": "service_health_health_services_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Service Health Health Services Get",
                  "type": "object"
                }
              }
            },
            "description": "Service health information"
          }
        },
        "summary": "Service health status",
        "tags": [
          "Health"
        ]
      }
    },
    "/ready": {
      "get": {
        "description": "Returns service readiness status for Kubernetes-style readiness probes.",
        "operationId": "readiness_check_ready_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            },
            "description": "Service is ready to accept traffic"
          }
        },
        "summary": "Readiness check",
        "tags": [
          "Health"
        ]
      }
    }
  }
}
